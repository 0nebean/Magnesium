(function(e){function t(t){for(var r,n,i=t[0],l=t[1],u=t[2],p=0,d=[];p<i.length;p++)n=i[p],Object.prototype.hasOwnProperty.call(o,n)&&o[n]&&d.push(o[n][0]),o[n]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);c&&c(t);while(d.length)d.shift()();return s.push.apply(s,u||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],r=!0,i=1;i<a.length;i++){var l=a[i];0!==o[l]&&(r=!1)}r&&(s.splice(t--,1),e=n(n.s=a[0]))}return e}var r={},o={app:0},s=[];function n(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=r,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(a,r,function(t){return e[t]}.bind(null,r));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var u=0;u<i.length;u++)t(i[u]);var c=l;s.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"3c3b":function(e,t,a){"use strict";var r=a("9a5a"),o=a.n(r);o.a},"4ffd":function(e,t,a){e.exports=a.p+"img/logo.7b32a7de.png"},"522b":function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var r,o=a("2b0e"),s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"layout"},[a("Layout",{style:{minHeight:"100vh"}},[a("Menu",{attrs:{mode:"horizontal",theme:"primary","active-name":"1"}},[a("div",{staticClass:"layout-logo",style:{backgroundImage:"url("+e.logoImg+")"}}),a("div",{staticClass:"layout-logo-title"},[a("span",{staticClass:"logo-title"},[e._v("网关控制台")])]),a("div",{staticClass:"layout-nav"},[a("span",{staticClass:"nav-username"},[e._v(e._s(this.$store.state.uagCurrentLoginUserInfo.uagUserNickName))]),a("a",{staticClass:"nav-logout",on:{click:e.doLogOut}},[a("Icon",{staticClass:"logout-icon",attrs:{type:"md-exit"}}),e._v("退出登录 ")],1)])]),a("Layout",[a("Sider",{style:{background:"#fff"},attrs:{"hide-trigger":""}},[a("Menu",{ref:"side_menu",attrs:{"active-name":this.utils.routerUtil.getParentPath(this.$route.path),theme:"light",width:"auto"},on:{"on-select":e.routerFrame}},e._l(e.menuList,(function(t,r){return a("MenuItem",{key:r,attrs:{name:t.path},on:{click:function(a){return e.routerFrame(t.path)}}},[a("Icon",{attrs:{type:t.icon}}),e._v(" "+e._s(t.name)+" ")],1)})),1)],1),a("Content",[a("div",{staticStyle:{height:"600px"}},[a("router-view")],1)])],1)],1)],1)},n=[],i=a("4ffd"),l=a.n(i),u={data:function(){return{menuList:[],logoImg:l.a}},computed:{menuActiveName:function(){return this.$route.path}},created:function(){},mounted:function(){this.initMenu(),this.getCurrentLoginInfo()},methods:{getCurrentLoginInfo:function(){var e=this;this.utils.netUtil.post(this.API_PTAH.getCurrentUagLoginInfo,{},(function(t){e.$store.commit("loadCurrentLoginUserInfo",t.data.data)}))},initMenu:function(){var e=this;this.menuList=this.utils.routerUtil.getRouterMenu(),this.$nextTick((function(){e.$refs.side_menu.updateOpened(),e.$refs.side_menu.updateActiveName()}))},routerFrame:function(e){this.$router.push(e)},doLogOut:function(){this.utils.netUtil.post(this.API_PTAH.logout,{},(function(e){e.data.data&&location.reload()}))}}},c=u,p=(a("b593"),a("2877")),d=Object(p["a"])(c,s,n,!1,null,"77577e0b",null),m=d.exports,f=a("f825"),h=a.n(f),g=(a("8b5e"),a("99af"),a("d3b7"),a("96cf"),a("1da1")),v=a("bc3a"),b=a.n(v),I={},y=b.a.CancelToken;b.a.interceptors.request.use((function(e){return I[e.url]?(I[e.url]("cancel"),I[e.url]=r):I[e.url]=r,e}),(function(e){return Promise.reject(e)})),b.a.interceptors.response.use((function(e){return e}),(function(e){if(e&&e.response)switch(e.response.status){case 400:e.message="错误请求";break;case 401:e.message="未授权，请重新登录";break;case 403:e.message="拒绝访问";break;case 404:e.message="请求错误,未找到该资源";break;case 405:e.message="请求方法未允许";break;case 408:e.message="请求超时";break;case 500:e.message="服务器端出错";break;case 501:e.message="网络未实现";break;case 502:e.message="网络错误";break;case 503:e.message="服务不可用";break;case 504:e.message="网络超时";break;case 505:e.message="http版本不支持该请求";break;default:e.message="连接错误".concat(e.response.status)}else"cancel"!=e.message&&(e.message="连接到服务器失败");return"cancel"!=e.message&&f["Message"].error(e.message),Promise.resolve(e.response)})),b.a.defaults.baseURL="",b.a.defaults.headers={"Content-Type":"application/json",Accept:"application/json"},b.a.defaults.timeout=5e4;var F={postAsync:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(t,a){var o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,b()({method:"post",url:t,data:a,cancelToken:new y((function(e){r=e}))});case 2:if(o=e.sent,"undefined"!=typeof o){e.next=6;break}return console.log("response is undefined,may be the request is cancelled"),e.abrupt("return");case 6:return"0"!=o.data.errCode&&"undefined"!=typeof o.data.errCode&&f["Message"].error("请求失败 错误码 ".concat(o.data.errCode," 错误信息: ").concat(o.data.errMsg)),e.abrupt("return",o.data.data);case 8:case"end":return e.stop()}}),e)})));function t(t,a){return e.apply(this,arguments)}return t}(),post:function(e,t,a,o){var s={"Content-Type":"application/json",Accept:"application/json"};b()({headers:s,method:"post",url:e,data:t,cancelToken:new y((function(e){r=e}))}).then((function(e){"undefined"!=typeof e?"0"===e.data.errCode?a(e):("undefined"!=typeof e.data.errCode&&f["Message"].error("请求失败 错误码 ".concat(e.data.errCode," 错误信息: ").concat(e.data.errMsg)),"undefined"!=typeof o&&o(e)):console.log("response is undefined,may be the request is cancelled")}))}},S=(a("c975"),a("baa5"),a("a434"),a("53ca")),A={copyObj:function(e){var t,a={};for(t in e)a[t]=e[t];return a},uniqueArray:function(e){for(var t=[e[0]],a=1;a<e.length;a++){for(var r=e[a],o=!1,s=0;s<t.length;s++)if(r===t[s]){o=!0;break}o||t.push(r)}return t},removeEmptyValueInArray:function(e){for(var t=0;t<e.length;t++)""!=e[t]&&null!=e[t]&&void 0!=Object(S["a"])(e[t])||(e.splice(t,1),t-=1);return this.uniqueArray(e)}};Array.prototype.indexOf=function(e){for(var t=0;t<this.length;t++)if(this[t]==e)return t;return-1},Array.prototype.remove=function(e){var t=this.indexOf(e);t>-1&&this.splice(t,1)},A.subStringAfterTarget=function(e,t){return t.substr(t.lastIndexOf(e)+e.length,t.length)},A.subStringCutEnd=function(e,t){return t.substr(0,t.length-e)};var N=A,P=(a("4160"),a("d81d"),a("fb6a"),a("ac1f"),a("1276"),a("159b"),a("8c4f")),$=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"layout"},[a("Layout",[a("NavBar"),a("Content",{style:{margin:"20px 20px 0",background:"#fff",minHeight:"720px"}},[a("router-view")],1)],1)],1)},D=[],_=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Menu",{attrs:{mode:"horizontal",theme:"light","active-name":this.utils.routerUtil.getRouterFirstPath(this.$route.path)}},[a("router-link",{attrs:{to:"/app-info-list",replace:""}},[a("MenuItem",{attrs:{name:"/app-info-list"}},[a("Icon",{attrs:{type:"ios-construct"}}),e._v(" 应用管理 ")],1)],1),a("router-link",{attrs:{to:"/server-info-list",replace:""}},[a("MenuItem",{attrs:{name:"/server-info-list"}},[a("Icon",{attrs:{type:"md-analytics"}}),e._v(" 服务管理 ")],1)],1),a("router-link",{attrs:{to:"/server-machine-node-info-list",replace:""}},[a("MenuItem",{attrs:{name:"/server-machine-node-info-list"}},[a("Icon",{attrs:{type:"ios-aperture"}}),e._v(" 服务器节点管理 ")],1)],1),a("router-link",{attrs:{to:"/upsteam-node-info-list",replace:""}},[a("MenuItem",{attrs:{name:"/upsteam-node-info-list"}},[a("Icon",{attrs:{type:"md-cloud-done"}}),e._v(" 服务节点管理 ")],1)],1)],1)},k=[],w={computed:{},data:function(){return{}}},L=w,T=Object(p["a"])(L,_,k,!1,null,null,null),B=T.exports,x={components:{NavBar:B},mounted:function(){this.utils.frameUtil.getCurrentLoginUserInfo(this.$store)}},U=x,O=(a("3c3b"),Object(p["a"])(U,$,D,!1,null,"83ec6710",null)),M=O.exports,C=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"layout"},[a("Layout",[a("NavBar"),a("Content",{style:{margin:"20px 20px 0",background:"#fff",minHeight:"720px"}},[a("router-view")],1)],1)],1)},R=[],z=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Menu",{attrs:{mode:"horizontal",theme:"light","active-name":this.utils.routerUtil.getRouterFirstPath(this.$route.path)}},[a("router-link",{attrs:{to:"/uag-userinfo-list",replace:""}},[a("MenuItem",{attrs:{name:"/uag-userinfo-list"}},[a("Icon",{attrs:{type:"md-contacts"}}),e._v(" 用户管理 ")],1)],1),a("router-link",{attrs:{to:"/uag-log-list",replace:""}},[a("MenuItem",{attrs:{name:"/uag-log-list"}},[a("Icon",{attrs:{type:"md-list"}}),e._v(" 操作日志 ")],1)],1),a("router-link",{attrs:{to:"/sms-record-list",replace:""}},[a("MenuItem",{attrs:{name:"/sms-record-list"}},[a("Icon",{attrs:{type:"md-list"}}),e._v(" 短信发送记录 ")],1)],1)],1)},E=[],q={computed:{},data:function(){return{}}},V=q,H=Object(p["a"])(V,z,E,!1,null,null,null),G=H.exports,j={components:{NavBar:G},mounted:function(){this.utils.frameUtil.getCurrentLoginUserInfo(this.$store)}},K=j,Z=(a("8d62"),Object(p["a"])(K,C,R,!1,null,"59d3fe37",null)),W=Z.exports,J=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Row",[a("i-col",{staticClass:"bread-crumb",attrs:{span:"24"}},[a("Breadcrumb",e._l(e.breadcrumbList,(function(t,r){return a("BreadcrumbItem",{key:r,attrs:{to:t.path}},[a("Icon",{attrs:{type:t.icon}}),e._v(" "+e._s(t.name)+" ")],1)})),1)],1)],1),a("Divider"),a("router-view"),a("Form",{ref:"queryParamFrom",staticClass:"query-pram-from",attrs:{model:e.paramData.data}},[a("Row",[a("i-col",{staticClass:"page-col",attrs:{span:"4",offset:"1"}},[a("FormItem",{attrs:{prop:"serverName"}},[a("i-input",{attrs:{type:"text",placeholder:"服务名称"},model:{value:e.paramData.data.serverName,callback:function(t){e.$set(e.paramData.data,"serverName",t)},expression:"paramData.data.serverName"}})],1)],1),a("i-col",{staticClass:"page-col",attrs:{span:"2",offset:"1"}},[a("FormItem",{attrs:{prop:"upsteamNodeName"}},[a("i-input",{attrs:{type:"text",placeholder:"服务节点名称"},model:{value:e.paramData.data.upsteamNodeName,callback:function(t){e.$set(e.paramData.data,"upsteamNodeName",t)},expression:"paramData.data.upsteamNodeName"}})],1)],1),a("i-col",{staticClass:"page-col",attrs:{span:"2",offset:"1"}},[a("FormItem",{attrs:{prop:"selectedVersion"}},[a("i-input",{attrs:{type:"text",placeholder:"暴露的版本"},model:{value:e.paramData.data.selectedVersion,callback:function(t){e.$set(e.paramData.data,"selectedVersion",t)},expression:"paramData.data.selectedVersion"}})],1)],1),a("i-col",{staticClass:"page-col",attrs:{span:"2",offset:"1"}},[a("FormItem",{attrs:{prop:"deployType"}},[a("Select",{staticStyle:{width:"200px"},attrs:{placeholder:"部署方式",clearable:""},on:{"on-change":e.getdata},model:{value:e.paramData.data.deployType,callback:function(t){e.$set(e.paramData.data,"deployType",t)},expression:"paramData.data.deployType"}},e._l(e.deployTypeEunmArr,(function(t){return a("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.label))])})),1)],1)],1),a("i-col",{staticClass:"button-group",attrs:{span:"5",offset:"17"}},[a("Button",{attrs:{type:"info"},on:{click:function(t){return e.pushAdd()}}},[e._v("新增")]),a("Button",{attrs:{type:"success"},on:{click:function(t){return e.getdata()}}},[e._v("查询")]),a("Button",{attrs:{type:"warning"},on:{click:function(t){return e.handleReset()}}},[e._v("重置")]),a("Button",{attrs:{type:"primary"},on:{click:function(t){return e.syncOpenrestyNodeInfo()}}},[e._v("同步服务信息")])],1)],1)],1),a("br"),a("Table",{staticClass:"list-button-group",attrs:{border:"",columns:e.columns,data:e.tableData},scopedSlots:e._u([{key:"action",fn:function(t){var r=t.row,o=t.index;return[a("Button",{staticStyle:{"margin-right":"5px"},attrs:{type:"warning",size:"small"},on:{click:function(t){return e.pushApiList(r.id)}}},[e._v("接口管理")]),a("Button",{staticStyle:{"margin-right":"5px"},attrs:{type:"primary",size:"small"},on:{click:function(t){return e.pushEditor(r.id)}}},[e._v("编辑服务")]),a("Button",{attrs:{type:"error",size:"small",disabled:e.globalButtonLoding},on:{click:function(t){return e.deleteData(r.id,o)}}},[e._v("删除服务")])]}}])}),a("Row",[a("i-col",{staticClass:"page-col",attrs:{span:"6",offset:"17"}},[a("Page",{staticClass:"pagination",attrs:{total:e.paramData.data.totalCount,current:e.paramData.data.currentPage,"page-size":e.paramData.data.pageSize,"show-sizer":""},on:{"on-change":e.handlePage,"on-page-size-change":e.handlePageSize}})],1)],1),e.globalScreenLoding?a("Spin",{attrs:{size:"large",fix:""}}):e._e()],1)},Q=[],X={data:function(){return{routerPath:this.$route.path,deployTypeEunmArr:[{value:"0",label:"物理部署"},{value:"1",label:"kubernetes部署"}],paramData:{data:{serverName:"",selectedVersion:"",upsteamNodeName:"",deployType:""},page:{currentPage:1,pageSize:10},sort:{orderBy:"id",sort:"desc"}},columns:[{title:"服务名称",key:"serverName"},{title:"服务节点",key:"upsteamNodeName"},{title:"部署方式",key:"deployType"},{title:"暴露的版本",key:"selectedVersion"},{title:"域名",key:"serverHost"},{title:"修改时间",key:"updateTime"},{title:"操作",slot:"action",width:300,align:"center"}],tableData:[]}},computed:{breadcrumbList:function(){return this.utils.routerUtil.initRouterTreeNameArr(this.routerPath)},globalScreenLoding:function(){return this.$store.state.globalScreenLoding},globalButtonLoding:function(){return this.$store.state.globalButtonLoding}},mounted:function(){this.getdata()},methods:{handlePage:function(e){this.paramData.page.currentPage=e,this.getdata()},handlePageSize:function(e){this.paramData.page.pageSize=e,this.getdata()},rowClassName:function(e,t){return this.utils.styleUtil.initTableListRowClass(t)},getdata:function(){var e=this;this.utils.netUtil.post(this.API_PTAH.serverInfoFind,this.paramData,(function(t){e.tableData=t.data.data,e.paramData.data.totalCount=t.data.page.totalCount,e.paramData.data.pageSize=t.data.page.pageSize,e.paramData.data.currentPage=t.data.page.currentPage}))},deleteData:function(e,t){var a=this;this.$store.commit("statusGlobalButtonLoding"),this.$Modal.confirm({title:"警告",content:"确认删除该条数据吗",onOk:function(){a.utils.netUtil.post(a.API_PTAH.serverInfoDelete,{id:e},(function(e){e.data,a.tableData.splice(t,1),a.$store.commit("statusGlobalButtonLoding"),a.$Message.success("删除成功!")}),(function(){a.$store.commit("statusGlobalButtonLoding")}))},onCancel:function(){a.$store.commit("statusGlobalButtonLoding")}})},syncOpenrestyNodeInfo:function(){var e=this;this.$store.commit("statusGlobalScreenLoding"),this.utils.netUtil.post(this.API_PTAH.syncServerMachineNodeInfo,{},(function(){e.$store.commit("statusGlobalScreenLoding"),e.$Message.success("同步数据成功!")}),(function(){e.$store.commit("statusGlobalScreenLoding")}))},handleReset:function(){this.$refs.queryParamFrom.resetFields(),this.getdata()},pushAdd:function(){this.$router.push("".concat(this.$route.path,"/server-info-add"))},pushEditor:function(e){this.$router.push({path:"".concat(this.$route.path,"/server-info-editor/").concat(e)})},pushApiList:function(e){this.$router.push({path:"".concat(this.$route.path,"/api-info-list/").concat(e)})}}},Y=X,ee=Object(p["a"])(Y,J,Q,!1,null,null,null),te=ee.exports,ae=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Row",[a("i-col",{staticClass:"bread-crumb",attrs:{span:"24"}},[a("Breadcrumb",e._l(e.breadcrumbList,(function(t,r){return a("BreadcrumbItem",{key:r,attrs:{to:t.path}},[a("Icon",{attrs:{type:t.icon}}),e._v(" "+e._s(t.name)+" ")],1)})),1)],1)],1),a("Divider"),a("Row",[a("i-col",{attrs:{span:"12",offset:"6"}},[a("Form",{ref:"serverInfoFrom",attrs:{model:e.serverInfoFrom,rules:e.serverInfoFromValidate,"label-width":120}},[a("FormItem",{attrs:{label:"服务名称",prop:"serverName"}},[a("i-input",{attrs:{placeholder:"请输入服务名称"},model:{value:e.serverInfoFrom.serverName,callback:function(t){e.$set(e.serverInfoFrom,"serverName",t)},expression:"serverInfoFrom.serverName"}})],1),a("FormItem",{attrs:{label:"服务节点",prop:"upsteamNodeName"}},[a("Select",{attrs:{filterable:"",clearable:"",remote:"","label-in-value":!0,"remote-method":e.queryUpSteamInfo,placeholder:"请搜索以选择服务节点",loading:e.isLoadingUpSteamNodeInfo},on:{"on-change":e.upSteamNameChanged},model:{value:e.serverInfoFrom.upsteamNodeName,callback:function(t){e.$set(e.serverInfoFrom,"upsteamNodeName",t)},expression:"serverInfoFrom.upsteamNodeName"}},e._l(e.upSteamNodeInfo,(function(t,r){return a("Option",{key:r,attrs:{value:t.upsteamName}},[e._v(e._s(t.upsteamName)+" - "+e._s("0"==t.deployType?"物理部署":"kubernetes部署"))])})),1),e.isPhysicalDeployment?a("upSteamName"):e._e()],1),e.isPhysicalDeployment?e._e():a("FormItem",{attrs:{label:"暴露的版本",prop:"selectedVersion"}},[a("Select",{attrs:{placeholder:"选择暴露的版本"},on:{"on-change":function(t){return e.updateSelectedVersion()}},model:{value:e.serverInfoFrom.selectedVersion,callback:function(t){e.$set(e.serverInfoFrom,"selectedVersion",t)},expression:"serverInfoFrom.selectedVersion"}},e._l(e.selectedVersionEunmArr,(function(t){return a("Option",{key:t.version,attrs:{value:t.version,disabled:t.disabled}},[e._v(e._s(t.version))])})),1)],1),a("FormItem",{attrs:{label:"是否需要域名",prop:"isFront"}},[a("i-switch",{attrs:{"true-value":e.yesOrNoEunm.yes,"false-value":e.yesOrNoEunm.no},on:{"on-change":function(t){return e.cleanNeedHost()}},model:{value:e.serverInfoFrom.isFront,callback:function(t){e.$set(e.serverInfoFrom,"isFront",t)},expression:"serverInfoFrom.isFront"}})],1),e.showOnNeedHost()?a("FormItem",{attrs:{label:"监听端口号",prop:"listenPort"}},[a("i-input",{attrs:{placeholder:"请输入监听端口号"},model:{value:e.serverInfoFrom.listenPort,callback:function(t){e.$set(e.serverInfoFrom,"listenPort",t)},expression:"serverInfoFrom.listenPort"}})],1):e._e(),e.showOnNeedHost()?a("FormItem",{attrs:{label:"域名",prop:"serverHost"}},[a("i-input",{attrs:{placeholder:"请输域名"},model:{value:e.serverInfoFrom.serverHost,callback:function(t){e.$set(e.serverInfoFrom,"serverHost",t)},expression:"serverInfoFrom.serverHost"}})],1):e._e(),e.showOnNeedHost()?a("FormItem",{attrs:{label:"是否开启ssl",prop:"isSsl"}},[a("i-switch",{attrs:{"true-value":e.yesOrNoEunm.yes,"false-value":e.yesOrNoEunm.no},on:{"on-change":function(t){return e.cleanSslOn()}},model:{value:e.serverInfoFrom.isSsl,callback:function(t){e.$set(e.serverInfoFrom,"isSsl",t)},expression:"serverInfoFrom.isSsl"}})],1):e._e(),e.showOnSslOn()?a("FormItem",{attrs:{label:"ssl监听端口号",prop:"sslListenPort"}},[a("i-input",{attrs:{placeholder:"请输入ssl监听端口号"},model:{value:e.serverInfoFrom.sslListenPort,callback:function(t){e.$set(e.serverInfoFrom,"sslListenPort",t)},expression:"serverInfoFrom.sslListenPort"}})],1):e._e(),e.showOnSslOn()?a("FormItem",{attrs:{label:"证书key路径",prop:"sslCrtKeyPath"}},[a("i-input",{attrs:{placeholder:"请输入证书key路径"},model:{value:e.serverInfoFrom.sslCrtKeyPath,callback:function(t){e.$set(e.serverInfoFrom,"sslCrtKeyPath",t)},expression:"serverInfoFrom.sslCrtKeyPath"}})],1):e._e(),e.showOnSslOn()?a("FormItem",{attrs:{label:"证书路径",prop:"sslCrtPath"}},[a("i-input",{attrs:{placeholder:"请输入证书路径"},model:{value:e.serverInfoFrom.sslCrtPath,callback:function(t){e.$set(e.serverInfoFrom,"sslCrtPath",t)},expression:"serverInfoFrom.sslCrtPath"}})],1):e._e(),a("FormItem",[a("Button",{attrs:{type:"primary",disabled:e.globalButtonLoding},on:{click:function(t){return e.handleSubmit("serverInfoFrom")}}},[e._v("提交")]),a("Button",{staticStyle:{"margin-left":"8px"},on:{click:function(t){return e.handleReset("serverInfoFrom")}}},[e._v("重置")])],1)],1)],1)],1),e.globalScreenLoding?a("Spin",{attrs:{size:"large",fix:""}}):e._e()],1)},re=[],oe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a",{attrs:{type:"primary"},on:{click:function(t){return e.showDataList()}}},[e._v("管理服务节点名称")]),a("Drawer",{attrs:{title:"服务节点",width:"512",closable:!1},model:{value:e.showDataListState,callback:function(t){e.showDataListState=t},expression:"showDataListState"}},[a("Button",{attrs:{type:"info"},on:{click:function(t){e.showAddFrom=!0}}},[e._v("新增")]),a("Divider"),a("Table",{attrs:{columns:e.columns,data:e.listData},scopedSlots:e._u([{key:"action",fn:function(t){var r=t.row,o=t.index;return e.showOnPhysicalDeployment(r.deployType)?[a("a",{on:{click:function(t){return e.deleteData(r.id,o)}}},[e._v("删除")])]:void 0}}],null,!0)})],1),a("Drawer",{attrs:{title:"新增服务节点",closable:!1},on:{"on-close":e.onCloseAddView},model:{value:e.showAddFrom,callback:function(t){e.showAddFrom=t},expression:"showAddFrom"}},[a("Form",{ref:"addDataParam",attrs:{"label-width":80,rules:e.validateRule,model:e.addDataParam}},[a("FormItem",{attrs:{label:"节点名称",prop:"upsteamName"}},[a("i-input",{attrs:{placeholder:"请输入应用名称"},model:{value:e.addDataParam.upsteamName,callback:function(t){e.$set(e.addDataParam,"upsteamName",t)},expression:"addDataParam.upsteamName"}})],1),a("br"),a("br"),a("br"),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:function(t){return e.handleSubmit("addDataParam")}}},[e._v("提交")])],1)],1)],1)],1)},se=[],ne={data:function(){return{paramData:{data:{upsteamName:""},page:{currentPage:1,pageSize:10},sort:{orderBy:"id",sort:"desc"}},addDataParam:{upsteamName:"",deployType:"0"},validateRule:{upsteamName:[{required:!0,max:30,pattern:/^[A-Za-z]+[A-Za-z-]*[A-Za-z]+$/,message:"服务节点名称不能为空,最多30个字符,必须以英文开头和结尾只能包含中横线 [ - ]",trigger:"blur"}]},showDataListState:!1,showAddFrom:!1,columns:[{title:"节点名称",key:"upsteamName"},{title:"操作",slot:"action",width:250,align:"center"}],listData:[]}},mounted:function(){},methods:{showOnPhysicalDeployment:function(e){return"0"===e},handleSubmit:function(e){var t=this;this.$refs[e].validate((function(e){e?t.commitData():t.$Message.error("请完善表单信息!")}))},showDataList:function(){this.showDataListState=!0,0==this.listData.length&&this.getDataList()},getDataList:function(){var e=this;this.utils.netUtil.post(this.API_PTAH.upSteamNameFind,this.paramData,(function(t){e.listData=t.data.data}))},deleteData:function(e,t){var a=this;this.$Modal.confirm({title:"警告",content:"确认删除该条数据吗",onOk:function(){a.utils.netUtil.post(a.API_PTAH.upSteamNameDelete,{id:e},(function(){a.listData.splice(t,1),a.$Message.success("删除成功!")}))}})},commitData:function(){var e=this;this.utils.netUtil.post(this.API_PTAH.upSteamNameAdd,this.addDataParam,(function(){e.addDataParam.upsteamName="",e.showAddFrom=!1,e.$Message.success("提交成功!"),e.getDataList()}))},onCloseAddView:function(){this.addDataParam.upsteamName=""}}},ie=ne,le=Object(p["a"])(ie,oe,se,!1,null,null,null),ue=le.exports,ce={data:function(){return{isLoadingUpSteamNodeInfo:!1,isPhysicalDeployment:!0,selectedVersionEunmArr:[],upSteamNodeInfo:[],routerPath:this.$route.path,serverInfoFrom:{listenPort:"",sslListenPort:"",serverHost:"",sslCrtKeyPath:"",sslCrtPath:"",serverName:"",upsteamNodeName:"",selectedVersion:"",deployType:"0",isSsl:"0",isFront:"0"},yesOrNoEunm:{no:"0",yes:"1"},serverInfoFromValidate:{listenPort:[{required:!0,pattern:/^[0-9]{2,6}$/,message:"监听端口号输入不正确",trigger:"blur"}],sslListenPort:[{required:!0,pattern:/^[0-9]{2,6}$/,message:"ssl监听端口号输入不正确",trigger:"blur"}],serverHost:[{required:!0,pattern:/^([A-Za-z0-9]+[-]?[A-Za-z0-9]+[.]{1}[A-Za-z0-9]+[-]?[A-Za-z0-9]+[.]{1}[A-Za-z0-9]+[\s]?)+$/,message:"域名由英文字母,数字开头可以包含符号[-],多个域名用空格分隔",trigger:"blur"}],sslCrtKeyPath:[{required:!0,pattern:/^\/\S*[A-Za-z0-9]+$/,message:"证书key路径不能为空,并且只能以`/`开头 英文或数字结尾",trigger:"blur"}],sslCrtPath:[{required:!0,pattern:/^\/\S*[A-Za-z0-9]+$/,message:"证书路径不能为空,并且只能以`/`开头 英文或数字结尾",trigger:"blur"}],isSsl:[{required:!0,message:"是否开启ssl不能为空",trigger:"change"}],isFront:[{required:!0,message:"是否需要域名不能为空",trigger:"change"}],selectedVersion:[{required:!0,message:"暴露的版本不能为空",trigger:"change"}],serverName:[{required:!0,message:"服务名称不能为空",trigger:"blur"}],upsteamNodeName:[{required:!0,message:"服务节点不能为空",trigger:"blur"}]}}},components:{upSteamName:ue},computed:{breadcrumbList:function(){return this.utils.routerUtil.initRouterTreeNameArr(this.routerPath)},globalScreenLoding:function(){return this.$store.state.globalScreenLoding},globalButtonLoding:function(){return this.$store.state.globalButtonLoding}},methods:{queryUpSteamInfo:function(e){var t=this;""!==e?(this.isLoadingUpSteamNodeInfo=!0,this.utils.netUtil.post(this.API_PTAH.upSteamNameFind,{data:{nodeName:e,physicalPath:""},page:{currentPage:1,pageSize:1e4},sort:{orderBy:"id",sort:"desc"}},(function(e){t.isLoadingUpSteamNodeInfo=!1,t.upSteamNodeInfo=e.data.data}))):this.upSteamNodeInfo=[]},handleSubmit:function(e){var t=this;this.$refs[e].validate((function(e){e?t.commitData():t.$Message.error("请完善表单信息!")}))},handleReset:function(e){this.clearVersionList(),this.$refs[e].resetFields()},commitData:function(){var e=this;this.$store.commit("statusGlobalButtonLoding"),this.isPhysicalDeployment&&this.clearVersionList(),this.utils.netUtil.post(this.API_PTAH.serverInfoAdd,this.serverInfoFrom,(function(){e.$Message.success("提交成功!"),e.$store.commit("statusGlobalButtonLoding"),e.$router.push("/server-info-list")}),(function(){e.$store.commit("statusGlobalButtonLoding")}))},upSteamNameChanged:function(e){if("undefined"!=typeof e){var t=e.label;t=this.utils.objectUtil.subStringAfterTarget("- ",t),this.isPhysicalDeployment="物理部署"===t,this.serverInfoFrom.deployType=this.isPhysicalDeployment?"0":"1",this.isPhysicalDeployment||this.findVersionListByNodeName()}},findVersionListByNodeName:function(){var e=this;this.utils.netUtil.post(this.API_PTAH.findVersionListByNodeName,this.serverInfoFrom,(function(t){e.selectedVersionEunmArr=t.data.data}))},updateSelectedVersion:function(){var e=this;this.loading=!this.loading,this.utils.netUtil.post(this.API_PTAH.updateSelectedVersion,this.serverInfoFrom,(function(t){t.data.data&&(e.loading=!e.loading,e.$Message.success("版本信息切换成功！"))}),(function(){e.loading=!e.loading}))},clearVersionList:function(){this.serverInfoFrom.selectedVersion="",this.selectedVersionEunmArr=[]},showOnNeedHost:function(){return"1"===this.serverInfoFrom.isFront},showOnSslOn:function(){return"1"===this.serverInfoFrom.isSsl},cleanNeedHost:function(){this.serverInfoFrom.serverHost="",this.serverInfoFrom.listenPort="",this.serverInfoFrom.isSsl="0",this.cleanSslOn()},cleanSslOn:function(){this.serverInfoFrom.sslListenPort="",this.serverInfoFrom.sslCrtKeyPath="",this.serverInfoFrom.sslCrtPath=""}}},pe=ce,de=Object(p["a"])(pe,ae,re,!1,null,null,null),me=de.exports,fe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Row",[a("i-col",{staticClass:"bread-crumb",attrs:{span:"24"}},[a("Breadcrumb",e._l(e.breadcrumbList,(function(t,r){return a("BreadcrumbItem",{key:r,attrs:{to:t.path}},[a("Icon",{attrs:{type:t.icon}}),e._v(" "+e._s(t.name)+" ")],1)})),1)],1)],1),a("Divider"),a("Row",[a("i-col",{attrs:{span:"12",offset:"6"}},[a("Form",{ref:"serverInfoFrom",attrs:{model:e.serverInfoFrom,rules:e.serverInfoFromValidate,"label-width":120}},[a("FormItem",{attrs:{label:"服务名称",prop:"serverName"}},[a("i-input",{attrs:{placeholder:"请输入服务名称"},model:{value:e.serverInfoFrom.serverName,callback:function(t){e.$set(e.serverInfoFrom,"serverName",t)},expression:"serverInfoFrom.serverName"}})],1),a("FormItem",{attrs:{label:"服务节点",prop:"upsteamNodeName"}},[a("Select",{attrs:{filterable:"",clearable:"",remote:"","label-in-value":!0,"remote-method":e.queryUpSteamInfo,placeholder:"请搜索以选择服务节点",loading:e.isLoadingUpSteamNodeInfo},on:{"on-change":e.upSteamNameChanged},model:{value:e.serverInfoFrom.upsteamNodeName,callback:function(t){e.$set(e.serverInfoFrom,"upsteamNodeName",t)},expression:"serverInfoFrom.upsteamNodeName"}},e._l(e.upSteamNodeInfo,(function(t,r){return a("Option",{key:r,attrs:{value:t.upsteamName}},[e._v(e._s(t.upsteamName)+" - "+e._s("0"==t.deployType?"物理部署":"kubernetes部署"))])})),1),e.isPhysicalDeployment?a("upSteamName"):e._e()],1),e.isPhysicalDeployment?e._e():a("FormItem",{attrs:{label:"暴露的版本",prop:"selectedVersion"}},[a("Select",{attrs:{placeholder:"选择暴露的版本"},on:{"on-change":function(t){return e.updateSelectedVersion()}},model:{value:e.serverInfoFrom.selectedVersion,callback:function(t){e.$set(e.serverInfoFrom,"selectedVersion",t)},expression:"serverInfoFrom.selectedVersion"}},e._l(e.selectedVersionEunmArr,(function(t){return a("Option",{key:t.version,attrs:{value:t.version,disabled:t.disabled}},[e._v(e._s(t.version))])})),1)],1),a("FormItem",{attrs:{label:"是否需要域名",prop:"isFront"}},[a("i-switch",{attrs:{"true-value":e.yesOrNoEunm.yes,"false-value":e.yesOrNoEunm.no},on:{"on-change":function(t){return e.cleanNeedHost()}},model:{value:e.serverInfoFrom.isFront,callback:function(t){e.$set(e.serverInfoFrom,"isFront",t)},expression:"serverInfoFrom.isFront"}})],1),e.showOnNeedHost()?a("FormItem",{attrs:{label:"监听端口号",prop:"listenPort"}},[a("i-input",{attrs:{placeholder:"请输入监听端口号"},model:{value:e.serverInfoFrom.listenPort,callback:function(t){e.$set(e.serverInfoFrom,"listenPort",t)},expression:"serverInfoFrom.listenPort"}})],1):e._e(),e.showOnNeedHost()?a("FormItem",{attrs:{label:"域名",prop:"serverHost"}},[a("i-input",{attrs:{placeholder:"请输域名"},model:{value:e.serverInfoFrom.serverHost,callback:function(t){e.$set(e.serverInfoFrom,"serverHost",t)},expression:"serverInfoFrom.serverHost"}})],1):e._e(),e.showOnNeedHost()?a("FormItem",{attrs:{label:"是否开启ssl",prop:"isSsl"}},[a("i-switch",{attrs:{"true-value":e.yesOrNoEunm.yes,"false-value":e.yesOrNoEunm.no},on:{"on-change":function(t){return e.cleanSslOn()}},model:{value:e.serverInfoFrom.isSsl,callback:function(t){e.$set(e.serverInfoFrom,"isSsl",t)},expression:"serverInfoFrom.isSsl"}})],1):e._e(),e.showOnSslOn()?a("FormItem",{attrs:{label:"ssl监听端口号",prop:"sslListenPort"}},[a("i-input",{attrs:{placeholder:"请输入ssl监听端口号"},model:{value:e.serverInfoFrom.sslListenPort,callback:function(t){e.$set(e.serverInfoFrom,"sslListenPort",t)},expression:"serverInfoFrom.sslListenPort"}})],1):e._e(),e.showOnSslOn()?a("FormItem",{attrs:{label:"证书key路径",prop:"sslCrtKeyPath"}},[a("i-input",{attrs:{placeholder:"请输入证书key路径"},model:{value:e.serverInfoFrom.sslCrtKeyPath,callback:function(t){e.$set(e.serverInfoFrom,"sslCrtKeyPath",t)},expression:"serverInfoFrom.sslCrtKeyPath"}})],1):e._e(),e.showOnSslOn()?a("FormItem",{attrs:{label:"证书路径",prop:"sslCrtPath"}},[a("i-input",{attrs:{placeholder:"请输入证书路径"},model:{value:e.serverInfoFrom.sslCrtPath,callback:function(t){e.$set(e.serverInfoFrom,"sslCrtPath",t)},expression:"serverInfoFrom.sslCrtPath"}})],1):e._e(),a("FormItem",{attrs:{label:"创建时间",prop:"createTime"}},[a("i-input",{attrs:{disabled:"",placeholder:"请输入创建时间"},model:{value:e.serverInfoFrom.createTime,callback:function(t){e.$set(e.serverInfoFrom,"createTime",t)},expression:"serverInfoFrom.createTime"}})],1),a("FormItem",{attrs:{label:"\t修改时间",prop:"updateTime"}},[a("i-input",{attrs:{disabled:"",placeholder:"请输入修改时间"},model:{value:e.serverInfoFrom.updateTime,callback:function(t){e.$set(e.serverInfoFrom,"updateTime",t)},expression:"serverInfoFrom.updateTime"}})],1),a("FormItem",{attrs:{label:"\t操作人",prop:"operatorName"}},[a("i-input",{attrs:{disabled:"",placeholder:"请输入操作人"},model:{value:e.serverInfoFrom.operatorName,callback:function(t){e.$set(e.serverInfoFrom,"operatorName",t)},expression:"serverInfoFrom.operatorName"}})],1),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:function(t){return e.handleSubmit("serverInfoFrom")}}},[e._v("提交")])],1)],1)],1)],1),e.globalScreenLoding?a("Spin",{attrs:{size:"large",fix:""}}):e._e()],1)},he=[],ge={props:{query:{userId:0}},data:function(){return{isLoadingUpSteamNodeInfo:!1,isPhysicalDeployment:!0,selectedVersionEunmArr:[],upSteamNodeInfo:[],routerPath:this.$route.path,serverInfoFrom:{id:this.$route.params.id,serverName:"",deployType:"",upsteamNodeName:"",createTime:"",updateTime:"",operatorName:""},yesOrNoEunm:{no:"0",yes:"1"},serverInfoFromValidate:{listenPort:[{required:!0,pattern:/^[0-9]{2,6}$/,message:"监听端口号输入不正确",trigger:"blur"}],sslListenPort:[{required:!0,pattern:/^[0-9]{2,6}$/,message:"ssl监听端口号输入不正确",trigger:"blur"}],serverHost:[{required:!0,pattern:/^([A-Za-z0-9]+[-]?[A-Za-z0-9]+[.]{1}[A-Za-z0-9]+[-]?[A-Za-z0-9]+[.]{1}[A-Za-z0-9]+[\s]?)+$/,message:"域名由英文字母,数字开头可以包含符号[-],多个域名用空格分隔",trigger:"blur"}],sslCrtKeyPath:[{required:!0,pattern:/^\/\S*[A-Za-z0-9]+$/,message:"证书key路径不能为空,并且只能以`/`开头 英文或数字结尾",trigger:"blur"}],sslCrtPath:[{required:!0,pattern:/^\/\S*[A-Za-z0-9]+$/,message:"证书路径不能为空,并且只能以`/`开头 英文或数字结尾",trigger:"blur"}],isSsl:[{required:!0,message:"是否开启ssl不能为空",trigger:"change"}],isFront:[{required:!0,message:"是否需要域名不能为空",trigger:"change"}],selectedVersion:[{required:!0,message:"暴露的版本不能为空",trigger:"change"}],serverName:[{required:!0,message:"服务名称不能为空",trigger:"blur"}],upsteamNodeName:[{required:!0,message:"服务节点不能为空",trigger:"blur"}]}}},components:{upSteamName:ue},mounted:function(){this.loadData()},computed:{breadcrumbList:function(){return this.utils.routerUtil.initRouterTreeNameArr(this.routerPath)},globalScreenLoding:function(){return this.$store.state.globalScreenLoding},globalButtonLoding:function(){return this.$store.state.globalButtonLoding}},methods:{queryUpSteamInfo:function(e){var t=this;""!==e?(this.isLoadingUpSteamNodeInfo=!0,this.utils.netUtil.post(this.API_PTAH.upSteamNameFind,{data:{nodeName:e,physicalPath:""},page:{currentPage:1,pageSize:1e4},sort:{orderBy:"id",sort:"desc"}},(function(e){t.isLoadingUpSteamNodeInfo=!1,t.upSteamNodeInfo=e.data.data}))):this.upSteamNodeInfo=[]},handleSubmit:function(e){var t=this;this.$refs[e].validate((function(e){e?t.commitData():t.$Message.error("请完善表单信息!")}))},loadData:function(){var e=this;this.utils.netUtil.post(this.API_PTAH.serverInfoFindById,this.serverInfoFrom,(function(t){e.serverInfoFrom=t.data.data,e.isPhysicalDeployment="0"===e.serverInfoFrom.deployType,e.findVersionListByNodeName()}))},commitData:function(){var e=this;this.$store.commit("statusGlobalButtonLoding"),this.isPhysicalDeployment&&this.clearVersionList(),this.serverInfoFrom.id=this.$route.params.id,this.utils.netUtil.post(this.API_PTAH.serverInfoUpdate,this.serverInfoFrom,(function(){e.$Message.success("提交成功!"),e.$store.commit("statusGlobalButtonLoding"),e.$router.push("/server-info-list")}),(function(){e.$store.commit("statusGlobalButtonLoding")}))},upSteamNameChanged:function(e){if("undefined"!=typeof e){var t=e.label;t=this.utils.objectUtil.subStringAfterTarget("- ",t),this.isPhysicalDeployment="物理部署"===t,this.serverInfoFrom.deployType=this.isPhysicalDeployment?"0":"1",this.isPhysicalDeployment||this.findVersionListByNodeName()}},findVersionListByNodeName:function(){var e=this;this.utils.netUtil.post(this.API_PTAH.findVersionListByNodeName,this.serverInfoFrom,(function(t){e.selectedVersionEunmArr=t.data.data}))},updateSelectedVersion:function(){var e=this;this.$store.commit("statusGlobalScreenLoding"),this.loading=!this.loading,this.utils.netUtil.post(this.API_PTAH.updateSelectedVersion,this.serverInfoFrom,(function(t){t.data.data&&(e.$store.commit("statusGlobalScreenLoding"),e.$Message.success("版本信息切换成功！"))}),(function(){e.$store.commit("statusGlobalScreenLoding")}))},clearVersionList:function(){this.serverInfoFrom.selectedVersion="",this.selectedVersionEunmArr=[]},showOnNeedHost:function(){return"1"===this.serverInfoFrom.isFront},showOnSslOn:function(){return"1"===this.serverInfoFrom.isSsl},cleanNeedHost:function(){this.serverInfoFrom.serverHost="",this.serverInfoFrom.listenPort="",this.serverInfoFrom.isSsl="0",this.cleanSslOn()},cleanSslOn:function(){this.serverInfoFrom.sslListenPort="",this.serverInfoFrom.sslCrtKeyPath="",this.serverInfoFrom.sslCrtPath=""}}},ve=ge,be=Object(p["a"])(ve,fe,he,!1,null,null,null),Ie=be.exports,ye=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Row",[a("i-col",{staticClass:"bread-crumb",attrs:{span:"24"}},[a("Breadcrumb",e._l(e.breadcrumbList,(function(t,r){return a("BreadcrumbItem",{key:r,attrs:{to:t.path}},[a("Icon",{attrs:{type:t.icon}}),e._v(" "+e._s(t.name)+" ")],1)})),1)],1)],1),a("Divider"),a("router-view"),a("Form",{ref:"queryParamFrom",staticClass:"query-pram-from",attrs:{model:e.paramData.data}},[a("Row",[a("i-col",{staticClass:"page-col",attrs:{span:"4",offset:"1"}},[a("FormItem",{attrs:{prop:"apiName"}},[a("i-input",{attrs:{type:"text",placeholder:"接口名称"},model:{value:e.paramData.data.apiName,callback:function(t){e.$set(e.paramData.data,"apiName",t)},expression:"paramData.data.apiName"}})],1)],1),a("i-col",{staticClass:"page-col",attrs:{span:"4",offset:"1"}},[a("FormItem",{attrs:{prop:"apiUri"}},[a("i-input",{attrs:{type:"text",placeholder:"接口地址"},model:{value:e.paramData.data.apiUri,callback:function(t){e.$set(e.paramData.data,"apiUri",t)},expression:"paramData.data.apiUri"}})],1)],1),a("i-col",{staticClass:"button-group",attrs:{span:"3",offset:"19"}},[a("Button",{attrs:{type:"info"},on:{click:function(t){return e.pushAdd()}}},[e._v("新增")]),a("Button",{attrs:{type:"success"},on:{click:function(t){return e.getdata()}}},[e._v("查询")]),a("Button",{attrs:{type:"warning"},on:{click:function(t){return e.handleReset()}}},[e._v("重置")])],1)],1)],1),a("br"),a("Table",{staticClass:"list-button-group",attrs:{border:"",columns:e.columns,data:e.tableData},scopedSlots:e._u([{key:"action",fn:function(t){var r=t.row,o=t.index;return[a("Button",{staticStyle:{"margin-right":"5px"},attrs:{type:"primary",size:"small"},on:{click:function(t){return e.pushEditor(r.id)}}},[e._v("编辑")]),a("Button",{attrs:{type:"error",size:"small"},on:{click:function(t){return e.deleteData(r.id,o)}}},[e._v("删除")])]}}])}),a("Row",[a("i-col",{staticClass:"page-col",attrs:{span:"6",offset:"17"}},[a("Page",{staticClass:"pagination",attrs:{total:e.paramData.data.totalCount,current:e.paramData.data.currentPage,"page-size":e.paramData.data.pageSize,"show-sizer":""},on:{"on-change":e.handlePage,"on-page-size-change":e.handlePageSize}})],1)],1)],1)},Fe=[],Se={data:function(){return{routerPath:this.$route.path,apiStatusEunmArr:[{value:"0",label:"未启用"},{value:"1",label:"启用"}],paramData:{data:{serverId:this.$route.params.sid,serverName:"",deployType:""},page:{currentPage:1,pageSize:10},sort:{orderBy:"id",sort:"desc"}},columns:[{title:"接口名称",key:"apiName"},{title:"接口地址",key:"apiUri"},{title:"代理地址",key:"proxyPath"},{title:"接口状态",key:"apiStatus"},{title:"修改时间",key:"updateTime"},{title:"操作",slot:"action",width:225,align:"center"}],tableData:[]}},computed:{breadcrumbList:function(){return this.utils.routerUtil.initRouterTreeNameArr(this.routerPath)}},mounted:function(){this.getdata()},methods:{handlePage:function(e){this.paramData.page.currentPage=e,this.getdata()},handlePageSize:function(e){this.paramData.page.pageSize=e,this.getdata()},rowClassName:function(e,t){return this.utils.styleUtil.initTableListRowClass(t)},getdata:function(){var e=this;this.utils.netUtil.post(this.API_PTAH.apiInfoFind,this.paramData,(function(t){e.tableData=t.data.data,e.paramData.data.totalCount=t.data.page.totalCount,e.paramData.data.pageSize=t.data.page.pageSize,e.paramData.data.currentPage=t.data.page.currentPage}))},deleteData:function(e,t){var a=this;this.$Modal.confirm({title:"警告",content:"确认删除该条数据吗",onOk:function(){a.utils.netUtil.post(a.API_PTAH.apiInfoDelete,{id:e},(function(e){e.data,a.tableData.splice(t,1),a.$Message.success("删除成功!")}))}})},handleReset:function(){this.$refs.queryParamFrom.resetFields(),this.getdata()},pushAdd:function(){this.$router.push("/server-info-list/api-info-list/api-info-add/".concat(this.$route.params.sid))},pushEditor:function(e){this.$router.push({path:"/server-info-list/api-info-list/api-info-editor/".concat(this.$route.params.sid,"/").concat(e)})},pushApiList:function(){this.$router.push("".concat(this.$route.path,"/api-info-list"))}}},Ae=Se,Ne=Object(p["a"])(Ae,ye,Fe,!1,null,null,null),Pe=Ne.exports,$e=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Row",[a("i-col",{staticClass:"bread-crumb",attrs:{span:"24"}},[a("Breadcrumb",e._l(e.breadcrumbList,(function(t,r){return a("BreadcrumbItem",{key:r,attrs:{to:t.path}},[a("Icon",{attrs:{type:t.icon}}),e._v(" "+e._s(t.name)+" ")],1)})),1)],1)],1),a("Divider"),a("Row",[a("i-col",{attrs:{span:"12",offset:"6"}},[a("Form",{ref:"apiInfoFrom",attrs:{model:e.apiInfoFrom,rules:e.apiInfoFromValidate,"label-width":80}},[a("FormItem",{attrs:{label:"接口名称",prop:"apiName"}},[a("i-input",{attrs:{placeholder:"请输入接口名称"},model:{value:e.apiInfoFrom.apiName,callback:function(t){e.$set(e.apiInfoFrom,"apiName",t)},expression:"apiInfoFrom.apiName"}})],1),a("FormItem",{attrs:{label:"接口地址",prop:"apiUri"}},[a("i-input",{attrs:{placeholder:"请输入接口地址"},model:{value:e.apiInfoFrom.apiUri,callback:function(t){e.$set(e.apiInfoFrom,"apiUri",t)},expression:"apiInfoFrom.apiUri"}})],1),a("FormItem",{attrs:{label:"代理地址",prop:"proxyPath"}},[a("i-input",{attrs:{placeholder:"请输入代理地址"},model:{value:e.apiInfoFrom.proxyPath,callback:function(t){e.$set(e.apiInfoFrom,"proxyPath",t)},expression:"apiInfoFrom.proxyPath"}})],1),a("FormItem",{attrs:{label:"接口状态",prop:"apiStatus"}},[a("Select",{attrs:{placeholder:"选择接口状态"},model:{value:e.apiInfoFrom.apiStatus,callback:function(t){e.$set(e.apiInfoFrom,"apiStatus",t)},expression:"apiInfoFrom.apiStatus"}},e._l(e.apiStatusEunmArr,(function(t){return a("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.label))])})),1)],1),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:function(t){return e.handleSubmit("apiInfoFrom")}}},[e._v("提交")]),a("Button",{staticStyle:{"margin-left":"8px"},on:{click:function(t){return e.handleReset("apiInfoFrom")}}},[e._v("重置")])],1)],1)],1)],1)],1)},De=[],_e={data:function(){return{routerPath:this.$route.path,apiStatusEunmArr:[{value:"0",label:"未启用"},{value:"1",label:"启用"}],apiInfoFrom:{serverId:this.$route.params.sid,apiName:"",apiUri:"",proxyPath:"",apiStatus:""},apiInfoFromValidate:{apiName:[{required:!0,message:"接口名称不能为空",trigger:"blur"}],apiUri:[{pattern:/^\/\S*[A-Za-z0-9]+$/,required:!0,message:"接口地址不能为空 并且只能以`/`开头 英文或数字结尾",trigger:"blur"}],proxyPath:[{pattern:/^\/\S*[A-Za-z0-9]+$/,required:!0,message:"代理地址不能为空 并且只能以`/`开头 英文或数字结尾",trigger:"blur"}],apiStatus:[{required:!0,message:"接口状态不能为空",trigger:"change"}]}}},computed:{breadcrumbList:function(){return this.utils.routerUtil.initRouterTreeNameArr(this.routerPath)}},methods:{handleSubmit:function(e){var t=this;this.$refs[e].validate((function(e){e?t.commitData():t.$Message.error("请完善表单信息!")}))},handleReset:function(e){this.$refs[e].resetFields()},commitData:function(){var e=this;this.utils.netUtil.post(this.API_PTAH.apiInfoAdd,this.apiInfoFrom,(function(){e.$Message.success("提交成功!"),e.$router.push("/server-info-list/api-info-list/".concat(e.$route.params.sid))}))}}},ke=_e,we=Object(p["a"])(ke,$e,De,!1,null,null,null),Le=we.exports,Te=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Row",[a("i-col",{staticClass:"bread-crumb",attrs:{span:"24"}},[a("Breadcrumb",e._l(e.breadcrumbList,(function(t,r){return a("BreadcrumbItem",{key:r,attrs:{to:t.path}},[a("Icon",{attrs:{type:t.icon}}),e._v(" "+e._s(t.name)+" ")],1)})),1)],1)],1),a("Divider"),a("Row",[a("i-col",{attrs:{span:"12",offset:"6"}},[a("Form",{ref:"apiInfoFrom",attrs:{model:e.apiInfoFrom,rules:e.apiInfoFromValidate,"label-width":80}},[a("FormItem",{attrs:{label:"接口名称",prop:"apiName"}},[a("i-input",{attrs:{placeholder:"请输入接口名称"},model:{value:e.apiInfoFrom.apiName,callback:function(t){e.$set(e.apiInfoFrom,"apiName",t)},expression:"apiInfoFrom.apiName"}})],1),a("FormItem",{attrs:{label:"接口地址",prop:"apiUri"}},[a("i-input",{attrs:{placeholder:"请输入接口地址"},model:{value:e.apiInfoFrom.apiUri,callback:function(t){e.$set(e.apiInfoFrom,"apiUri",t)},expression:"apiInfoFrom.apiUri"}})],1),a("FormItem",{attrs:{label:"代理地址",prop:"proxyPath"}},[a("i-input",{attrs:{placeholder:"请输入代理地址"},model:{value:e.apiInfoFrom.proxyPath,callback:function(t){e.$set(e.apiInfoFrom,"proxyPath",t)},expression:"apiInfoFrom.proxyPath"}})],1),a("FormItem",{attrs:{label:"接口状态",prop:"apiStatus"}},[a("Select",{attrs:{placeholder:"选择接口状态"},model:{value:e.apiInfoFrom.apiStatus,callback:function(t){e.$set(e.apiInfoFrom,"apiStatus",t)},expression:"apiInfoFrom.apiStatus"}},e._l(e.apiStatusEunmArr,(function(t){return a("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.label))])})),1)],1),a("FormItem",{attrs:{label:"创建时间",prop:"createTime"}},[a("i-input",{attrs:{disabled:"",placeholder:"请输入创建时间"},model:{value:e.apiInfoFrom.createTime,callback:function(t){e.$set(e.apiInfoFrom,"createTime",t)},expression:"apiInfoFrom.createTime"}})],1),a("FormItem",{attrs:{label:"\t修改时间",prop:"updateTime"}},[a("i-input",{attrs:{disabled:"",placeholder:"请输入修改时间"},model:{value:e.apiInfoFrom.updateTime,callback:function(t){e.$set(e.apiInfoFrom,"updateTime",t)},expression:"apiInfoFrom.updateTime"}})],1),a("FormItem",{attrs:{label:"\t操作人",prop:"operatorName"}},[a("i-input",{attrs:{disabled:"",placeholder:"请输入操作人"},model:{value:e.apiInfoFrom.operatorName,callback:function(t){e.$set(e.apiInfoFrom,"operatorName",t)},expression:"apiInfoFrom.operatorName"}})],1),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:function(t){return e.handleSubmit("apiInfoFrom")}}},[e._v("提交")])],1)],1)],1)],1)],1)},Be=[],xe={props:{query:{userId:0}},data:function(){return{routerPath:this.$route.path,apiStatusEunmArr:[{value:"0",label:"未启用"},{value:"1",label:"启用"}],apiInfoFrom:{id:this.$route.params.id,serverId:this.$route.params.sid,apiName:"",apiUri:"",proxyPath:"",apiStatus:""},apiInfoFromValidate:{apiName:[{required:!0,message:"接口名称不能为空",trigger:"blur"}],apiUri:[{pattern:/^\/\S*[A-Za-z0-9]+$/,required:!0,message:"接口地址不能为空 并且只能以`/`开头 英文或数字结尾",trigger:"blur"}],proxyPath:[{pattern:/^\/\S*[A-Za-z0-9]+$/,required:!0,message:"代理地址不能为空 并且只能以`/`开头 英文或数字结尾",trigger:"blur"}],apiStatus:[{required:!0,message:"接口状态不能为空",trigger:"change"}]}}},mounted:function(){this.loadData()},computed:{breadcrumbList:function(){return this.utils.routerUtil.initRouterTreeNameArr(this.routerPath)}},methods:{handleSubmit:function(e){var t=this;this.$refs[e].validate((function(e){e?t.commitData():t.$Message.error("请完善表单信息!")}))},loadData:function(){var e=this;this.utils.netUtil.post(this.API_PTAH.apiInfoFindById,this.apiInfoFrom,(function(t){e.apiInfoFrom=t.data.data}))},commitData:function(){var e=this;this.apiInfoFrom.id=this.$route.params.id,this.utils.netUtil.post(this.API_PTAH.apiInfoUpdate,this.apiInfoFrom,(function(){e.$Message.success("提交成功!"),e.$router.push("/server-info-list/api-info-list/".concat(e.$route.params.sid))}))}}},Ue=xe,Oe=Object(p["a"])(Ue,Te,Be,!1,null,null,null),Me=Oe.exports,Ce=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Row",[a("i-col",{staticClass:"bread-crumb",attrs:{span:"24"}},[a("Breadcrumb",e._l(e.breadcrumbList,(function(t,r){return a("BreadcrumbItem",{key:r,attrs:{to:t.path}},[a("Icon",{attrs:{type:t.icon}}),e._v(" "+e._s(t.name)+" ")],1)})),1)],1)],1),a("Divider"),a("router-view"),a("Form",{ref:"queryParamFrom",staticClass:"query-pram-from",attrs:{model:e.paramData.data}},[a("Row",[a("i-col",{staticClass:"page-col",attrs:{span:"4",offset:"1"}},[a("FormItem",{attrs:{prop:"ipAddress"}},[a("i-input",{attrs:{type:"text",placeholder:"节点内网IP地址"},model:{value:e.paramData.data.ipAddress,callback:function(t){e.$set(e.paramData.data,"ipAddress",t)},expression:"paramData.data.ipAddress"}})],1)],1),a("i-col",{staticClass:"page-col",attrs:{span:"2",offset:"1"}},[a("FormItem",{attrs:{prop:"serverMachineType"}},[a("Select",{staticStyle:{width:"200px"},attrs:{placeholder:"服务节点类型",clearable:""},on:{"on-change":e.getdata},model:{value:e.paramData.data.serverMachineType,callback:function(t){e.$set(e.paramData.data,"serverMachineType",t)},expression:"paramData.data.serverMachineType"}},e._l(e.serverMachineTypeEunmArr,(function(t){return a("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.label))])})),1)],1)],1),a("i-col",{staticClass:"button-group",attrs:{span:"3",offset:"18"}},[a("Button",{attrs:{type:"info"},on:{click:function(t){return e.pushAdd()}}},[e._v("新增")]),a("Button",{attrs:{type:"success"},on:{click:function(t){return e.getdata()}}},[e._v("查询")]),a("Button",{attrs:{type:"warning"},on:{click:function(t){return e.handleReset()}}},[e._v("重置")])],1)],1)],1),a("br"),a("Table",{staticClass:"list-button-group",attrs:{border:"",columns:e.columns,data:e.tableData},scopedSlots:e._u([{key:"action",fn:function(t){var r=t.row,o=t.index;return[a("Button",{staticStyle:{"margin-right":"5px"},attrs:{type:"primary",size:"small"},on:{click:function(t){return e.pushEditor(r.id)}}},[e._v("编辑")]),a("Button",{attrs:{type:"error",size:"small",disabled:e.globalButtonLoding},on:{click:function(t){return e.deleteData(r.id,o)}}},[e._v("删除")])]}}])}),a("Row",[a("i-col",{staticClass:"page-col",attrs:{span:"6",offset:"17"}},[a("Page",{staticClass:"pagination",attrs:{total:e.paramData.data.totalCount,current:e.paramData.data.currentPage,"page-size":e.paramData.data.pageSize,"show-sizer":""},on:{"on-change":e.handlePage,"on-page-size-change":e.handlePageSize}})],1)],1),e.globalScreenLoding?a("Spin",{attrs:{size:"large",fix:""}}):e._e()],1)},Re=[],ze={data:function(){return{syncNginxLoading:!1,routerPath:this.$route.path,serverMachineTypeEunmArr:[{value:"0",label:"openresty"},{value:"1",label:"kubernetes-master"}],accessAuthTypeEunmArr:[{value:"0",label:"密码模式"},{value:"1",label:"公私钥模式"}],paramData:{data:{ipAddress:"",serverMachineType:""},page:{currentPage:1,pageSize:10},sort:{orderBy:"id",sort:"desc"}},columns:[{title:"节点内网IP地址",key:"ipAddress"},{title:"服务节点类型",key:"serverMachineType"},{title:"访问账户",key:"accessUser"},{title:"访问端口号",key:"accessPort"},{title:"访问授权方式",key:"accessAuthType"},{title:"修改时间",key:"updateTime"},{title:"操作",slot:"action",width:225,align:"center"}],tableData:[]}},computed:{breadcrumbList:function(){return this.utils.routerUtil.initRouterTreeNameArr(this.routerPath)},globalScreenLoding:function(){return this.$store.state.globalScreenLoding},globalButtonLoding:function(){return this.$store.state.globalButtonLoding}},mounted:function(){this.getdata()},methods:{handlePage:function(e){this.paramData.page.currentPage=e,this.getdata()},handlePageSize:function(e){this.paramData.page.pageSize=e,this.getdata()},rowClassName:function(e,t){return this.utils.styleUtil.initTableListRowClass(t)},getdata:function(){var e=this;this.utils.netUtil.post(this.API_PTAH.serverMachineNodeInfoFind,this.paramData,(function(t){e.tableData=t.data.data,e.paramData.data.totalCount=t.data.page.totalCount,e.paramData.data.pageSize=t.data.page.pageSize,e.paramData.data.currentPage=t.data.page.currentPage}))},deleteData:function(e,t){var a=this;this.$store.commit("statusGlobalButtonLoding"),this.$Modal.confirm({title:"警告",content:"确认删除该条数据吗",onOk:function(){a.utils.netUtil.post(a.API_PTAH.serverMachineNodeInfoDelete,{id:e},(function(e){e.data,a.tableData.splice(t,1),a.$store.commit("statusGlobalButtonLoding"),a.$Message.success("删除成功!")}),(function(){a.$store.commit("statusGlobalButtonLoding")}))},onCancel:function(){a.$store.commit("statusGlobalButtonLoding")}})},handleSync:function(){var e=this;this.syncNginxLoading=!this.syncNginxLoading,this.utils.netUtil.post(this.API_PTAH.syncNginxNodeInfo,{},(function(){e.$Message.success("已发送同步消息!"),setTimeout((function(){e.syncNginxLoading=!e.syncNginxLoading}),1e3)}))},handleReset:function(){this.$refs.queryParamFrom.resetFields(),this.getdata()},pushAdd:function(){this.$router.push("/server-machine-node-info-list/server-machine-node-info-add")},pushEditor:function(e){this.$router.push({path:"/server-machine-node-info-list/server-machine-node-info-editor/".concat(e)})}}},Ee=ze,qe=Object(p["a"])(Ee,Ce,Re,!1,null,null,null),Ve=qe.exports,He=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Row",[a("i-col",{staticClass:"bread-crumb",attrs:{span:"24"}},[a("Breadcrumb",e._l(e.breadcrumbList,(function(t,r){return a("BreadcrumbItem",{key:r,attrs:{to:t.path}},[a("Icon",{attrs:{type:t.icon}}),e._v(" "+e._s(t.name)+" ")],1)})),1)],1)],1),a("Divider"),a("Row",[a("i-col",{attrs:{span:"12",offset:"6"}},[a("Form",{ref:"serverMachineNodeInfoFrom",attrs:{model:e.serverMachineNodeInfoFrom,rules:e.serverMachineNodeInfoFromValidate,"label-width":170}},[a("FormItem",{attrs:{label:"节点内网IP地址",prop:"ipAddress"}},[a("i-input",{attrs:{placeholder:"请输入节点内网IP地址"},model:{value:e.serverMachineNodeInfoFrom.ipAddress,callback:function(t){e.$set(e.serverMachineNodeInfoFrom,"ipAddress",t)},expression:"serverMachineNodeInfoFrom.ipAddress"}})],1),a("FormItem",{attrs:{label:"所在服务器访问端口号",prop:"accessPort"}},[a("i-input",{attrs:{placeholder:"请输入访问端口号"},model:{value:e.serverMachineNodeInfoFrom.accessPort,callback:function(t){e.$set(e.serverMachineNodeInfoFrom,"accessPort",t)},expression:"serverMachineNodeInfoFrom.accessPort"}})],1),a("FormItem",{attrs:{label:"访问账户",prop:"accessUser"}},[a("i-input",{attrs:{placeholder:"请输入访问账户"},model:{value:e.serverMachineNodeInfoFrom.accessUser,callback:function(t){e.$set(e.serverMachineNodeInfoFrom,"accessUser",t)},expression:"serverMachineNodeInfoFrom.accessUser"}})],1),a("FormItem",{attrs:{label:"访问授权方式",prop:"accessAuthType"}},[a("Select",{attrs:{placeholder:"选择访问授权方式"},model:{value:e.serverMachineNodeInfoFrom.accessAuthType,callback:function(t){e.$set(e.serverMachineNodeInfoFrom,"accessAuthType",t)},expression:"serverMachineNodeInfoFrom.accessAuthType"}},e._l(e.accessAuthTypeEunmArr,(function(t){return a("Option",{key:t.value,attrs:{value:t.value,disabled:t.disabled}},[e._v(e._s(t.label))])})),1)],1),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:e.showOnPassword(),expression:"showOnPassword()"}],attrs:{label:"访问密码",rules:e.accessPasswordValidateRules(),prop:"accessPassword"}},[a("i-input",{attrs:{type:"password",disabled:e.serverMachineNodeInfoFrom.accessAuthType!=e.accessAuthTypeEunmArr[0].value,placeholder:"请输入访问密码"},model:{value:e.serverMachineNodeInfoFrom.accessPassword,callback:function(t){e.$set(e.serverMachineNodeInfoFrom,"accessPassword",t)},expression:"serverMachineNodeInfoFrom.accessPassword"}})],1),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:e.showOnRsa(),expression:"showOnRsa()"}],attrs:{label:"私钥相对地址",rules:e.accessRsaPathValidateRules(),prop:"accessRsaPath"}},[a("i-input",{attrs:{disabled:e.serverMachineNodeInfoFrom.accessAuthType!=e.accessAuthTypeEunmArr[1].value,placeholder:"私钥相对地址"},model:{value:e.serverMachineNodeInfoFrom.accessRsaPath,callback:function(t){e.$set(e.serverMachineNodeInfoFrom,"accessRsaPath",t)},expression:"serverMachineNodeInfoFrom.accessRsaPath"}})],1),a("FormItem",{attrs:{label:"服务节点类型",prop:"serverMachineType"}},[a("Select",{attrs:{placeholder:"选择服务节点类型"},model:{value:e.serverMachineNodeInfoFrom.serverMachineType,callback:function(t){e.$set(e.serverMachineNodeInfoFrom,"serverMachineType",t)},expression:"serverMachineNodeInfoFrom.serverMachineType"}},e._l(e.serverMachineTypeEunmArr,(function(t){return a("Option",{key:t.value,attrs:{value:t.value,disabled:t.disabled}},[e._v(e._s(t.label))])})),1)],1),a("FormItem",[a("Button",{attrs:{type:"primary",disabled:e.globalButtonLoding},on:{click:function(t){return e.handleSubmit("serverMachineNodeInfoFrom")}}},[e._v("提交")]),a("Button",{staticStyle:{"margin-left":"8px"},on:{click:function(t){return e.handleReset("serverMachineNodeInfoFrom")}}},[e._v("重置")])],1)],1)],1)],1),e.globalScreenLoding?a("Spin",{attrs:{size:"large",fix:""}}):e._e()],1)},Ge=[],je={data:function(){return{routerPath:this.$route.path,serverMachineTypeEunmArr:[{value:"0",label:"openresty"},{value:"1",label:"kubernetes-master"}],accessAuthTypeEunmArr:[{value:"0",label:"密码模式"},{value:"1",label:"公私钥模式"}],serverMachineNodeInfoFrom:{serverId:"",apiName:""},serverMachineNodeInfoFromValidate:{serverMachineType:[{required:!0,message:"服务节点类型不能为空",trigger:"change"}],ipAddress:[{required:!0,pattern:/^(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])$/,message:"ip地址格式输入不正确",trigger:"blur"}],accessPort:[{required:!0,pattern:/^[0-9]{2,6}$/,message:"所在服务器访问端口号输入不正确",trigger:"blur"}],accessUser:[{required:!0,max:20,pattern:/^[a-zA-Z]+$/,message:"访问账户输入不能为空,只能为英文,最大20个字符",trigger:"blur"}],accessAuthType:[{required:!0,message:"访问授权方式不能为空",trigger:"change"}],accessPassword:[{required:!0,max:20,mix:5,message:"访问账户输入不能为空,最小5个字符,最大20个字符",trigger:"blur"}],accessRsaPath:[{required:!0,pattern:/^\/\S*[A-Za-z0-9]+$/,message:"私钥相对地址不能为空,并且只能以`/`开头 英文或数字结尾",trigger:"blur"}]}}},computed:{breadcrumbList:function(){return this.utils.routerUtil.initRouterTreeNameArr(this.routerPath)},globalScreenLoding:function(){return this.$store.state.globalScreenLoding},globalButtonLoding:function(){return this.$store.state.globalButtonLoding}},methods:{handleSubmit:function(e){var t=this;this.$refs[e].validate((function(e){e?t.commitData():t.$Message.error("请完善表单信息!")}))},handleReset:function(e){this.$refs[e].resetFields()},commitData:function(){var e=this;this.$store.commit("statusGlobalButtonLoding"),this.utils.netUtil.post(this.API_PTAH.serverMachineNodeInfoAdd,this.serverMachineNodeInfoFrom,(function(){e.$Message.success("提交成功!"),e.$store.commit("statusGlobalButtonLoding"),e.$router.push("/server-machine-node-info-list")}),(function(){e.$store.commit("statusGlobalButtonLoding")}))},accessPasswordValidateRules:function(){var e=this.serverMachineNodeInfoFromValidate.accessPassword,t=this.serverMachineNodeInfoFrom.accessAuthType!=this.accessAuthTypeEunmArr[1].value;return e[0].required=t,e},accessRsaPathValidateRules:function(){var e=this.serverMachineNodeInfoFromValidate.accessRsaPath,t=this.serverMachineNodeInfoFrom.accessAuthType!=this.accessAuthTypeEunmArr[0].value;return e[0].required=t,e},showOnPassword:function(){return this.serverMachineNodeInfoFrom.accessAuthType==this.accessAuthTypeEunmArr[0].value},showOnRsa:function(){return this.serverMachineNodeInfoFrom.accessAuthType==this.accessAuthTypeEunmArr[1].value}}},Ke=je,Ze=Object(p["a"])(Ke,He,Ge,!1,null,null,null),We=Ze.exports,Je=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Row",[a("i-col",{staticClass:"bread-crumb",attrs:{span:"24"}},[a("Breadcrumb",e._l(e.breadcrumbList,(function(t,r){return a("BreadcrumbItem",{key:r,attrs:{to:t.path}},[a("Icon",{attrs:{type:t.icon}}),e._v(" "+e._s(t.name)+" ")],1)})),1)],1)],1),a("Divider"),a("Row",[a("i-col",{attrs:{span:"12",offset:"6"}},[a("Form",{ref:"serverMachineNodeInfoFrom",attrs:{model:e.serverMachineNodeInfoFrom,rules:e.fromValidate,"label-width":170}},[a("FormItem",{attrs:{label:"节点内网IP地址",prop:"ipAddress"}},[a("i-input",{attrs:{placeholder:"请输入节点内网IP地址"},model:{value:e.serverMachineNodeInfoFrom.ipAddress,callback:function(t){e.$set(e.serverMachineNodeInfoFrom,"ipAddress",t)},expression:"serverMachineNodeInfoFrom.ipAddress"}})],1),a("FormItem",{attrs:{label:"所在服务器访问端口号",prop:"accessPort"}},[a("i-input",{attrs:{placeholder:"请输入访问端口号"},model:{value:e.serverMachineNodeInfoFrom.accessPort,callback:function(t){e.$set(e.serverMachineNodeInfoFrom,"accessPort",t)},expression:"serverMachineNodeInfoFrom.accessPort"}})],1),a("FormItem",{attrs:{label:"访问账户",prop:"accessUser"}},[a("i-input",{attrs:{placeholder:"请输入访问账户"},model:{value:e.serverMachineNodeInfoFrom.accessUser,callback:function(t){e.$set(e.serverMachineNodeInfoFrom,"accessUser",t)},expression:"serverMachineNodeInfoFrom.accessUser"}})],1),a("FormItem",{attrs:{label:"访问授权方式",prop:"accessAuthType"}},[a("Select",{attrs:{placeholder:"选择访问授权方式"},model:{value:e.serverMachineNodeInfoFrom.accessAuthType,callback:function(t){e.$set(e.serverMachineNodeInfoFrom,"accessAuthType",t)},expression:"serverMachineNodeInfoFrom.accessAuthType"}},e._l(e.accessAuthTypeEunmArr,(function(t){return a("Option",{key:t.value,attrs:{value:t.value,disabled:t.disabled}},[e._v(e._s(t.label))])})),1)],1),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:e.showOnPassword(),expression:"showOnPassword()"}],attrs:{label:"访问密码",rules:e.accessPasswordValidateRules(),prop:"accessPassword"}},[a("i-input",{attrs:{type:"password",disabled:e.serverMachineNodeInfoFrom.accessAuthType!=e.accessAuthTypeEunmArr[0].value,placeholder:"请输入访问密码"},model:{value:e.serverMachineNodeInfoFrom.accessPassword,callback:function(t){e.$set(e.serverMachineNodeInfoFrom,"accessPassword",t)},expression:"serverMachineNodeInfoFrom.accessPassword"}})],1),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:e.showOnRsa(),expression:"showOnRsa()"}],attrs:{label:"私钥相对地址",rules:e.accessRsaPathValidateRules(),prop:"accessRsaPath"}},[a("i-input",{attrs:{disabled:e.serverMachineNodeInfoFrom.accessAuthType!=e.accessAuthTypeEunmArr[1].value,placeholder:"私钥相对地址"},model:{value:e.serverMachineNodeInfoFrom.accessRsaPath,callback:function(t){e.$set(e.serverMachineNodeInfoFrom,"accessRsaPath",t)},expression:"serverMachineNodeInfoFrom.accessRsaPath"}})],1),a("FormItem",{attrs:{label:"服务节点类型",prop:"serverMachineType"}},[a("Select",{attrs:{placeholder:"选择服务节点类型"},model:{value:e.serverMachineNodeInfoFrom.serverMachineType,callback:function(t){e.$set(e.serverMachineNodeInfoFrom,"serverMachineType",t)},expression:"serverMachineNodeInfoFrom.serverMachineType"}},e._l(e.serverMachineTypeEunmArr,(function(t){return a("Option",{key:t.value,attrs:{value:t.value,disabled:t.disabled}},[e._v(e._s(t.label))])})),1)],1),a("FormItem",[a("Button",{attrs:{type:"primary",disabled:e.globalButtonLoding},on:{click:function(t){return e.handleSubmit("serverMachineNodeInfoFrom")}}},[e._v("提交")])],1)],1)],1)],1),e.globalScreenLoding?a("Spin",{attrs:{size:"large",fix:""}}):e._e()],1)},Qe=[],Xe={props:{query:{userId:0}},data:function(){return{routerPath:this.$route.path,serverMachineTypeEunmArr:[{value:"0",label:"openresty"},{value:"1",label:"kubernetes-master"}],accessAuthTypeEunmArr:[{value:"0",label:"密码模式"},{value:"1",label:"公私钥模式"}],serverMachineNodeInfoFrom:{id:this.$route.params.id,serverId:"",apiName:""},fromValidate:{serverMachineType:[{required:!0,message:"服务节点类型不能为空",trigger:"change"}],ipAddress:[{required:!0,pattern:/^(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])$/,message:"ip地址格式输入不正确",trigger:"blur"}],accessPort:[{required:!0,pattern:/^[0-9]{2,6}$/,message:"所在服务器访问端口号输入不正确",trigger:"blur"}],accessUser:[{required:!0,max:20,pattern:/^[a-zA-Z]+$/,message:"访问账户输入不能为空,只能为英文,最大20个字符",trigger:"blur"}],accessAuthType:[{required:!0,message:"访问授权方式不能为空",trigger:"change"}],accessPassword:[{required:!0,max:20,mix:5,message:"访问账户输入不能为空,最小5个字符,最大20个字符",trigger:"blur"}],accessRsaPath:[{required:!0,pattern:/^\/\S*[A-Za-z0-9]+$/,message:"私钥相对地址不能为空,并且只能以`/`开头 英文或数字结尾",trigger:"blur"}]}}},mounted:function(){this.loadData()},computed:{breadcrumbList:function(){return this.utils.routerUtil.initRouterTreeNameArr(this.routerPath)},globalScreenLoding:function(){return this.$store.state.globalScreenLoding},globalButtonLoding:function(){return this.$store.state.globalButtonLoding}},methods:{showOnOpenresty:function(){return"0"===this.serverMachineNodeInfoFrom.serverMachineType},handleSubmit:function(e){var t=this;this.$refs[e].validate((function(e){e?t.commitData():t.$Message.error("请完善表单信息!")}))},loadData:function(){var e=this;this.utils.netUtil.post(this.API_PTAH.serverMachineNodeInfoFindById,this.serverMachineNodeInfoFrom,(function(t){e.serverMachineNodeInfoFrom=t.data.data}))},commitData:function(){var e=this;this.$store.commit("statusGlobalButtonLoding"),this.serverMachineNodeInfoFrom.id=this.$route.params.id,this.utils.netUtil.post(this.API_PTAH.serverMachineNodeInfoUpdate,this.serverMachineNodeInfoFrom,(function(){e.$Message.success("提交成功!"),e.$store.commit("statusGlobalButtonLoding"),e.$router.push("/server-machine-node-info-list")}),(function(){e.$store.commit("statusGlobalButtonLoding")}))},accessPasswordValidateRules:function(){var e=this.fromValidate.accessPassword,t=this.serverMachineNodeInfoFrom.accessAuthType!=this.accessAuthTypeEunmArr[1].value;return e[0].required=t,e},accessRsaPathValidateRules:function(){var e=this.fromValidate.accessRsaPath,t=this.serverMachineNodeInfoFrom.accessAuthType!=this.accessAuthTypeEunmArr[0].value;return e[0].required=t,e},showOnPassword:function(){return this.serverMachineNodeInfoFrom.accessAuthType==this.accessAuthTypeEunmArr[0].value},showOnRsa:function(){return this.serverMachineNodeInfoFrom.accessAuthType==this.accessAuthTypeEunmArr[1].value}}},Ye=Xe,et=Object(p["a"])(Ye,Je,Qe,!1,null,null,null),tt=et.exports,at=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Row",[a("i-col",{staticClass:"bread-crumb",attrs:{span:"24"}},[a("Breadcrumb",e._l(e.breadcrumbList,(function(t,r){return a("BreadcrumbItem",{key:r,attrs:{to:t.path}},[a("Icon",{attrs:{type:t.icon}}),e._v(" "+e._s(t.name)+" ")],1)})),1)],1)],1),a("Divider"),a("router-view"),a("Row",[a("i-col",{attrs:{span:"23",offset:"1"}},[a("div",{staticClass:"annotation-container"},[a("div",{staticClass:"annotation-container"},[a("div",{staticClass:"selected-version-eq annotation-square"}),a("p",{staticClass:"annotation-words"},[e._v(" : 当前版本")])]),a("div",{staticClass:"annotation-container"},[a("div",{staticClass:"current-version-young annotation-square"}),a("p",{staticClass:"annotation-words"},[e._v(" : 新版本")])]),a("div",{staticClass:"annotation-container"},[a("div",{staticClass:"current-version-old annotation-square"}),a("p",{staticClass:"annotation-words"},[e._v(" : 过时版本")])])])])],1),a("Form",{ref:"queryParamFrom",staticClass:"query-pram-from",attrs:{model:e.paramData.data}},[a("Row",[a("i-col",{staticClass:"page-col",attrs:{span:"4",offset:"1"}},[a("FormItem",{attrs:{prop:"nodeName"}},[a("i-input",{attrs:{type:"text",placeholder:"服务节点名称"},model:{value:e.paramData.data.nodeName,callback:function(t){e.$set(e.paramData.data,"nodeName",t)},expression:"paramData.data.nodeName"}})],1)],1),a("i-col",{staticClass:"page-col",attrs:{span:"2",offset:"1"}},[a("FormItem",{attrs:{prop:"nodeNamespace"}},[a("i-input",{attrs:{type:"text",placeholder:"节点命名空间"},model:{value:e.paramData.data.nodeNamespace,callback:function(t){e.$set(e.paramData.data,"nodeNamespace",t)},expression:"paramData.data.nodeNamespace"}})],1)],1),a("i-col",{staticClass:"page-col",attrs:{span:"2",offset:"1"}},[a("FormItem",{attrs:{prop:"currentVersion"}},[a("i-input",{attrs:{type:"text",placeholder:"当前版本"},model:{value:e.paramData.data.currentVersion,callback:function(t){e.$set(e.paramData.data,"currentVersion",t)},expression:"paramData.data.currentVersion"}})],1)],1),a("i-col",{staticClass:"page-col",attrs:{span:"2",offset:"1"}},[a("FormItem",{attrs:{prop:"deployType"}},[a("Select",{staticStyle:{width:"200px"},attrs:{placeholder:"部署类型",clearable:""},on:{"on-change":e.getdata},model:{value:e.paramData.data.deployType,callback:function(t){e.$set(e.paramData.data,"deployType",t)},expression:"paramData.data.deployType"}},e._l(e.deployTypeEunmArr,(function(t){return a("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.label))])})),1)],1)],1),a("i-col",{staticClass:"page-col",attrs:{span:"2",offset:"1"}},[a("FormItem",{attrs:{prop:"programType"}},[a("Select",{staticStyle:{width:"200px"},attrs:{placeholder:"程序类型",clearable:""},on:{"on-change":e.getdata},model:{value:e.paramData.data.programType,callback:function(t){e.$set(e.paramData.data,"programType",t)},expression:"paramData.data.programType"}},e._l(e.programTypeEunmArr,(function(t){return a("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.label))])})),1)],1)],1),a("i-col",{staticClass:"page-col",attrs:{span:"2",offset:"1"}},[a("FormItem",{attrs:{prop:"runningStatus"}},[a("Select",{staticStyle:{width:"200px"},attrs:{placeholder:"运行状态",clearable:""},on:{"on-change":e.getdata},model:{value:e.paramData.data.runningStatus,callback:function(t){e.$set(e.paramData.data,"runningStatus",t)},expression:"paramData.data.runningStatus"}},e._l(e.runningStatusEunmArr,(function(t){return a("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.label))])})),1)],1)],1),a("i-col",{staticClass:"button-group",attrs:{span:"3",offset:"19"}},[a("Button",{attrs:{type:"info"},on:{click:function(t){return e.pushAdd()}}},[e._v("新增")]),a("Button",{attrs:{type:"success"},on:{click:function(t){return e.getdata()}}},[e._v("查询")]),a("Button",{attrs:{type:"warning"},on:{click:function(t){return e.handleReset()}}},[e._v("重置")])],1)],1)],1),a("br"),a("Table",{staticClass:"list-button-group",attrs:{border:"",columns:e.columns,data:e.tableData},scopedSlots:e._u([{key:"action",fn:function(t){var r=t.row,o=t.index;return[a("Button",{staticStyle:{"margin-right":"5px"},attrs:{type:"primary",size:"small"},on:{click:function(t){return e.pushEditor(r.id)}}},[e._v("编辑")]),e.canBeStopNode(r.canStop)?a("Button",{staticStyle:{"margin-right":"5px"},attrs:{type:"error",size:"small"},on:{click:function(t){return e.setRunningStatusDownByDevOpsK8sNotificationVo(r)}}},[e._v("停止运行")]):e._e(),e.showOnPhysicalDeployment(r)?a("Button",{attrs:{type:"error",size:"small",disabled:e.globalButtonLoding},on:{click:function(t){return e.deleteData(r.id,o)}}},[e._v("删除")]):e._e()]}}])}),a("Row",[a("i-col",{staticClass:"page-col",attrs:{span:"6",offset:"17"}},[a("Page",{staticClass:"pagination",attrs:{total:e.paramData.data.totalCount,current:e.paramData.data.currentPage,"page-size":e.paramData.data.pageSize,"show-sizer":""},on:{"on-change":e.handlePage,"on-page-size-change":e.handlePageSize}})],1)],1),e.globalScreenLoding?a("Spin",{attrs:{size:"large",fix:""}}):e._e()],1)},rt=[],ot={data:function(){return{routerPath:this.$route.path,programTypeEunmArr:[{value:"0",label:"前端项目"},{value:"1",label:"后端项目"}],deployTypeEunmArr:[{value:"0",label:"物理地址部署"},{value:"1",label:"kubernetes部署"}],runningStatusEunmArr:[{value:"0",label:"运行中"},{value:"1",label:"已停止"}],apiStatusEunmArr:[{value:"0",label:"未启用"},{value:"1",label:"启用"}],paramData:{data:{nodeName:"",physicalPath:""},page:{currentPage:1,pageSize:10},sort:{orderBy:"id",sort:"desc"}},columns:[{title:"服务节点名称",key:"nodeName"},{title:"节点命名空间",key:"nodeNamespace"},{title:"选中版本",key:"selectedVersion"},{title:"当前版本",key:"currentVersion"},{title:"部署类型",key:"deployType"},{title:"程序类型",key:"programType"},{title:"运行状态",key:"runningStatus"},{title:"物理地址",key:"physicalPath"},{title:"修改时间",key:"updateTime"},{title:"操作",slot:"action",width:225,align:"center"}],tableData:[]}},computed:{breadcrumbList:function(){return this.utils.routerUtil.initRouterTreeNameArr(this.routerPath)},globalScreenLoding:function(){return this.$store.state.globalScreenLoding},globalButtonLoding:function(){return this.$store.state.globalButtonLoding}},mounted:function(){this.getdata()},methods:{handlePage:function(e){this.paramData.page.currentPage=e,this.getdata()},handlePageSize:function(e){this.paramData.page.pageSize=e,this.getdata()},rowClassName:function(e,t){return this.utils.styleUtil.initTableListRowClass(t)},getdata:function(){var e=this;this.utils.netUtil.post(this.API_PTAH.upSteamNodeInfoFind,this.paramData,(function(t){e.tableData=t.data.data,e.paramData.data.totalCount=t.data.page.totalCount,e.paramData.data.pageSize=t.data.page.pageSize,e.paramData.data.currentPage=t.data.page.currentPage}))},deleteData:function(e,t){var a=this;this.$store.commit("statusGlobalButtonLoding"),this.$Modal.confirm({title:"警告",content:"确认删除该条数据吗",onOk:function(){a.utils.netUtil.post(a.API_PTAH.upSteamNodeInfoDelete,{id:e},(function(e){e.data,a.tableData.splice(t,1),a.$store.commit("statusGlobalButtonLoding"),a.$Message.success("删除成功!")}),(function(){a.$store.commit("statusGlobalButtonLoding")}))},onCancel:function(){a.$store.commit("statusGlobalButtonLoding")}})},handleReset:function(){this.$refs.queryParamFrom.resetFields(),this.getdata()},pushAdd:function(){this.$router.push("/upsteam-node-info-list/upsteam-node-info-add")},pushEditor:function(e){this.$router.push({path:"/upsteam-node-info-list/upsteam-node-info-editor/".concat(e)})},setRunningStatusDownByDevOpsK8sNotificationVo:function(e){var t=this;this.$store.commit("statusGlobalScreenLoding"),this.utils.netUtil.post(this.API_PTAH.setRunningStatusDownByDevOpsK8sNotificationVo,{id:e.id,nodeName:e.nodeName,nodeNamespace:e.nodeNamespace,currentVersion:e.currentVersion},(function(e){var a=e.data.data,r=a?"停止成功！":"停止失败，请前往k8s控制台确认！";t.$store.commit("statusGlobalScreenLoding"),t.$Message.success(r),t.getdata()}),(function(){t.$store.commit("statusGlobalScreenLoding")}))},canBeStopNode:function(e){return"1"===e},showOnPhysicalDeployment:function(e){var t="物理地址部署"===e.deployType,a="已停止"===e.runningStatus;return t||a}}},st=ot,nt=(a("7d3b"),Object(p["a"])(st,at,rt,!1,null,null,null)),it=nt.exports,lt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Row",[a("i-col",{staticClass:"bread-crumb",attrs:{span:"24"}},[a("Breadcrumb",e._l(e.breadcrumbList,(function(t,r){return a("BreadcrumbItem",{key:r,attrs:{to:t.path}},[a("Icon",{attrs:{type:t.icon}}),e._v(" "+e._s(t.name)+" ")],1)})),1)],1)],1),a("Divider"),a("Row",[a("i-col",{attrs:{span:"12",offset:"6"}},[a("Form",{ref:"upSteamNodeInfoFrom",attrs:{model:e.upSteamNodeInfoFrom,rules:e.upSteamNodeInfoFromValidate,"label-width":110}},[a("FormItem",{attrs:{label:"服务节点名称",prop:"nodeName"}},[a("Select",{attrs:{filterable:"",remote:"","remote-method":e.queryUpSteamInfo,placeholder:"请搜索以选择服务节点",loading:e.isLoadingUpSteamNodeInfo},model:{value:e.upSteamNodeInfoFrom.nodeName,callback:function(t){e.$set(e.upSteamNodeInfoFrom,"nodeName",t)},expression:"upSteamNodeInfoFrom.nodeName"}},e._l(e.upSteamNodeInfo,(function(t,r){return a("Option",{key:r,attrs:{value:t.upsteamName}},[e._v(e._s(t.upsteamName))])})),1),a("upSteamName")],1),a("FormItem",{attrs:{label:"程序类型",prop:"programType"}},[a("Select",{attrs:{placeholder:"选择程序类型"},model:{value:e.upSteamNodeInfoFrom.programType,callback:function(t){e.$set(e.upSteamNodeInfoFrom,"programType",t)},expression:"upSteamNodeInfoFrom.programType"}},e._l(e.programTypeEunmArr,(function(t){return a("Option",{key:t.value,attrs:{value:t.value,disabled:t.disabled}},[e._v(e._s(t.label))])})),1)],1),e.showObacked()?a("FormItem",{attrs:{label:"物理地址",prop:"physicalPath"}},[a("i-input",{attrs:{placeholder:"请输入物理地址"},model:{value:e.upSteamNodeInfoFrom.physicalPath,callback:function(t){e.$set(e.upSteamNodeInfoFrom,"physicalPath",t)},expression:"upSteamNodeInfoFrom.physicalPath"}})],1):e._e(),e.showOnFront()?a("FormItem",{attrs:{label:"项目文件路径",prop:"filePath"}},[a("i-input",{attrs:{placeholder:"请输入项目文件路径"},model:{value:e.upSteamNodeInfoFrom.filePath,callback:function(t){e.$set(e.upSteamNodeInfoFrom,"filePath",t)},expression:"upSteamNodeInfoFrom.filePath"}})],1):e._e(),a("FormItem",{attrs:{label:"部署类型",prop:"deployType"}},[a("Select",{attrs:{placeholder:"选择部署类型"},model:{value:e.upSteamNodeInfoFrom.deployType,callback:function(t){e.$set(e.upSteamNodeInfoFrom,"deployType",t)},expression:"upSteamNodeInfoFrom.deployType"}},e._l(e.deployTypeEunmArr,(function(t){return a("Option",{key:t.value,attrs:{value:t.value,disabled:t.disabled}},[e._v(e._s(t.label))])})),1)],1),a("FormItem",[a("Button",{attrs:{type:"primary",disabled:e.globalButtonLoding},on:{click:function(t){return e.handleSubmit("upSteamNodeInfoFrom")}}},[e._v("提交")]),a("Button",{staticStyle:{"margin-left":"8px"},on:{click:function(t){return e.handleReset("upSteamNodeInfoFrom")}}},[e._v("重置")])],1)],1)],1)],1)],1)},ut=[],ct={data:function(){return{programTypeEunmArr:[{value:"0",label:"前端项目"},{value:"1",label:"后端项目"}],deployTypeEunmArr:[{value:"0",label:"物理地址部署"},{value:"1",label:"kubernetes部署",disabled:!0}],routerPath:this.$route.path,isLoadingUpSteamNodeInfo:!1,upSteamNodeInfo:[],upSteamNodeInfoFrom:{nodeName:"",physicalPath:"",deployType:"",programType:"",filePath:""},upSteamNodeInfoFromValidate:{programType:[{required:!0,message:"程序类型不能为空",trigger:"change"}],deployType:[{required:!0,message:"部署类型不能为空",trigger:"change"}],nodeName:[{required:!0,max:30,pattern:/^[A-Za-z]+[A-Za-z-]*[A-Za-z]+$/,message:"服务节点名称不能为空,最多30个字符,必须以英文开头和结尾只能包含中横线 [ - ]",trigger:"blur"}],physicalPath:[{pattern:/^(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5]):{1}[0-9]{4,}$/,required:!0,message:"物理地址不能为空 并且为标准的ip地址格式+端口",trigger:"blur"}],filePath:[{pattern:/^\/\S*[A-Za-z0-9]+$/,required:!0,message:"请填写正确的服务器文件路径",trigger:"blur"}]}}},components:{upSteamName:ue},computed:{breadcrumbList:function(){return this.utils.routerUtil.initRouterTreeNameArr(this.routerPath)},globalScreenLoding:function(){return this.$store.state.globalScreenLoding},globalButtonLoding:function(){return this.$store.state.globalButtonLoding}},methods:{queryUpSteamInfo:function(e){var t=this;""!==e?(this.isLoadingUpSteamNodeInfo=!0,this.utils.netUtil.post(this.API_PTAH.upSteamNameFind,{data:{nodeName:e,physicalPath:""},page:{currentPage:1,pageSize:1e4},sort:{orderBy:"id",sort:"desc"}},(function(e){t.isLoadingUpSteamNodeInfo=!1,t.upSteamNodeInfo=e.data.data}))):this.upSteamNodeInfo=[]},handleSubmit:function(e){var t=this;this.$refs[e].validate((function(e){e?t.commitData():t.$Message.error("请完善表单信息!")}))},handleReset:function(e){this.$refs[e].resetFields()},commitData:function(){var e=this;this.$store.commit("statusGlobalButtonLoding"),this.utils.netUtil.post(this.API_PTAH.upSteamNodeInfoAdd,this.upSteamNodeInfoFrom,(function(){e.$Message.success("提交成功!"),e.$store.commit("statusGlobalButtonLoding"),e.$router.push("/upsteam-node-info-list")}),(function(){e.$store.commit("statusGlobalButtonLoding")}))},showOnFront:function(){return"0"===this.upSteamNodeInfoFrom.programType},showObacked:function(){return"1"===this.upSteamNodeInfoFrom.programType}}},pt=ct,dt=Object(p["a"])(pt,lt,ut,!1,null,null,null),mt=dt.exports,ft=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Row",[a("i-col",{staticClass:"bread-crumb",attrs:{span:"24"}},[a("Breadcrumb",e._l(e.breadcrumbList,(function(t,r){return a("BreadcrumbItem",{key:r,attrs:{to:t.path}},[a("Icon",{attrs:{type:t.icon}}),e._v(" "+e._s(t.name)+" ")],1)})),1)],1)],1),a("Divider"),a("Row",[a("i-col",{attrs:{span:"12",offset:"6"}},[a("Form",{ref:"upSteamNodeInfoFrom",attrs:{model:e.upSteamNodeInfoFrom,rules:e.fromValidate,"label-width":110}},[a("FormItem",{attrs:{label:"服务节点名称",prop:"nodeName"}},[a("Select",{attrs:{disabled:e.showOnKubernetesDeployment(),filterable:"",remote:"","remote-method":e.queryUpSteamInfo,placeholder:"请搜索以选择服务节点",loading:e.isLoadingUpSteamNodeInfo},model:{value:e.upSteamNodeInfoFrom.nodeName,callback:function(t){e.$set(e.upSteamNodeInfoFrom,"nodeName",t)},expression:"upSteamNodeInfoFrom.nodeName"}},e._l(e.upSteamNodeInfo,(function(t,r){return a("Option",{key:r,attrs:{value:t.upsteamName}},[e._v(e._s(t.upsteamName))])})),1),e.showOnKubernetesDeployment()?e._e():a("upSteamName")],1),e.showOnKubernetesDeployment()?a("FormItem",{attrs:{label:"节点命名空间",prop:"nodeNamespace"}},[a("i-input",{attrs:{disabled:"",placeholder:"请输入命名空间"},model:{value:e.upSteamNodeInfoFrom.nodeNamespace,callback:function(t){e.$set(e.upSteamNodeInfoFrom,"nodeNamespace",t)},expression:"upSteamNodeInfoFrom.nodeNamespace"}})],1):e._e(),e.showOnKubernetesDeployment()?a("FormItem",{attrs:{label:"\t当前版本",prop:"currentVersion"}},[a("i-input",{attrs:{disabled:"",placeholder:"请输入当前版本"},model:{value:e.upSteamNodeInfoFrom.currentVersion,callback:function(t){e.$set(e.upSteamNodeInfoFrom,"currentVersion",t)},expression:"upSteamNodeInfoFrom.currentVersion"}})],1):e._e(),e.showOnKubernetesDeployment()?a("FormItem",{attrs:{label:"选中版本",prop:"selectedVersion"}},[a("i-input",{attrs:{disabled:"",placeholder:"请输入选中版本"},model:{value:e.upSteamNodeInfoFrom.selectedVersion,callback:function(t){e.$set(e.upSteamNodeInfoFrom,"selectedVersion",t)},expression:"upSteamNodeInfoFrom.selectedVersion"}})],1):e._e(),a("FormItem",{attrs:{label:"程序类型",prop:"programType"}},[a("Select",{attrs:{placeholder:"选择程序类型"},model:{value:e.upSteamNodeInfoFrom.programType,callback:function(t){e.$set(e.upSteamNodeInfoFrom,"programType",t)},expression:"upSteamNodeInfoFrom.programType"}},e._l(e.programTypeEunmArr,(function(t){return a("Option",{key:t.value,attrs:{value:t.value,disabled:t.disabled}},[e._v(e._s(t.label))])})),1)],1),e.showObacked()?a("FormItem",{attrs:{label:"物理地址",prop:"physicalPath"}},[a("i-input",{attrs:{placeholder:"请输入物理地址"},model:{value:e.upSteamNodeInfoFrom.physicalPath,callback:function(t){e.$set(e.upSteamNodeInfoFrom,"physicalPath",t)},expression:"upSteamNodeInfoFrom.physicalPath"}})],1):e._e(),e.showOnFront()?a("FormItem",{attrs:{label:"项目文件路径",prop:"filePath"}},[a("i-input",{attrs:{placeholder:"请输入项目文件路径"},model:{value:e.upSteamNodeInfoFrom.filePath,callback:function(t){e.$set(e.upSteamNodeInfoFrom,"filePath",t)},expression:"upSteamNodeInfoFrom.filePath"}})],1):e._e(),a("FormItem",{attrs:{label:"部署类型",prop:"deployType"}},[a("Select",{attrs:{placeholder:"选择部署类型"},model:{value:e.upSteamNodeInfoFrom.deployType,callback:function(t){e.$set(e.upSteamNodeInfoFrom,"deployType",t)},expression:"upSteamNodeInfoFrom.deployType"}},e._l(e.deployTypeEunmArr,(function(t){return a("Option",{key:t.value,attrs:{value:t.value,disabled:t.disabled}},[e._v(e._s(t.label))])})),1)],1),a("FormItem",[a("Button",{attrs:{type:"primary",disabled:e.globalButtonLoding},on:{click:function(t){return e.handleSubmit("upSteamNodeInfoFrom")}}},[e._v("提交")])],1)],1)],1)],1)],1)},ht=[],gt={props:{query:{userId:0}},data:function(){return{programTypeEunmArr:[{value:"0",label:"前端项目"},{value:"1",label:"后端项目"}],deployTypeEunmArr:[{value:"0",label:"物理地址部署"},{value:"1",label:"kubernetes部署",disabled:!0}],routerPath:this.$route.path,isLoadingUpSteamNodeInfo:!1,upSteamNodeInfo:[],upSteamNodeInfoFrom:{id:this.$route.params.id,nodeName:"",physicalPath:"",deployType:"",programType:"",filePath:""},fromValidate:{programType:[{required:!0,message:"程序类型不能为空",trigger:"change"}],deployType:[{required:!0,message:"部署类型不能为空",trigger:"change"}],nodeName:[{required:!0,max:30,pattern:/^[A-Za-z]+[A-Za-z-]*[A-Za-z]+$/,message:"服务节点名称不能为空,最多30个字符,必须以英文开头和结尾只能包含中横线 [ - ]",trigger:"blur"}],physicalPath:[{pattern:/^(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5]):{1}[0-9]{4,}$/,required:!0,message:"物理地址不能为空 并且为标准的ip地址格式+端口",trigger:"blur"}],filePath:[{pattern:/^\/\S*[A-Za-z0-9]+$/,required:!0,message:"请填写正确的服务器文件路径",trigger:"blur"}]}}},components:{upSteamName:ue},mounted:function(){this.loadData()},computed:{breadcrumbList:function(){return this.utils.routerUtil.initRouterTreeNameArr(this.routerPath)},globalScreenLoding:function(){return this.$store.state.globalScreenLoding},globalButtonLoding:function(){return this.$store.state.globalButtonLoding}},methods:{showOnKubernetesDeployment:function(){return"1"===this.upSteamNodeInfoFrom.deployType},queryUpSteamInfo:function(e){var t=this;""!==e?(this.isLoadingUpSteamNodeInfo=!0,this.utils.netUtil.post(this.API_PTAH.upSteamNameFind,{data:{nodeName:e,physicalPath:""},page:{currentPage:1,pageSize:1e4},sort:{orderBy:"id",sort:"desc"}},(function(e){t.isLoadingUpSteamNodeInfo=!1,t.upSteamNodeInfo=e.data.data}))):this.upSteamNodeInfo=[]},handleSubmit:function(e){var t=this;this.$refs[e].validate((function(e){e?t.commitData():t.$Message.error("请完善表单信息!")}))},loadData:function(){var e=this;this.utils.netUtil.post(this.API_PTAH.upSteamNodeInfoFindById,this.upSteamNodeInfoFrom,(function(t){e.upSteamNodeInfoFrom=t.data.data}))},commitData:function(){var e=this;this.$store.commit("statusGlobalButtonLoding"),this.upSteamNodeInfoFrom.id=this.$route.params.id,this.utils.netUtil.post(this.API_PTAH.upSteamNodeInfoUpdate,this.upSteamNodeInfoFrom,(function(){e.$Message.success("提交成功!"),e.$store.commit("statusGlobalButtonLoding"),e.$router.push("/upsteam-node-info-list")}),(function(){e.$store.commit("statusGlobalButtonLoding")}))},showOnFront:function(){return"0"===this.upSteamNodeInfoFrom.programType},showObacked:function(){return"1"===this.upSteamNodeInfoFrom.programType}}},vt=gt,bt=Object(p["a"])(vt,ft,ht,!1,null,null,null),It=bt.exports,yt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Row",[a("i-col",{staticClass:"bread-crumb",attrs:{span:"24"}},[a("Breadcrumb",e._l(e.breadcrumbList,(function(t,r){return a("BreadcrumbItem",{key:r,attrs:{to:t.path}},[a("Icon",{attrs:{type:t.icon}}),e._v(" "+e._s(t.name)+" ")],1)})),1)],1)],1),a("Divider"),a("router-view"),a("Form",{ref:"queryParamFrom",staticClass:"query-pram-from",attrs:{model:e.paramData.data}},[a("Row",[a("i-col",{staticClass:"page-col",attrs:{span:"4",offset:"1"}},[a("FormItem",{attrs:{prop:"appName"}},[a("i-input",{attrs:{type:"text",placeholder:"应用名"},model:{value:e.paramData.data.appName,callback:function(t){e.$set(e.paramData.data,"appName",t)},expression:"paramData.data.appName"}})],1)],1),a("i-col",{staticClass:"page-col",attrs:{span:"2",offset:"1"}},[a("FormItem",{attrs:{prop:"appCategory"}},[a("Select",{staticStyle:{width:"200px"},attrs:{placeholder:"应用类型",clearable:""},on:{"on-change":e.getdata},model:{value:e.paramData.data.appCategory,callback:function(t){e.$set(e.paramData.data,"appCategory",t)},expression:"paramData.data.appCategory"}},e._l(e.appCategoryEunmArr,(function(t){return a("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.label))])})),1)],1)],1),a("i-col",{staticClass:"page-col",attrs:{span:"2",offset:"1"}},[a("FormItem",{attrs:{prop:"authType"}},[a("Select",{staticStyle:{width:"200px"},attrs:{placeholder:"授权模式",clearable:""},on:{"on-change":e.getdata},model:{value:e.paramData.data.authType,callback:function(t){e.$set(e.paramData.data,"authType",t)},expression:"paramData.data.authType"}},e._l(e.authTypeEunmArr,(function(t){return a("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.label))])})),1)],1)],1),a("i-col",{staticClass:"page-col",attrs:{span:"2",offset:"1"}},[a("FormItem",{attrs:{prop:"appStatus"}},[a("Select",{staticStyle:{width:"200px"},attrs:{placeholder:"应用状态",clearable:""},on:{"on-change":e.getdata},model:{value:e.paramData.data.appStatus,callback:function(t){e.$set(e.paramData.data,"appStatus",t)},expression:"paramData.data.appStatus"}},e._l(e.appStatusEunmArr,(function(t){return a("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.label))])})),1)],1)],1),a("i-col",{staticClass:"button-group",attrs:{span:"5",offset:"17"}},[a("Button",{attrs:{type:"info"},on:{click:function(t){return e.pushAdd()}}},[e._v("新增")]),a("Button",{attrs:{type:"success"},on:{click:function(t){return e.getdata()}}},[e._v("查询")]),a("Button",{attrs:{type:"warning"},on:{click:function(t){return e.handleReset()}}},[e._v("重置")]),a("Button",{attrs:{type:"primary"},on:{click:function(t){return e.syncAppApiRelationship()}}},[e._v("同步应用信息")])],1)],1)],1),a("br"),a("Table",{staticClass:"list-button-group",attrs:{border:"",columns:e.columns,data:e.tableData},scopedSlots:e._u([{key:"action",fn:function(t){var r=t.row,o=t.index;return[a("Button",{staticStyle:{"margin-right":"5px"},attrs:{type:"warning",size:"small"},on:{click:function(t){return e.showApiBindModal(r)}}},[e._v("接口管理")]),a("Button",{staticStyle:{"margin-right":"5px"},attrs:{type:"primary",size:"small"},on:{click:function(t){return e.pushEditor(r.id)}}},[e._v("编辑")]),a("Button",{attrs:{type:"error",size:"small",disabled:e.globalButtonLoding},on:{click:function(t){return e.deleteData(r.id,o)}}},[e._v("删除")])]}}])}),a("Row",[a("i-col",{staticClass:"page-col",attrs:{span:"6",offset:"17"}},[a("Page",{staticClass:"pagination",attrs:{total:e.paramData.data.totalCount,current:e.paramData.data.currentPage,"page-size":e.paramData.data.pageSize,"show-sizer":""},on:{"on-change":e.handlePage,"on-page-size-change":e.handlePageSize}})],1)],1),a("AppApiModal",{attrs:{"show-modal":e.showModal,"modal-title":e.modalTitle,"app-id":e.selectAppId},on:{closeApiBindModal:e.closeApiBindModal}}),e.globalScreenLoding?a("Spin",{attrs:{size:"large",fix:""}}):e._e()],1)},Ft=[],St=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Modal",{attrs:{width:"830",title:e.modalTitle},on:{"on-ok":e.closeModal,"on-cancel":e.closeModal,"on-visible-change":e.initModal},model:{value:e.showallApiModal,callback:function(t){e.showallApiModal=t},expression:"showallApiModal"}},[a("Row",[a("i-col",{attrs:{span:"20",offset:"2"}},[a("Select",{ref:"serverSelector",attrs:{placeholder:"搜索并选择服务名",filterable:"",clearable:!0,remote:"","remote-method":e.queryServerbyName,loading:e.serverOptionsLoading},on:{"on-clear":e.clearSelectServer,"on-change":e.changeSelectServer}},e._l(e.serverOptions,(function(t,r){return a("Option",{key:r,attrs:{value:t.id}},[e._v(e._s(t.serverName))])})),1)],1)],1),a("Divider"),a("Row",[a("i-col",{attrs:{span:"20",offset:"2"}},[a("Transfer",{attrs:{data:e.allApi,titles:e.transferTitle,"target-keys":e.bindKeys,"list-style":e.transferStyle},on:{"on-change":e.handleBindingApi}})],1)],1),e.loadingModalData?a("Spin",{attrs:{size:"large",fix:""}}):e._e()],1)},At=[],Nt=a("2ef0"),Pt=a.n(Nt),$t={props:["appId","showModal","modalTitle"],data:function(){return{loadingModalData:!1,transferStyle:{width:"300px",height:"300px"},transferTitle:["绑定的API","未绑定的API"],showallApiModal:this.showModal,allApi:[],bindKeys:[],serverOptions:[],serverOptionsLoading:!1,queryServerbyNameParam:{serverId:"",appId:this.appId}}},watch:{showModal:function(){this.showallApiModal=this.showModal}},methods:{clearSelectServer:function(){var e=this;this.allApi=[],this.bindKeys=[],this.queryServerbyNameParam.appId=this.appId,this.utils.netUtil.post(this.API_PTAH.findApiByAppId,this.queryServerbyNameParam,(function(t){e.allApi=t.data.data.allApi,e.bindKeys=t.data.data.bindKeys}))},closeModal:function(){this.$refs.serverSelector.clearSingleSelect(),this.allApi=[],this.bindKeys=[],this.$emit("closeApiBindModal")},initModal:function(e){var t=this;e&&(this.queryServerbyNameParam.appId=this.appId,this.loadingModalData=!0,this.utils.netUtil.post(this.API_PTAH.findApiByAppId,this.queryServerbyNameParam,(function(e){t.loadingModalData=!1,t.allApi=e.data.data.allApi,t.bindKeys=e.data.data.bindKeys})))},pushToHeavyAllApi:function(e,t){return t.forEach((function(t){var a=!1;e.forEach((function(e){e.key==t.key&&(a=!0)})),a||e.push(t)})),e},pushToHeavyBindKeys:function(e,t){return t.forEach((function(t){var a=!1;e.forEach((function(e){e==t&&(a=!0)})),a||e.push(t)})),e},changeSelectServer:function(e){var t=this;e&&(this.queryServerbyNameParam.serverId=e,this.queryServerbyNameParam.appId=this.appId,this.utils.netUtil.post(this.API_PTAH.findAppApiRelationshipByServerIdAndAppId,this.queryServerbyNameParam,(function(e){t.allApi=t.pushToHeavyAllApi(t.allApi,e.data.data.allApi),t.bindKeys=t.pushToHeavyBindKeys(t.bindKeys,e.data.data.bindKeys)})))},handleBindingApi:function(e,t,a){var r=this;"left"===t&&this.utils.netUtil.post(this.API_PTAH.bindingApi,{appId:this.appId,apiIds:a},(function(){r.$Message.success("绑定成功!")})),"right"===t&&this.utils.netUtil.post(this.API_PTAH.unBindingApi,{appId:this.appId,apiIds:a},(function(){r.$Message.success("解绑成功!")})),this.bindKeys=e},queryServerbyName:Pt.a.debounce((function(e){var t=this;""!==e?(this.serverOptionsLoading=!0,this.serverOptions=[],this.loadingModalData=!0,this.utils.netUtil.post(this.API_PTAH.findServerByName,{serverName:e},(function(e){t.serverOptionsLoading=!1,t.serverOptions=e.data.data,t.loadingModalData=!1}))):this.serverOptions=[]}),500)}},Dt=$t,_t=Object(p["a"])(Dt,St,At,!1,null,null,null),kt=_t.exports,wt={components:{AppApiModal:kt},data:function(){return{routerPath:this.$route.path,authTypeEunmArr:[{value:"0",label:"授权码 (共享令牌)"},{value:"1",label:"私有令牌  (一设备一令牌 需要登录)"},{value:"2",label:"IP白名单+通行令牌 (管理后台模式)"},{value:"3",label:"私有免登陆令牌 (一设备一令牌 免登陆)"}],appCategoryEunmArr:[{value:"0",label:"基础应用"},{value:"1",label:"普通应用"}],appStatusEunmArr:[{value:"0",label:"连接"},{value:"1",label:"断开"}],paramData:{data:{appStatus:"",authType:"",appCategory:"",appName:""},page:{currentPage:1,pageSize:10},sort:{orderBy:"id",sort:"desc"}},columns:[{title:"应用名",key:"appName"},{title:"应用ID",key:"openId"},{title:"授权模式",key:"authType"},{title:"应用状态",key:"appStatus"},{title:"修改时间",key:"updateTime"},{title:"操作",slot:"action",width:250,align:"center"}],tableData:[],showModal:!1,selectAppId:"",modalTitle:""}},computed:{breadcrumbList:function(){return this.utils.routerUtil.initRouterTreeNameArr(this.routerPath)},globalScreenLoding:function(){return this.$store.state.globalScreenLoding},globalButtonLoding:function(){return this.$store.state.globalButtonLoding}},mounted:function(){this.getdata()},methods:{handlePage:function(e){this.paramData.page.currentPage=e,this.getdata()},handlePageSize:function(e){this.paramData.page.pageSize=e,this.getdata()},rowClassName:function(e,t){return this.utils.initTableListRowClass(t)},getdata:function(){var e=this;this.utils.netUtil.post(this.API_PTAH.appInfoFind,this.paramData,(function(t){e.tableData=t.data.data,e.paramData.data.totalCount=t.data.page.totalCount,e.paramData.data.pageSize=t.data.page.pageSize,e.paramData.data.currentPage=t.data.page.currentPage}))},deleteData:function(e,t){var a=this;this.$store.commit("statusGlobalButtonLoding"),this.$Modal.confirm({title:"警告",content:"确认删除该条数据吗",onOk:function(){a.utils.netUtil.post(a.API_PTAH.appInfoDelete,{id:e},(function(){a.tableData.splice(t,1),a.$Message.success("删除成功!"),a.$store.commit("statusGlobalButtonLoding")}),(function(){a.$store.commit("statusGlobalButtonLoding")}))},onCancel:function(){a.$store.commit("statusGlobalButtonLoding")}})},syncAppApiRelationship:function(){var e=this;this.$store.commit("statusGlobalScreenLoding"),this.utils.netUtil.post(this.API_PTAH.syncAppApiRelationship,{},(function(){e.$Message.success("同步数据成功!"),e.$store.commit("statusGlobalScreenLoding")}),(function(){e.$store.commit("statusGlobalScreenLoding")}))},handleReset:function(){this.$refs.queryParamFrom.resetFields(),this.getdata()},pushAdd:function(){this.$router.push("".concat(this.$route.path,"/app-info-add"))},pushEditor:function(e){this.$router.push({path:"".concat(this.$route.path,"/app-info-editor/").concat(e)})},showApiBindModal:function(e){this.modalTitle="".concat(e.appName," 接口管理"),this.showModal=!0,this.selectAppId=e.id},closeApiBindModal:function(){this.showModal=!1}}},Lt=wt,Tt=Object(p["a"])(Lt,yt,Ft,!1,null,null,null),Bt=Tt.exports,xt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Row",[a("i-col",{staticClass:"bread-crumb",attrs:{span:"24"}},[a("Breadcrumb",e._l(e.breadcrumbList,(function(t,r){return a("BreadcrumbItem",{key:r,attrs:{to:t.path}},[a("Icon",{attrs:{type:t.icon}}),e._v(" "+e._s(t.name)+" ")],1)})),1)],1)],1),a("Divider"),a("Row",[a("i-col",{attrs:{span:"12",offset:"6"}},[a("Form",{ref:"appInfoFrom",attrs:{model:e.appInfoFrom,rules:e.appInfoFromValidate,"label-width":120}},[a("FormItem",{attrs:{label:"应用名称",prop:"appName"}},[a("i-input",{attrs:{placeholder:"请输入应用名称"},model:{value:e.appInfoFrom.appName,callback:function(t){e.$set(e.appInfoFrom,"appName",t)},expression:"appInfoFrom.appName"}})],1),a("FormItem",{attrs:{label:"API授权模式",prop:"authType"}},[a("Select",{attrs:{placeholder:"选择API授权模式"},model:{value:e.appInfoFrom.authType,callback:function(t){e.$set(e.appInfoFrom,"authType",t)},expression:"appInfoFrom.authType"}},e._l(e.authTypeEunmArr,(function(t){return a("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.label))])})),1)],1),e.showOnPrivateTokenAuthType()?a("FormItem",{attrs:{label:"账号授权模式",prop:"loginType"}},[a("Select",{attrs:{placeholder:"账号选择登录模式"},model:{value:e.appInfoFrom.loginType,callback:function(t){e.$set(e.appInfoFrom,"loginType",t)},expression:"appInfoFrom.loginType"}},e._l(e.loginTypeEunmArr,(function(t){return a("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.label))])})),1)],1):e._e(),e.showOnSso()?a("FormItem",{attrs:{label:"SSO回调地址",prop:"oauthBaseUrl"}},[a("i-input",{attrs:{placeholder:"请输入SSO登陆成功回调地址"},model:{value:e.appInfoFrom.oauthBaseUrl,callback:function(t){e.$set(e.appInfoFrom,"oauthBaseUrl",t)},expression:"appInfoFrom.oauthBaseUrl"}})],1):e._e(),a("FormItem",{attrs:{label:"APP状态",prop:"appStatus"}},[a("Select",{attrs:{placeholder:"选择授权模式"},model:{value:e.appInfoFrom.appStatus,callback:function(t){e.$set(e.appInfoFrom,"appStatus",t)},expression:"appInfoFrom.appStatus"}},e._l(e.appStatusEunmArr,(function(t){return a("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.label))])})),1)],1),a("FormItem",[a("Button",{attrs:{type:"primary",disabled:e.globalButtonLoding},on:{click:function(t){return e.handleSubmit("appInfoFrom")}}},[e._v("提交")]),a("Button",{staticStyle:{"margin-left":"8px"},on:{click:function(t){return e.handleReset("appInfoFrom")}}},[e._v("重置")])],1)],1)],1)],1)],1)},Ut=[],Ot={data:function(){return{routerPath:this.$route.path,loginTypeEunmArr:[{value:"0",label:"API (短信验证码登录注册/短信验证码登录/密码登录)"},{value:"1",label:"SSO (短信验证码登录)"},{value:"2",label:"SSO (密码登录)"}],authTypeEunmArr:[{value:"0",label:"授权码 (共享令牌)"},{value:"1",label:"私有令牌  (一设备一令牌 需要登录)"},{value:"2",label:"IP白名单+通行令牌 (管理后台模式)"},{value:"3",label:"私有免登陆令牌 (一设备一令牌 免登陆)"}],appStatusEunmArr:[{value:"0",label:"连接"},{value:"1",label:"断开"}],appInfoFrom:{appName:"",appCategory:"",authType:"",appStatus:"",loginType:""},appInfoFromValidate:{appName:[{required:!0,message:"应用名不能为空",trigger:"blur"}],appStatus:[{required:!0,message:"应用状态不能为空",trigger:"blur"}],authType:[{required:!0,message:"API授权模式不能为空",trigger:"blur"}],loginType:[{required:!0,message:"账号授权模式不能为空",trigger:"blur"}],appCategory:[{required:!0,message:"应用分类不能为空",trigger:"change"}],oauthBaseUrl:[{required:!0,message:"请正确填写url格式",pattern:/^(http|ftp|https){1}[:]{1}[/]{2}([0-9a-zA-Z]|[-]|[_])+\S+$/,trigger:"blur"}]}}},computed:{breadcrumbList:function(){return this.utils.routerUtil.initRouterTreeNameArr(this.routerPath)},globalScreenLoding:function(){return this.$store.state.globalScreenLoding},globalButtonLoding:function(){return this.$store.state.globalButtonLoding}},methods:{handleSubmit:function(e){var t=this;this.$refs[e].validate((function(e){e?t.commitData():t.$Message.error("请完善表单信息!")}))},handleReset:function(e){this.$refs[e].resetFields()},commitData:function(){var e=this;this.$store.commit("statusGlobalButtonLoding"),this.utils.netUtil.post(this.API_PTAH.appInfoAdd,this.appInfoFrom,(function(){e.$Message.success("提交成功!"),e.$store.commit("statusGlobalButtonLoding"),e.$router.push("/app-info-list")}),(function(){e.$store.commit("statusGlobalButtonLoding")}))},showOnPrivateTokenAuthType:function(){return"1"===this.appInfoFrom.authType},showOnSso:function(){return"1"===this.appInfoFrom.loginType||"2"===this.appInfoFrom.loginType}}},Mt=Ot,Ct=Object(p["a"])(Mt,xt,Ut,!1,null,null,null),Rt=Ct.exports,zt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Row",[a("i-col",{staticClass:"bread-crumb",attrs:{span:"24"}},[a("Breadcrumb",e._l(e.breadcrumbList,(function(t,r){return a("BreadcrumbItem",{key:r,attrs:{to:t.path}},[a("Icon",{attrs:{type:t.icon}}),e._v(" "+e._s(t.name)+" ")],1)})),1)],1)],1),a("Divider"),a("Row",[a("i-col",{attrs:{span:"12",offset:"6"}},[a("Form",{ref:"appInfoFrom",attrs:{model:e.appInfoFrom,rules:e.fromValidate,"label-width":120}},[a("FormItem",{attrs:{label:"应用名称",prop:"appName"}},[a("i-input",{attrs:{placeholder:"请输入应用名称"},model:{value:e.appInfoFrom.appName,callback:function(t){e.$set(e.appInfoFrom,"appName",t)},expression:"appInfoFrom.appName"}})],1),a("FormItem",{attrs:{label:"应用状态",prop:"appStatus"}},[a("Select",{attrs:{placeholder:"请输入应用状态"},model:{value:e.appInfoFrom.appStatus,callback:function(t){e.$set(e.appInfoFrom,"appStatus",t)},expression:"appInfoFrom.appStatus"}},e._l(e.appStatusEunmArr,(function(t){return a("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.label))])})),1)],1),a("FormItem",{attrs:{label:"API授权模式",prop:"authType"}},[a("Select",{attrs:{placeholder:"请输入API授权模式",disabled:""},model:{value:e.appInfoFrom.authType,callback:function(t){e.$set(e.appInfoFrom,"authType",t)},expression:"appInfoFrom.authType"}},e._l(e.authTypeEunmArr,(function(t){return a("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.label))])})),1),a("ipWhiteList",{directives:[{name:"show",rawName:"v-show",value:e.showOnInnerApi(),expression:"showOnInnerApi()"}]}),a("unLoginAccessWhiteList",{directives:[{name:"show",rawName:"v-show",value:e.showOnPrivateTokenAuthType(),expression:"showOnPrivateTokenAuthType()"}],attrs:{"app-id":e.appInfoFrom.id}})],1),e.showOnPrivateTokenAuthType()?a("FormItem",{attrs:{label:"账号授权模式",prop:"loginType"}},[a("Select",{attrs:{placeholder:"选择账号授权模式"},model:{value:e.appInfoFrom.loginType,callback:function(t){e.$set(e.appInfoFrom,"loginType",t)},expression:"appInfoFrom.loginType"}},e._l(e.loginTypeEunmArr,(function(t){return a("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.label))])})),1)],1):e._e(),e.showOnSso()?a("FormItem",{attrs:{label:"SSO回调地址",prop:"oauthBaseUrl"}},[a("i-input",{attrs:{placeholder:"请输入SSO登陆成功回调地址"},model:{value:e.appInfoFrom.oauthBaseUrl,callback:function(t){e.$set(e.appInfoFrom,"oauthBaseUrl",t)},expression:"appInfoFrom.oauthBaseUrl"}})],1):e._e(),a("FormItem",{attrs:{label:"应用唯一ID",prop:"openId"}},[a("i-input",{attrs:{disabled:"",placeholder:"请输入创建时间"},model:{value:e.appInfoFrom.openId,callback:function(t){e.$set(e.appInfoFrom,"openId",t)},expression:"appInfoFrom.openId"}})],1),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:e.showOnOpenApi(),expression:"showOnOpenApi()"}],attrs:{label:"应用秘钥",prop:"secret"}},[a("i-input",{attrs:{disabled:"",placeholder:"请输入应用秘钥"},model:{value:e.appInfoFrom.secret,callback:function(t){e.$set(e.appInfoFrom,"secret",t)},expression:"appInfoFrom.secret"}})],1),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:e.showOnInnerApi(),expression:"showOnInnerApi()"}],attrs:{label:"访问令牌",prop:"innerApiToken"}},[a("i-input",{attrs:{disabled:"",placeholder:"请输入访问令牌"},model:{value:e.appInfoFrom.innerApiToken,callback:function(t){e.$set(e.appInfoFrom,"innerApiToken",t)},expression:"appInfoFrom.innerApiToken"}})],1),a("FormItem",{attrs:{label:"创建时间",prop:"createTime"}},[a("i-input",{attrs:{disabled:"",placeholder:"请输入创建时间"},model:{value:e.appInfoFrom.createTime,callback:function(t){e.$set(e.appInfoFrom,"createTime",t)},expression:"appInfoFrom.createTime"}})],1),a("FormItem",{attrs:{label:"\t修改时间",prop:"updateTime"}},[a("i-input",{attrs:{disabled:"",placeholder:"请输入修改时间"},model:{value:e.appInfoFrom.updateTime,callback:function(t){e.$set(e.appInfoFrom,"updateTime",t)},expression:"appInfoFrom.updateTime"}})],1),a("FormItem",{attrs:{label:"\t操作人",prop:"operatorName"}},[a("i-input",{attrs:{disabled:"",placeholder:"请输入操作人"},model:{value:e.appInfoFrom.operatorName,callback:function(t){e.$set(e.appInfoFrom,"operatorName",t)},expression:"appInfoFrom.operatorName"}})],1),a("FormItem",[a("Button",{attrs:{type:"primary",disabled:e.globalButtonLoding},on:{click:function(t){return e.handleSubmit("appInfoFrom")}}},[e._v("提交")])],1)],1)],1)],1)],1)},Et=[],qt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a",{attrs:{type:"primary"},on:{click:function(t){return e.showDataList()}}},[e._v("添加IP访问白名单")]),a("Drawer",{attrs:{title:"ip地址白名单",width:"512",closable:!1},model:{value:e.showDataListState,callback:function(t){e.showDataListState=t},expression:"showDataListState"}},[a("Button",{attrs:{type:"info"},on:{click:function(t){e.showAddFrom=!0}}},[e._v("新增")]),a("Divider"),a("Table",{attrs:{columns:e.columns,data:e.listData},scopedSlots:e._u([{key:"action",fn:function(t){var r=t.row,o=t.index;return[a("a",{on:{click:function(t){return e.deleteData(r.id,o)}}},[e._v("删除")])]}}])})],1),a("Drawer",{attrs:{title:"新增白名单",closable:!1},on:{"on-close":e.onCloseAddView},model:{value:e.showAddFrom,callback:function(t){e.showAddFrom=t},expression:"showAddFrom"}},[a("Form",{ref:"addDataParam",attrs:{"label-width":80,rules:e.validateRule,model:e.addDataParam}},[a("FormItem",{attrs:{label:"ip地址",prop:"ipAddress"}},[a("i-input",{attrs:{placeholder:"请输入应用名称"},model:{value:e.addDataParam.ipAddress,callback:function(t){e.$set(e.addDataParam,"ipAddress",t)},expression:"addDataParam.ipAddress"}})],1),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:function(t){return e.handleSubmit("addDataParam")}}},[e._v("提交")])],1)],1)],1)],1)},Vt=[],Ht={data:function(){return{paramData:{data:{ipAddress:""},page:{currentPage:1,pageSize:10},sort:{orderBy:"id",sort:"desc"}},addDataParam:{ipAddress:""},validateRule:{ipAddress:[{required:!0,pattern:/^(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])$/,message:"ip地址格式输入不正确",trigger:"blur"}]},showDataListState:!1,showAddFrom:!1,columns:[{title:"ip白名单",key:"ipAddress"},{title:"操作",slot:"action",width:250,align:"center"}],listData:[]}},mounted:function(){},methods:{handleSubmit:function(e){var t=this;this.$refs[e].validate((function(e){e?t.commitData():t.$Message.error("请完善表单信息!")}))},showDataList:function(){this.showDataListState=!0,0==this.listData.length&&this.getDataList()},getDataList:function(){var e=this;this.utils.netUtil.post(this.API_PTAH.ipWhtieListFind,this.paramData,(function(t){e.listData=t.data.data}))},deleteData:function(e,t){var a=this;this.$Modal.confirm({title:"警告",content:"确认删除该条数据吗",onOk:function(){a.utils.netUtil.post(a.API_PTAH.ipWhtieListDelete,{id:e},(function(){a.listData.splice(t,1),a.$Message.success("删除成功!")}))}})},commitData:function(){var e=this;this.utils.netUtil.post(this.API_PTAH.ipWhtieListAdd,this.addDataParam,(function(){e.addDataParam.ipAddress="",e.showAddFrom=!1,e.$Message.success("提交成功!"),e.getDataList()}))},onCloseAddView:function(){this.addDataParam.ipAddress=""}}},Gt=Ht,jt=Object(p["a"])(Gt,qt,Vt,!1,null,null,null),Kt=jt.exports,Zt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a",{attrs:{type:"primary"},on:{click:function(t){return e.showDataList()}}},[e._v("添加免登录访问接口白名单")]),a("Drawer",{attrs:{title:"免登录访问接口白名单",width:"512",closable:!1},model:{value:e.showDataListState,callback:function(t){e.showDataListState=t},expression:"showDataListState"}},[a("Button",{attrs:{type:"info"},on:{click:function(t){e.showAddFrom=!0}}},[e._v("新增")]),a("Divider"),a("Table",{attrs:{columns:e.columns,data:e.listData},scopedSlots:e._u([{key:"action",fn:function(t){var r=t.row,o=t.index;return[a("a",{on:{click:function(t){return e.deleteData(r.id,o)}}},[e._v("删除")])]}}])})],1),a("Drawer",{attrs:{title:"新增免登录访问接口白名单",closable:!1},on:{"on-close":e.onCloseAddView},model:{value:e.showAddFrom,callback:function(t){e.showAddFrom=t},expression:"showAddFrom"}},[a("Form",{ref:"addDataParam",attrs:{"label-width":95,rules:e.validateRule,model:e.addDataParam}},[a("FormItem",{attrs:{label:"白名单接口",prop:"apiId"}},[a("Select",{ref:"ApiSelector",attrs:{model:e.addDataParam.apiId,placeholder:"搜索接口名称",filterable:"",remote:"","remote-method":e.queryApiByAppId,loading:e.apiOptionsLoading,clearable:!0},on:{"on-clear":e.clearSelectApi,"on-change":e.changeSelectApi}},e._l(e.apiOptions,(function(t,r){return a("Option",{key:r,attrs:{value:t.apiId}},[e._v(e._s(t.apiName))])})),1)],1),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:function(t){return e.handleSubmit("addDataParam")}}},[e._v("提交")])],1)],1)],1)],1)},Wt=[],Jt={props:["appId"],data:function(){return{apiOptionsLoading:!1,apiOptions:[],paramData:{data:{apiId:"",apiName:"",apiPath:"",appId:this.appId},page:{currentPage:1,pageSize:10},sort:{orderBy:"id",sort:"desc"}},addDataParam:{apiId:"",apiName:"",apiPath:"",appId:this.appId},validateRule:{apiId:[{required:!0,message:"请搜索接口名称并选中",trigger:"change",type:"number"}]},showDataListState:!1,showAddFrom:!1,columns:[{title:"接口名称",key:"apiName"},{title:"操作",slot:"action",width:250,align:"center"}],listData:[]}},mounted:function(){},methods:{handleSubmit:function(e){var t=this;this.$refs[e].validate((function(e){e?t.commitData():t.$Message.error("请完善表单信息!")}))},showDataList:function(){this.showDataListState=!0,0==this.listData.length&&this.getDataList()},getDataList:function(){var e=this;this.utils.netUtil.post(this.API_PTAH.unLoginAccessWhiteListFind,this.paramData,(function(t){e.listData=t.data.data}))},deleteData:function(e,t){var a=this;this.$Modal.confirm({title:"警告",content:"确认删除该条数据吗",onOk:function(){a.utils.netUtil.post(a.API_PTAH.unLoginAccessWhiteListDelete,{id:e},(function(){a.listData.splice(t,1),a.$Message.success("删除成功!")}))}})},commitData:function(){var e=this;this.utils.netUtil.post(this.API_PTAH.unLoginAccessWhiteListAdd,this.addDataParam,(function(){e.showAddFrom=!1,e.$Message.success("提交成功!"),e.getDataList(),e.onCloseAddView()}))},onCloseAddView:function(){this.clearSelectApi(),this.$refs.ApiSelector.clearSingleSelect()},changeSelectApi:function(e){var t=this;e&&this.apiOptions.map((function(a){a.apiId===e&&(t.addDataParam.apiId=e,t.addDataParam.apiName=a.apiName,t.addDataParam.apiPath=a.apiPath)}))},queryApiByAppId:Pt.a.debounce((function(e){var t=this;""!==e?(this.apiOptionsLoading=!0,this.apiOptions=[],this.utils.netUtil.post(this.API_PTAH.unLoginAccessWhiteListFindUnBindingData,{data:{appId:this.appId,apiName:e}},(function(e){t.apiOptionsLoading=!1,t.apiOptions=e.data.data}))):this.apiOptions=[]}),500),clearSelectApi:function(){this.addDataParam.apiId="",this.addDataParam.apiName="",this.addDataParam.apiPath="",this.addDataParam.apiId="",this.apiOptions=[]}}},Qt=Jt,Xt=Object(p["a"])(Qt,Zt,Wt,!1,null,null,null),Yt=Xt.exports,ea={components:{ipWhiteList:Kt,unLoginAccessWhiteList:Yt},props:{query:{userId:0}},data:function(){return{routerPath:this.$route.path,loginTypeEunmArr:[{value:"0",label:"API (短信验证码登录注册/短信验证码登录/密码登录)"},{value:"1",label:"SSO (短信验证码登录)"},{value:"2",label:"SSO (密码登录)"}],authTypeEunmArr:[{value:"0",label:"授权码 (共享令牌)"},{value:"1",label:"私有令牌  (一设备一令牌 需要登录)"},{value:"2",label:"IP白名单+通行令牌 (管理后台模式)"},{value:"3",label:"私有免登陆令牌 (一设备一令牌 免登陆)"}],appStatusEunmArr:[{value:"0",label:"连接"},{value:"1",label:"断开"}],appInfoFrom:{id:this.$route.params.id,createTime:"",updateTime:"",operatorName:"",appName:"",authType:"",appStatus:"",appCategory:"",oauthBaseUrl:"",loginType:""},fromValidate:{loginType:[{required:!0,message:"登录模式不能为空",trigger:"blur"}],oauthBaseUrl:[{required:!0,message:"请正确填写url格式",pattern:/^(http|ftp|https){1}[:]{1}[/]{2}([0-9a-zA-Z]|[-]|[_])+\S+$/,trigger:"blur"}],appName:[{required:!0,message:"应用名不能为空",trigger:"blur"}],appCategory:[{required:!0,message:"应用分类不能为空",trigger:"change"}]}}},mounted:function(){this.loadData()},computed:{breadcrumbList:function(){return this.utils.routerUtil.initRouterTreeNameArr(this.routerPath)},globalScreenLoding:function(){return this.$store.state.globalScreenLoding},globalButtonLoding:function(){return this.$store.state.globalButtonLoding}},methods:{handleSubmit:function(e){var t=this;this.$refs[e].validate((function(e){e?t.commitData():t.$Message.error("请完善表单信息!")}))},loadData:function(){var e=this;this.utils.netUtil.post(this.API_PTAH.appInfoFindById,{data:this.appInfoFrom},(function(t){e.appInfoFrom=t.data.data}))},commitData:function(){var e=this;this.$store.commit("statusGlobalButtonLoding"),this.appInfoFrom.id=this.$route.params.id,this.utils.netUtil.post(this.API_PTAH.appInfoUpdate,this.appInfoFrom,(function(){e.$Message.success("提交成功!"),e.$store.commit("statusGlobalButtonLoding"),e.$router.push("/app-info-list")}),(function(){e.$store.commit("statusGlobalButtonLoding")}))},showOnOpenApi:function(){return"3"===this.appInfoFrom.authType||"1"===this.appInfoFrom.authType||"0"===this.appInfoFrom.authType},showOnPrivateTokenAuthType:function(){return"1"===this.appInfoFrom.authType},showOnInnerApi:function(){return"2"===this.appInfoFrom.authType},showOnSso:function(){return"1"===this.appInfoFrom.loginType||"2"===this.appInfoFrom.loginType}}},ta=ea,aa=Object(p["a"])(ta,zt,Et,!1,null,null,null),ra=aa.exports,oa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Row",[a("i-col",{staticClass:"bread-crumb",attrs:{span:"24"}},[a("Breadcrumb",e._l(e.breadcrumbList,(function(t,r){return a("BreadcrumbItem",{key:r,attrs:{to:t.path}},[a("Icon",{attrs:{type:t.icon}}),e._v(" "+e._s(t.name)+" ")],1)})),1)],1)],1),a("Divider"),a("router-view"),a("Form",{ref:"queryParamFrom",staticClass:"query-pram-from",attrs:{model:e.paramData.data}},[a("Row",[a("i-col",{staticClass:"page-col",attrs:{span:"4",offset:"1"}},[a("FormItem",{attrs:{prop:"username"}},[a("i-input",{attrs:{type:"text",placeholder:"用户名"},model:{value:e.paramData.data.username,callback:function(t){e.$set(e.paramData.data,"username",t)},expression:"paramData.data.username"}})],1)],1),a("i-col",{staticClass:"page-col",attrs:{span:"4",offset:"1"}},[a("FormItem",{attrs:{prop:"appCategory"}},[a("Select",{staticStyle:{width:"200px"},attrs:{clearable:""},on:{"on-change":e.selectedAppInfo},model:{value:e.paramData.data.appId,callback:function(t){e.$set(e.paramData.data,"appId",t)},expression:"paramData.data.appId"}},e._l(e.uagUserinfoAppArr,(function(t){return a("Option",{key:t.appId,attrs:{value:t.appId}},[e._v(e._s(t.appName))])})),1)],1)],1),a("i-col",{staticClass:"button-group",attrs:{span:"3",offset:"17"}},[a("Button",{attrs:{type:"info"},on:{click:function(t){return e.pushAdd()}}},[e._v("新增")]),a("Button",{attrs:{type:"success"},on:{click:function(t){return e.getdata()}}},[e._v("查询")]),a("Button",{attrs:{type:"warning"},on:{click:function(t){return e.handleReset()}}},[e._v("重置")])],1)],1)],1),a("br"),a("Table",{staticClass:"list-button-group",attrs:{border:"",columns:e.columns,data:e.tableData},scopedSlots:e._u([{key:"action",fn:function(t){var r=t.row;return[a("Button",{staticStyle:{"margin-right":"5px"},attrs:{type:"primary",size:"small"},on:{click:function(t){return e.goEditor(r)}}},[e._v("编辑")]),a("Button",{staticStyle:{"margin-right":"5px"},attrs:{type:"warning",size:"small",disabled:e.globalButtonLoding},on:{click:function(t){return e.resetPassword(r)}}},[e._v("重置密码")]),a("Button",{directives:[{name:"show",rawName:"v-show",value:e.showOnLock(r),expression:"showOnLock(row)"}],staticStyle:{"margin-right":"5px"},attrs:{type:"warning",size:"small",disabled:e.globalButtonLoding},on:{click:function(t){return e.toggleIsLockStatus(r)}}},[e._v("解锁")]),a("Button",{directives:[{name:"show",rawName:"v-show",value:e.showOnUnLock(r),expression:"showOnUnLock(row)"}],attrs:{type:"error",size:"small",disabled:e.globalButtonLoding},on:{click:function(t){return e.toggleIsLockStatus(r)}}},[e._v("锁定")])]}}])}),a("Row",[a("i-col",{staticClass:"page-col",attrs:{span:"6",offset:"17"}},[a("Page",{staticClass:"pagination",attrs:{total:e.paramData.data.totalCount,current:e.paramData.data.currentPage,"page-size":e.paramData.data.pageSize,"show-sizer":""},on:{"on-change":e.handlePage,"on-page-size-change":e.handlePageSize}})],1)],1)],1)},sa=[],na={components:{},data:function(){return{tableData:[],routerPath:this.$route.path,uagUserinfoAppArr:[],paramData:{data:{id:"",username:"",password:"",appId:this.$store.state.userInfoListAppId},page:{currentPage:1,pageSize:10},sort:{orderBy:"id",sort:"desc"}},columns:[{title:"UAG-USER-ID",key:"id"},{title:"用户名",key:"username"},{title:"姓名",key:"nickName"},{title:"创建时间",key:"createTime"},{title:"修改时间",key:"updateTime"},{title:"操作人",key:"operatorName"},{title:"操作",slot:"action",width:250,align:"center"}]}},computed:{breadcrumbList:function(){return this.utils.routerUtil.initRouterTreeNameArr(this.routerPath)},globalScreenLoding:function(){return this.$store.state.globalScreenLoding},globalButtonLoding:function(){return this.$store.state.globalButtonLoding}},mounted:function(){this.getdata()},methods:{handlePage:function(e){this.paramData.page.currentPage=e,this.getdata()},handlePageSize:function(e){this.paramData.page.pageSize=e,this.getdata()},getdata:function(){var e=this;return Object(g["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.utils.netUtil.postAsync(e.API_PTAH.uagUserInfoFindUagUserAppList,{});case 2:a=t.sent,a&&a.length>0&&(e.uagUserinfoAppArr=a,"0"===e.paramData.data.appId&&(e.paramData.data.appId=e.uagUserinfoAppArr[0].appId),e.utils.netUtil.post(e.API_PTAH.uagUserInfoFind,e.paramData,(function(t){e.tableData=t.data.data,e.paramData.data.totalCount=t.data.page.totalCount,e.paramData.data.pageSize=t.data.page.pageSize,e.paramData.data.currentPage=t.data.page.currentPage})));case 4:case"end":return t.stop()}}),t)})))()},toggleIsLockStatus:function(e){var t=this;this.$store.commit("statusGlobalButtonLoding"),this.utils.netUtil.post(this.API_PTAH.uagUserInfoToggleIsLockStatus,{appId:this.paramData.data.appId,userId:e.id},(function(e){e.data.data&&(t.$store.commit("statusGlobalButtonLoding"),t.$Message.success("提交成功!"),t.getdata())}),(function(){t.$store.commit("statusGlobalButtonLoding")}))},resetPassword:function(e){var t=this;this.$store.commit("statusGlobalButtonLoding"),this.utils.netUtil.post(this.API_PTAH.uagUserInfoRestPassword,{appId:this.paramData.data.appId,userId:e.id},(function(e){e.data.data&&(t.$store.commit("statusGlobalButtonLoding"),t.$Message.success("密码已重置为123456"),t.getdata())}),(function(){t.$store.commit("statusGlobalButtonLoding")}))},goEditor:function(e){this.$router.push({path:"/uag-userinfo-list/uag-userinfo-editor/".concat(this.paramData.data.appId,"/").concat(e.id)})},handleReset:function(){this.$refs.queryParamFrom.resetFields(),this.getdata()},pushAdd:function(){""!==this.paramData.data.appId?this.$router.push({path:"/uag-userinfo-list/uag-userinfo-add/".concat(this.paramData.data.appId)}):this.$Message.warning("请选择应用")},selectedAppInfo:function(e){""!=e&&"undefined"!=typeof e&&this.getdata()},showOnLock:function(e){return"1"===e.isLock},showOnUnLock:function(e){return"0"===e.isLock}}},ia=na,la=Object(p["a"])(ia,oa,sa,!1,null,null,null),ua=la.exports,ca=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Row",[a("i-col",{staticClass:"bread-crumb",attrs:{span:"24"}},[a("Breadcrumb",e._l(e.breadcrumbList,(function(t,r){return a("BreadcrumbItem",{key:r,attrs:{to:t.path}},[a("Icon",{attrs:{type:t.icon}}),e._v(" "+e._s(t.name)+" ")],1)})),1)],1)],1),a("Divider"),a("Row",[a("i-col",{attrs:{span:"12",offset:"6"}},[a("Form",{ref:"uagUserInfoFrom",attrs:{model:e.uagUserInfoFrom,rules:e.uagUserInfoFromValidate,"label-width":110}},[a("FormItem",{attrs:{label:"账号用户名",prop:"username"}},[a("i-input",{attrs:{placeholder:"请输入账号用户名"},model:{value:e.uagUserInfoFrom.username,callback:function(t){e.$set(e.uagUserInfoFrom,"username",t)},expression:"uagUserInfoFrom.username"}})],1),a("FormItem",{attrs:{label:"账号名称",prop:"nickName"}},[a("i-input",{attrs:{placeholder:"请输入账号名称"},model:{value:e.uagUserInfoFrom.nickName,callback:function(t){e.$set(e.uagUserInfoFrom,"nickName",t)},expression:"uagUserInfoFrom.nickName"}})],1),a("FormItem",{attrs:{label:"账号密码",prop:"password"}},[a("i-input",{attrs:{placeholder:"请输入账号密码"},model:{value:e.uagUserInfoFrom.password,callback:function(t){e.$set(e.uagUserInfoFrom,"password",t)},expression:"uagUserInfoFrom.password"}})],1),a("FormItem",[a("Button",{attrs:{type:"primary",disabled:e.globalButtonLoding},on:{click:function(t){return e.handleSubmit("uagUserInfoFrom")}}},[e._v("提交")]),a("Button",{staticStyle:{"margin-left":"8px"},on:{click:function(t){return e.handleReset("uagUserInfoFrom")}}},[e._v("重置")])],1)],1)],1)],1)],1)},pa=[],da={data:function(){return{routerPath:this.$route.path,uagUserInfoFrom:{username:"",nickName:"",password:"",appId:this.$route.params.appId},uagUserInfoFromValidate:{username:[{required:!0,message:"应用名只能为有效的手机号码",pattern:/^[0-9]{11}$/,trigger:"blur"}],nickName:[{required:!0,type:"string",min:1,max:10,message:"账号名称为长度为1-10之间的字符",trigger:"blur"}],password:[{required:!0,type:"string",min:5,max:30,message:"密码为长度为5-30之间的字符",trigger:"blur"}]}}},computed:{breadcrumbList:function(){return this.utils.routerUtil.initRouterTreeNameArr(this.routerPath)},globalScreenLoding:function(){return this.$store.state.globalScreenLoding},globalButtonLoding:function(){return this.$store.state.globalButtonLoding}},methods:{handleSubmit:function(e){var t=this;this.$refs[e].validate((function(e){e?t.commitData():t.$Message.error("请完善表单信息!")}))},handleReset:function(e){this.$refs[e].resetFields()},commitData:function(){var e=this;this.$store.commit("statusGlobalButtonLoding"),this.utils.netUtil.post(this.API_PTAH.uagUserInfoAddAccount,this.uagUserInfoFrom,(function(){e.$store.commit("statusGlobalButtonLoding"),e.$Message.success("提交成功!"),e.$store.commit("setUserInfoListAppId",e.uagUserInfoFrom.appId),e.$router.push("/uag-userinfo-list/")}),(function(){e.$store.commit("statusGlobalButtonLoding")}))}}},ma=da,fa=Object(p["a"])(ma,ca,pa,!1,null,null,null),ha=fa.exports,ga=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Row",[a("i-col",{staticClass:"bread-crumb",attrs:{span:"24"}},[a("Breadcrumb",e._l(e.breadcrumbList,(function(t,r){return a("BreadcrumbItem",{key:r,attrs:{to:t.path}},[a("Icon",{attrs:{type:t.icon}}),e._v(" "+e._s(t.name)+" ")],1)})),1)],1)],1),a("Divider"),a("Row",[a("i-col",{attrs:{span:"12",offset:"6"}},[a("Form",{ref:"uagUserInfoFrom",attrs:{model:e.uagUserInfoFrom,rules:e.uagUserInfoFromValidate,"label-width":110}},[a("FormItem",{attrs:{label:"账号用户名",prop:"username"}},[a("i-input",{attrs:{disabled:"",placeholder:"请输入账号用户名"},model:{value:e.uagUserInfoFrom.username,callback:function(t){e.$set(e.uagUserInfoFrom,"username",t)},expression:"uagUserInfoFrom.username"}})],1),a("FormItem",{attrs:{label:"账号名称",prop:"nickName"}},[a("i-input",{attrs:{placeholder:"请输入账号名称"},model:{value:e.uagUserInfoFrom.nickName,callback:function(t){e.$set(e.uagUserInfoFrom,"nickName",t)},expression:"uagUserInfoFrom.nickName"}})],1),a("FormItem",[a("Button",{attrs:{type:"primary",disabled:e.globalButtonLoding},on:{click:function(t){return e.handleSubmit("uagUserInfoFrom")}}},[e._v("提交")]),a("Button",{staticStyle:{"margin-left":"8px"},on:{click:function(t){return e.handleReset("uagUserInfoFrom")}}},[e._v("重置")])],1)],1)],1)],1)],1)},va=[],ba={data:function(){return{routerPath:this.$route.path,uagUserInfoFrom:{username:"",nickName:"",id:this.$route.params.userId,appId:this.$route.params.appId},uagUserInfoFromValidate:{username:[{required:!0,message:"应用名只能为有效的手机号码",pattern:/^[0-9]{11}$/,trigger:"blur"}],nickName:[{required:!0,type:"string",min:1,max:10,message:"账号名称为长度为1-10之间的字符",trigger:"blur"}],password:[{required:!0,type:"string",min:5,max:30,message:"账号名称为长度为5-30之间的字符",trigger:"blur"}]}}},mounted:function(){this.loadData()},computed:{breadcrumbList:function(){return this.utils.routerUtil.initRouterTreeNameArr(this.routerPath)},globalScreenLoding:function(){return this.$store.state.globalScreenLoding},globalButtonLoding:function(){return this.$store.state.globalButtonLoding}},methods:{handleSubmit:function(e){var t=this;this.$refs[e].validate((function(e){e?t.commitData():t.$Message.error("请完善表单信息!")}))},loadData:function(){var e=this;this.utils.netUtil.post(this.API_PTAH.uagUserInfoFindById,{data:this.uagUserInfoFrom},(function(t){e.uagUserInfoFrom=t.data.data}))},commitData:function(){var e=this;this.$store.commit("statusGlobalButtonLoding"),this.uagUserInfoFrom.appId=this.$route.params.appId,this.utils.netUtil.post(this.API_PTAH.uagUserInfoModify,this.uagUserInfoFrom,(function(){e.$store.commit("statusGlobalButtonLoding"),e.$Message.success("提交成功!"),e.$store.commit("setUserInfoListAppId",e.uagUserInfoFrom.appId),e.$router.push("/uag-userinfo-list/")}),(function(){e.$store.commit("statusGlobalButtonLoding")}))}}},Ia=ba,ya=Object(p["a"])(Ia,ga,va,!1,null,null,null),Fa=ya.exports,Sa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Row",[a("i-col",{staticClass:"bread-crumb",attrs:{span:"24"}},[a("Breadcrumb",e._l(e.breadcrumbList,(function(t,r){return a("BreadcrumbItem",{key:r,attrs:{to:t.path}},[a("Icon",{attrs:{type:t.icon}}),e._v(" "+e._s(t.name)+" ")],1)})),1)],1)],1),a("Divider"),a("router-view"),a("Form",{ref:"queryParamFrom",staticClass:"query-pram-from",attrs:{model:e.paramData.data}},[a("Row",[a("i-col",{staticClass:"page-col",attrs:{span:"4",offset:"1"}},[a("FormItem",{attrs:{prop:"appName"}},[a("i-input",{attrs:{type:"text",placeholder:"应用名称"},model:{value:e.paramData.data.appName,callback:function(t){e.$set(e.paramData.data,"appName",t)},expression:"paramData.data.appName"}})],1)],1),a("i-col",{staticClass:"page-col",attrs:{span:"2",offset:"1"}},[a("FormItem",{attrs:{prop:"operatorName"}},[a("i-input",{attrs:{type:"text",placeholder:"操作人姓名"},model:{value:e.paramData.data.operatorName,callback:function(t){e.$set(e.paramData.data,"operatorName",t)},expression:"paramData.data.operatorName"}})],1)],1),a("i-col",{staticClass:"button-group",attrs:{span:"3",offset:"17"}},[a("Button",{attrs:{type:"success"},on:{click:function(t){return e.getdata()}}},[e._v("查询")]),a("Button",{attrs:{type:"warning"},on:{click:function(t){return e.handleReset()}}},[e._v("重置")])],1)],1)],1),a("br"),a("Table",{staticClass:"list-button-group",attrs:{border:"",columns:e.columns,data:e.tableData}}),a("Row",[a("i-col",{staticClass:"page-col",attrs:{span:"6",offset:"17"}},[a("Page",{staticClass:"pagination",attrs:{total:e.paramData.data.totalCount,current:e.paramData.data.currentPage,"page-size":e.paramData.data.pageSize,"show-sizer":""},on:{"on-change":e.handlePage,"on-page-size-change":e.handlePageSize}})],1)],1)],1)},Aa=[],Na={components:{},data:function(){return{tableData:[],routerPath:this.$route.path,uagUserinfoAppArr:[],paramData:{data:{operatorName:""},page:{currentPage:1,pageSize:10},sort:{orderBy:"id",sort:"desc"}},columns:[{title:"操作项",key:"operatorDescription"},{title:"操作时间",key:"createTime"},{title:"操作人",key:"operatorName"}]}},computed:{breadcrumbList:function(){return this.utils.routerUtil.initRouterTreeNameArr(this.routerPath)}},mounted:function(){this.getdata()},methods:{handlePage:function(e){this.paramData.page.currentPage=e,this.getdata()},handlePageSize:function(e){this.paramData.page.pageSize=e,this.getdata()},getdata:function(){var e=this;this.utils.netUtil.post(this.API_PTAH.uagLogFind,this.paramData,(function(t){e.tableData=t.data.data,e.paramData.data.totalCount=t.data.page.totalCount,e.paramData.data.pageSize=t.data.page.pageSize,e.paramData.data.currentPage=t.data.page.currentPage}))},handleReset:function(){this.$refs.queryParamFrom.resetFields(),this.getdata()}}},Pa=Na,$a=Object(p["a"])(Pa,Sa,Aa,!1,null,null,null),Da=$a.exports,_a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Row",[a("i-col",{staticClass:"bread-crumb",attrs:{span:"24"}},[a("Breadcrumb",e._l(e.breadcrumbList,(function(t,r){return a("BreadcrumbItem",{key:r,attrs:{to:t.path}},[a("Icon",{attrs:{type:t.icon}}),e._v(" "+e._s(t.name)+" ")],1)})),1)],1)],1),a("Divider"),a("router-view"),a("Form",{ref:"queryParamFrom",staticClass:"query-pram-from",attrs:{model:e.paramData.data}},[a("Row",[a("i-col",{staticClass:"page-col",attrs:{span:"4",offset:"1"}},[a("FormItem",{attrs:{prop:"uagId"}},[a("i-input",{attrs:{type:"text",placeholder:"用户网关ID"},model:{value:e.paramData.data.uagId,callback:function(t){e.$set(e.paramData.data,"uagId",t)},expression:"paramData.data.uagId"}})],1)],1),a("i-col",{staticClass:"page-col",attrs:{span:"2",offset:"1"}},[a("FormItem",{attrs:{prop:"phoneNumber"}},[a("i-input",{attrs:{type:"text",placeholder:"手机号码"},model:{value:e.paramData.data.phoneNumber,callback:function(t){e.$set(e.paramData.data,"phoneNumber",t)},expression:"paramData.data.phoneNumber"}})],1)],1),a("i-col",{staticClass:"button-group",attrs:{span:"3",offset:"17"}},[a("Button",{attrs:{type:"success"},on:{click:function(t){return e.getdata()}}},[e._v("查询")]),a("Button",{attrs:{type:"warning"},on:{click:function(t){return e.handleReset()}}},[e._v("重置")])],1)],1)],1),a("br"),a("Table",{staticClass:"list-button-group",attrs:{border:"",columns:e.columns,data:e.tableData}}),a("Row",[a("i-col",{staticClass:"page-col",attrs:{span:"6",offset:"17"}},[a("Page",{staticClass:"pagination",attrs:{total:e.paramData.data.totalCount,current:e.paramData.data.currentPage,"page-size":e.paramData.data.pageSize,"show-sizer":""},on:{"on-change":e.handlePage,"on-page-size-change":e.handlePageSize}})],1)],1)],1)},ka=[],wa={components:{},data:function(){return{tableData:[],routerPath:this.$route.path,uagUserinfoAppArr:[],paramData:{data:{phoneNumber:""},page:{currentPage:1,pageSize:10},sort:{orderBy:"id",sort:"desc"}},columns:[{title:"手机号",key:"phoneNumber"},{title:"验证码",key:"context"},{title:"创建时间",key:"createTime"}]}},computed:{breadcrumbList:function(){return this.utils.routerUtil.initRouterTreeNameArr(this.routerPath)}},mounted:function(){this.getdata()},methods:{handlePage:function(e){this.paramData.page.currentPage=e,this.getdata()},handlePageSize:function(e){this.paramData.page.pageSize=e,this.getdata()},getdata:function(){var e=this;this.utils.netUtil.post(this.API_PTAH.userSmsRecord,this.paramData,(function(t){e.tableData=t.data.data,e.paramData.data.totalCount=t.data.page.totalCount,e.paramData.data.pageSize=t.data.page.pageSize,e.paramData.data.currentPage=t.data.page.currentPage}))},handleReset:function(){this.$refs.queryParamFrom.resetFields(),this.getdata()}}},La=wa,Ta=Object(p["a"])(La,_a,ka,!1,null,null,null),Ba=Ta.exports;o["default"].use(P["a"]);var xa={};xa.routerPath=[{path:"",redirect:"/api-mngt"},{path:"/api-mngt",redirect:"/app-info-list",component:M,icon:"ios-appstore",name:"接口管理",children:[{path:"/app-info-list",component:Bt,icon:"ios-appstore",name:"应用列表"},{path:"/app-info-list/app-info-add",component:Rt,icon:"md-add-circle",name:"添加应用"},{path:"/app-info-list/app-info-editor/:id",component:ra,icon:"ios-brush",name:"编辑应用"},{path:"/upsteam-node-info-list",component:it,icon:"ios-leaf",name:"服务节点列表"},{path:"/upsteam-node-info-list/upsteam-node-info-add",component:mt,icon:"md-add-circle",name:"添加服务节点"},{path:"/upsteam-node-info-list/upsteam-node-info-editor/:id",component:It,icon:"ios-brush",name:"编辑服务节点"},{path:"/server-machine-node-info-list",component:Ve,icon:"md-git-compare",name:"服务器节点列表"},{path:"/server-machine-node-info-list/server-machine-node-info-add",component:We,icon:"md-add-circle",name:"新增服务器节点"},{path:"/server-machine-node-info-list/server-machine-node-info-editor/:id",component:tt,icon:"ios-brush",name:"编辑服务器节点"},{path:"/server-info-list",component:te,icon:"ios-globe",name:"服务列表"},{path:"/server-info-list/api-info-list/:sid",component:Pe,icon:"ios-grid",name:"接口管理"},{path:"/server-info-list/api-info-list/api-info-add/:sid",component:Le,icon:"md-add-circle",name:"添加接口"},{path:"/server-info-list/api-info-list/api-info-editor/:sid/:id",component:Me,icon:"ios-brush",name:"编辑接口"},{path:"/server-info-list/server-info-add",component:me,icon:"md-add-circle",name:"添加服务"},{path:"/server-info-list/server-info-editor/:id",component:Ie,icon:"ios-brush",name:"编辑服务"}]},{path:"/user-mngt",redirect:"/uag-userinfo-list",component:W,icon:"ios-appstore",name:"用户管理",children:[{path:"/uag-userinfo-list",component:ua,icon:"md-contact",name:"用户管理"},{path:"/uag-userinfo-list/uag-userinfo-add/:appId",component:ha,icon:"md-add-circle",name:"添加用户"},{path:"/uag-userinfo-list/uag-userinfo-editor/:appId/:userId",component:Fa,icon:"ios-brush",name:"编辑用户"},{path:"/uag-log-list",component:Da,icon:"md-list-box",name:"操作日志"},{path:"/sms-record-list",component:Ba,icon:"md-list-box",name:"短信发送记录"}]}],xa.initRouterGenerate=new P["a"]({routes:xa.routerPath});var Ua=P["a"].prototype.push;P["a"].prototype.push=function(e){return Ua.call(this,e).catch((function(e){return e}))};var Oa=xa,Ma={initRouterTreeNameArr:function(e){var t=[],a=[];e.split("/").forEach((function(e){""!=e&&t.push("/"+e)})),t.pop(),t.push(e);var r=e;while(r.split("/").length-1>1)r=r.slice(0,r.lastIndexOf("/")),t.push(r);return t=N.removeEmptyValueInArray(t),Oa.routerPath.forEach((function(e){t.forEach((function(t){var r=!1;e.path.indexOf(":")>0&&e.path.slice(0,e.path.indexOf(":"))===t.slice(0,t.lastIndexOf("/")+1)&&(r=!0),e.path===t&&(r=!0),r&&a.push(e)}))})),a},getPcUrlByRouterPath:function(e){var t="",a=JSON.parse(sessionStorage.menuArr);return a.map((function(a){a.path===e&&(t=a.pcUrl)})),t},getParentPath:function(e){var t=this.getRouterFirstPath(e),a="";return Oa.routerPath.map((function(e){e.children&&e.children.map((function(r){r.path===t&&(a=e.path)}))})),a},getRouterFirstPath:function(e){var t=[];return e.split("/").forEach((function(e){""!=e&&t.push("/"+e)})),t[0]},getRouterMenu:function(){var e=Oa.routerPath;return e.splice(0,1),e}},Ca=Ma,Ra={getDomainByUrl:function(e){var t=e.split("/");return t=t[2]?t[2]:"",t},getHostByUrl:function(e){var t=Ra.getDomainByUrl(e);return-1!=t.indexOf(":")&&(t=t.substr(0,t.indexOf(":"))),t}},za=Ra,Ea={getCurrentLoginUserInfo:function(e){window.addEventListener("message",(function(t){"undefined"!=typeof t.data.loadCurrentLoginUserInfo&&e.commit("loadCurrentLoginUserInfo",t.data.loadCurrentLoginUserInfo)}),!1)}},qa=Ea,Va={netUtil:F,objectUtil:N,frameUtil:qa,stringUtil:za,routerUtil:Ca},Ha=Va,Ga={getMenuList:"/framework/findBasicMenuList",logout:"/framework/logout",getCurrentUagLoginInfo:"/framework/getCurrentUagLoginInfo",serverInfoDelete:"/serverInfo/delete",serverInfoFind:"/serverInfo/find",serverInfoFindById:"/serverInfo/findById",serverInfoAdd:"/serverInfo/add",serverInfoUpdate:"/serverInfo/update",syncServerMachineNodeInfo:"/serverInfo/syncServerMachineNodeInfo",findServerByName:"/serverInfo/findServerByName",apiInfoFind:"/apiInfo/find",apiInfoAdd:"/apiInfo/add",apiInfoFindById:"/apiInfo/findById",apiInfoUpdate:"/apiInfo/update",apiInfoDelete:"/apiInfo/delete",findApiByAppId:"/apiInfo/findApiByAppId",findAppApiRelationshipByServerIdAndAppId:"/apiInfo/findAppApiRelationshipByServerIdAndAppId",serverMachineNodeInfoDelete:"/serverMachineNodeInfo/delete",serverMachineNodeInfoFind:"/serverMachineNodeInfo/find",serverMachineNodeInfoFindById:"/serverMachineNodeInfo/findById",serverMachineNodeInfoAdd:"/serverMachineNodeInfo/add",serverMachineNodeInfoUpdate:"/serverMachineNodeInfo/update",syncNginxNodeInfo:"/serverMachineNodeInfo/syncNginxNodeInfo",upSteamNodeInfoDelete:"/upSteamNodeInfo/delete",updateSelectedVersion:"/upSteamNodeInfo/updateSelectedVersion",upSteamNodeInfoFind:"/upSteamNodeInfo/find",upSteamNodeInfoFindById:"/upSteamNodeInfo/findById",upSteamNodeInfoAdd:"/upSteamNodeInfo/add",upSteamNodeInfoUpdate:"/upSteamNodeInfo/update",findVersionListByNodeName:"/upSteamNodeInfo/findVersionListByNodeName",setRunningStatusDownByDevOpsK8sNotificationVo:"/upSteamNodeInfo/setRunningStatusDownByDevOpsK8sNotificationVo",upSteamNameAdd:"/upSteamName/add",upSteamNameDelete:"/upSteamName/delete",upSteamNameFind:"/upSteamName/find",appInfoDelete:"/appInfo/delete",appInfoFind:"/appInfo/find",appInfoFindById:"/appInfo/findById",appInfoAdd:"/appInfo/add",appInfoUpdate:"/appInfo/update",bindingApi:"/appInfo/bindingApi",unBindingApi:"/appInfo/unBindingApi",syncAppApiRelationship:"/appInfo/syncAppApiRelationship",ipWhtieListAdd:"/ipWhtieList/add",ipWhtieListDelete:"/ipWhtieList/delete",ipWhtieListFind:"/ipWhtieList/find"};Ga.ipWhtieListFind="/ipWhtieList/find",Ga.unLoginAccessWhiteListFindUnBindingData="/unLoginAccessWhiteList/findUnBindingData",Ga.unLoginAccessWhiteListAdd="/unLoginAccessWhiteList/add",Ga.unLoginAccessWhiteListFind="/unLoginAccessWhiteList/find",Ga.unLoginAccessWhiteListDelete="/unLoginAccessWhiteList/delete",Ga.uagUserInfoFind="/uagUserInfo/find",Ga.uagUserInfoFindUagUserAppList="/uagUserInfo/findUagUserAppList",Ga.uagUserInfoAddAccount="/uagUserInfo/addAccount",Ga.uagUserInfoToggleIsLockStatus="/uagUserInfo/toggleIsLockStatus",Ga.uagUserInfoRestPassword="/uagUserInfo/restPassword",Ga.uagUserInfoFindById="/uagUserInfo/findById",Ga.uagUserInfoModify="/uagUserInfo/modify",Ga.uagLogFind="/uagLog/find",Ga.userSmsRecord="/userSmsRecord/find";var ja=Ga,Ka=a("2f62"),Za={globalButtonLoding:!1,globalScreenLoding:!1,userInfoListAppId:"0",uagCurrentLoginUserInfo:{}},Wa=Za,Ja={setUserInfoListAppId:function(e,t){e.userInfoListAppId=t},loadCurrentLoginUserInfo:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(t,a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.uagCurrentLoginUserInfo=a;case 1:case"end":return e.stop()}}),e)})));function t(t,a){return e.apply(this,arguments)}return t}(),statusGlobalButtonLoding:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.globalButtonLoding=!t.globalButtonLoding;case 1:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),statusGlobalScreenLoding:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.globalScreenLoding=!t.globalScreenLoding;case 1:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},Qa=Ja;o["default"].use(Ka["a"]);var Xa={};Xa.initsStoreInstance=new Ka["a"].Store({state:Wa,mutations:Qa});var Ya=Xa;a("522b");o["default"].use(h.a),o["default"].config.productionTip=!1,o["default"].prototype.utils=Ha,o["default"].prototype.API_PTAH=ja;var er=Oa.initRouterGenerate,tr=Ya.initsStoreInstance;new o["default"]({router:er,store:tr,render:function(e){return e(m)}}).$mount("#app")},"7d3b":function(e,t,a){"use strict";var r=a("bd6e"),o=a.n(r);o.a},"8b5e":function(e,t,a){},"8d62":function(e,t,a){"use strict";var r=a("a07f"),o=a.n(r);o.a},"9a5a":function(e,t,a){},a07f:function(e,t,a){},b593:function(e,t,a){"use strict";var r=a("ed20"),o=a.n(r);o.a},bd6e:function(e,t,a){},ed20:function(e,t,a){}});
//# sourceMappingURL=app.19d506b0.js.map