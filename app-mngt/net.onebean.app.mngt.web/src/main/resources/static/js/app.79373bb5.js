(function(t){function e(e){for(var n,i,s=e[0],p=e[1],l=e[2],c=0,d=[];c<s.length;c++)i=s[c],r[i]&&d.push(r[i][0]),r[i]=0;for(n in p)Object.prototype.hasOwnProperty.call(p,n)&&(t[n]=p[n]);u&&u(e);while(d.length)d.shift()();return o.push.apply(o,l||[]),a()}function a(){for(var t,e=0;e<o.length;e++){for(var a=o[e],n=!0,s=1;s<a.length;s++){var p=a[s];0!==r[p]&&(n=!1)}n&&(o.splice(e--,1),t=i(i.s=a[0]))}return t}var n={},r={app:0},o=[];function i(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=n,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(a,n,function(e){return t[e]}.bind(null,n));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],p=s.push.bind(s);s.push=e,s=s.slice();for(var l=0;l<s.length;l++)e(s[l]);var u=p;o.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"081e":function(t,e,a){},"2bad":function(t,e,a){},"2d67":function(t,e,a){"use strict";var n=a("081e"),r=a.n(n);r.a},"40c3":function(t,e,a){},"44ba":function(t,e,a){"use strict";var n=a("fbf2"),r=a.n(n);r.a},"49a8":function(t,e,a){"use strict";var n=a("2bad"),r=a.n(n);r.a},"56d7":function(t,e,a){"use strict";a.r(e);var n=a("a4bb"),r=a.n(n),o=(a("cadf"),a("551c"),a("097d"),a("2b0e")),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"layout"},[a("Layout",[a("NavBar"),a("Content",{style:{margin:"20px 20px 0",background:"#fff",minHeight:"720px"}},[a("router-view")],1)],1)],1)},s=[],p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.isShowBar?a("Menu",{attrs:{mode:"horizontal",theme:"light","active-name":"1"}},[a("router-link",{attrs:{to:"/app-info-list",replace:""}},[a("MenuItem",{attrs:{name:"1"}},[a("Icon",{attrs:{type:"ios-construct"}}),t._v("\n    应用管理\n    ")],1)],1)],1):t._e()},l=[],u={computed:{isShowBar:function(){return"/err"!=this.$route.path}},data:function(){return{}}},c=u,d=a("2877"),m=Object(d["a"])(c,p,l,!1,null,null,null);m.options.__file="NavBar.vue";var f=m.exports,h={components:{NavBar:f},mounted:function(){this.utils.frameUtil.getCurrentLoginUserInfo(this.$store),this.utils.frameUtil.sendAutoParentFrameSizeMsg()}},g=h,v=(a("49a8"),Object(d["a"])(g,i,s,!1,null,"ba18fd50",null));v.options.__file="Layout.vue";var I,b=v.exports,A=a("e069"),y=a.n(A),w=(a("dcad"),a("8b5e"),a("f499")),F=a.n(w),S=a("795b"),P=a.n(S),_=a("bc3a"),D=a.n(_),T={},k=D.a.CancelToken;D.a.interceptors.request.use(function(t){return T[t.url]?(T[t.url]("操作取消"),T[t.url]=I):T[t.url]=I,t},function(t){return P.a.reject(t)}),D.a.interceptors.response.use(function(t){return t},function(t){if(t&&t.response)switch(t.response.status){case 400:t.message="错误请求";break;case 401:t.message="未授权，请重新登录";break;case 403:t.message="拒绝访问";break;case 404:t.message="请求错误,未找到该资源";break;case 405:t.message="请求方法未允许";break;case 408:t.message="请求超时";break;case 500:t.message="服务器端出错";break;case 501:t.message="网络未实现";break;case 502:t.message="网络错误";break;case 503:t.message="服务不可用";break;case 504:t.message="网络超时";break;case 505:t.message="http版本不支持该请求";break;default:t.message="连接错误".concat(t.response.status)}else t.message="连接到服务器失败";return A["Message"].error(t.message),P.a.resolve(t.response)}),D.a.defaults.baseURL="",D.a.defaults.headers={"Content-Type":"application/json",Accept:"application/json"},D.a.defaults.timeout=1e4;var O={post:function(t,e,a,n,r){var o=t.state.uagCurrentLoginUserInfo,i={"Content-Type":"application/json",Accept:"application/json",uagHeaderUserInfo:encodeURI(F()(o))};D()({headers:i,method:"post",url:e,data:a,cancelToken:new k(function(t){I=t})}).then(function(t){"0"===t.data.errCode?n(t):(A["Message"].error("请求失败 错误码 ".concat(t.data.errCode," 错误信息: ").concat(t.data.errMsg)),"undefined"!=typeof r&&r(t))})}},L=a("7618"),$={copyObj:function(t){var e,a={};for(e in t)a[e]=t[e];return a},uniqueArray:function(t){for(var e=[t[0]],a=1;a<t.length;a++){for(var n=t[a],r=!1,o=0;o<e.length;o++)if(n===e[o]){r=!0;break}r||e.push(n)}return e},removeEmptyValueInArray:function(t){for(var e=0;e<t.length;e++)""!=t[e]&&null!=t[e]&&void 0!=Object(L["a"])(t[e])||(t.splice(e,1),e-=1);return this.uniqueArray(t)}};Array.prototype.indexOf=function(t){for(var e=0;e<this.length;e++)if(this[e]==t)return e;return-1},Array.prototype.remove=function(t){var e=this.indexOf(t);e>-1&&this.splice(e,1)};var B=$,C=(a("28a5"),a("ac6a"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Row",[a("i-col",{staticClass:"bread-crumb",attrs:{span:"24"}},[a("Breadcrumb",t._l(t.breadcrumbList,function(e,n){return a("BreadcrumbItem",{key:n,attrs:{to:e.path}},[a("Icon",{attrs:{type:e.icon}}),t._v(" "+t._s(e.name)+"\n        ")],1)}),1)],1)],1),a("Divider"),a("router-view"),a("Form",{ref:"queryParamFrom",staticClass:"query-pram-from",attrs:{model:t.paramData.data}},[a("Row",[a("i-col",{staticClass:"page-col",attrs:{span:"4",offset:"1"}},[a("FormItem",{attrs:{prop:"appName"}},[a("i-input",{attrs:{type:"text",placeholder:"应用名"},model:{value:t.paramData.data.appName,callback:function(e){t.$set(t.paramData.data,"appName",e)},expression:"paramData.data.appName"}})],1)],1),a("i-col",{staticClass:"page-col",attrs:{span:"4",offset:"1"}},[a("FormItem",{attrs:{prop:"appCategory"}},[a("Select",{staticStyle:{width:"200px"},attrs:{clearable:""},model:{value:t.paramData.data.appCategory,callback:function(e){t.$set(t.paramData.data,"appCategory",e)},expression:"paramData.data.appCategory"}},t._l(t.appCategoryEunmArr,function(e){return a("Option",{key:e.value,attrs:{value:e.value}},[t._v(t._s(e.label))])}),1)],1)],1),a("i-col",{staticClass:"button-group",attrs:{span:"4",offset:"18"}},[a("Button",{attrs:{type:"info"},on:{click:function(e){t.pushAdd()}}},[t._v("新增")]),a("Button",{attrs:{type:"success"},on:{click:function(e){t.getdata()}}},[t._v("查询")]),a("Button",{attrs:{type:"warning"},on:{click:function(e){t.handleReset()}}},[t._v("重置")]),a("Button",{attrs:{type:"primary"},on:{click:function(e){t.syncAppApiRelationship()}}},[t._v("同步")])],1)],1)],1),a("br"),a("Table",{staticClass:"list-button-group",attrs:{border:"",columns:t.columns,data:t.tableData},scopedSlots:t._u([{key:"action",fn:function(e){var n=e.row,r=e.index;return[a("Button",{staticStyle:{"margin-right":"5px"},attrs:{type:"warning",size:"small"},on:{click:function(e){t.showApiBindModal(n)}}},[t._v("接口管理")]),a("Button",{staticStyle:{"margin-right":"5px"},attrs:{type:"primary",size:"small"},on:{click:function(e){t.pushEditor(n.id)}}},[t._v("编辑")]),a("Button",{attrs:{type:"error",size:"small"},on:{click:function(e){t.deleteData(n.id,r)}}},[t._v("删除")])]}}])}),a("Row",[a("i-col",{staticClass:"page-col",attrs:{span:"6",offset:"17"}},[a("Page",{staticClass:"pagination",attrs:{total:t.paramData.data.totalCount,current:t.paramData.data.currentPage,"page-size":t.paramData.data.pageSize,"show-sizer":""},on:{"on-change":t.handlePage,"on-page-size-change":t.handlePageSize}})],1)],1),a("AppApiModal",{attrs:{"show-modal":t.showModal,"modal-title":t.modalTitle,"app-id":t.selectAppId},on:{closeApiBindModal:t.closeApiBindModal}})],1)}),U=[],M=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Modal",{attrs:{width:"830",title:t.modalTitle},on:{"on-ok":t.closeModal,"on-cancel":t.closeModal,"on-visible-change":t.initModal},model:{value:t.showallApiModal,callback:function(e){t.showallApiModal=e},expression:"showallApiModal"}},[a("Row",[a("i-col",{attrs:{span:"20",offset:"2"}},[a("Select",{ref:"serverSelector",attrs:{placeholder:"搜索并选择服务名",filterable:"",clearable:!0,remote:"","remote-method":t.queryServerbyName,loading:t.serverOptionsLoading},on:{"on-clear":t.clearSelectServer,"on-change":t.changeSelectServer}},t._l(t.serverOptions,function(e,n){return a("Option",{key:n,attrs:{value:e.id}},[t._v(t._s(e.serverName))])}),1)],1)],1),a("Divider"),a("Row",[a("i-col",{attrs:{span:"20",offset:"2"}},[a("Transfer",{attrs:{data:t.allApi,titles:t.transferTitle,"target-keys":t.bindKeys,"list-style":t.transferStyle},on:{"on-change":t.handleBindingApi}})],1)],1),t.loadingModalData?a("Spin",{attrs:{size:"large",fix:""}}):t._e()],1)},x=[],N=a("2ef0"),E=a.n(N),R={props:["appId","showModal","modalTitle"],data:function(){return{loadingModalData:!1,transferStyle:{width:"300px",height:"300px"},transferTitle:["绑定的API","未绑定的API"],showallApiModal:this.showModal,allApi:[],bindKeys:[],serverOptions:[],serverOptionsLoading:!1,queryServerbyNameParam:{serverId:"",appId:this.appId}}},watch:{showModal:function(){this.showallApiModal=this.showModal}},methods:{clearSelectServer:function(){var t=this;this.allApi=[],this.bindKeys=[],this.queryServerbyNameParam.appId=this.appId,this.utils.netUtil.post(this.$store,this.API_PTAH.findApiByAppId,this.queryServerbyNameParam,function(e){t.allApi=e.data.datas.allApi,t.bindKeys=e.data.datas.bindKeys})},closeModal:function(){this.$refs.serverSelector.clearSingleSelect(),this.allApi=[],this.bindKeys=[],this.$emit("closeApiBindModal")},initModal:function(t){var e=this;t&&(this.queryServerbyNameParam.appId=this.appId,this.loadingModalData=!0,this.utils.netUtil.post(this.$store,this.API_PTAH.findApiByAppId,this.queryServerbyNameParam,function(t){e.loadingModalData=!1,e.allApi=t.data.datas.allApi,e.bindKeys=t.data.datas.bindKeys}))},pushToHeavyAllApi:function(t,e){return e.forEach(function(e){var a=!1;t.forEach(function(t){t.key==e.key&&(a=!0)}),a||t.push(e)}),t},pushToHeavyBindKeys:function(t,e){return e.forEach(function(e){var a=!1;t.forEach(function(t){t==e&&(a=!0)}),a||t.push(e)}),t},changeSelectServer:function(t){var e=this;t&&(this.queryServerbyNameParam.serverId=t,this.queryServerbyNameParam.appId=this.appId,this.utils.netUtil.post(this.$store,this.API_PTAH.findAppApiRelationshipByServerIdAndAppId,this.queryServerbyNameParam,function(t){e.allApi=e.pushToHeavyAllApi(e.allApi,t.data.datas.allApi),e.bindKeys=e.pushToHeavyBindKeys(e.bindKeys,t.data.datas.bindKeys)}))},handleBindingApi:function(t,e,a){var n=this;"left"===e&&this.utils.netUtil.post(this.$store,this.API_PTAH.bindingApi,{appId:this.appId,apiIds:a},function(){n.$Message.success("绑定成功!")}),"right"===e&&this.utils.netUtil.post(this.$store,this.API_PTAH.unBindingApi,{appId:this.appId,apiIds:a},function(){n.$Message.success("解绑成功!")}),this.bindKeys=t},queryServerbyName:E.a.debounce(function(t){var e=this;""!==t?(this.serverOptionsLoading=!0,this.serverOptions=[],this.loadingModalData=!0,this.utils.netUtil.post(this.$store,this.API_PTAH.findServerByName,{serverName:t},function(t){e.serverOptionsLoading=!1,e.serverOptions=t.data.datas,e.loadingModalData=!1})):this.serverOptions=[]},500)}},q=R,H=Object(d["a"])(q,M,x,!1,null,null,null);H.options.__file="AppApiModal.vue";var W=H.exports,j={components:{AppApiModal:W},data:function(){return{routerPath:this.$route.path,appCategoryEunmArr:[{value:"0",label:"基础应用"},{value:"1",label:"普通应用"},{value:"2",label:"云应用"}],paramData:{data:{appVersion:"",appCategory:"",appName:""},page:{currentPage:1,pageSize:10},sort:{orderBy:"id",sort:"desc"}},columns:[{title:"应用名",key:"appName"},{title:"应用类型",key:"appCategory"},{title:"授权模式",key:"authType"},{title:"应用状态",key:"appStatus"},{title:"创建时间",key:"createTime"},{title:"修改时间",key:"updateTime"},{title:"操作人",key:"operatorName"},{title:"操作",slot:"action",width:250,align:"center"}],tableData:[],showModal:!1,selectAppId:"",modalTitle:""}},computed:{breadcrumbList:function(){return this.utils.routerUtil.initRouterTreeNameArr(this.routerPath)}},mounted:function(){this.getdata()},methods:{handlePage:function(t){this.paramData.page.currentPage=t,this.getdata()},handlePageSize:function(t){this.paramData.page.pageSize=t,this.getdata()},rowClassName:function(t,e){return this.utils.initTableListRowClass(e)},getdata:function(){var t=this;this.utils.netUtil.post(this.$store,this.API_PTAH.appInfoFind,this.paramData,function(e){t.tableData=e.data.datas,t.paramData.data.totalCount=e.data.page.totalCount,t.paramData.data.pageSize=e.data.page.pageSize,t.paramData.data.currentPage=e.data.page.currentPage})},deleteData:function(t,e){var a=this;this.$Modal.confirm({title:"警告",content:"确认删除该条数据吗",onOk:function(){a.utils.netUtil.post(a.$store,a.API_PTAH.appInfoDelete,{id:t},function(){a.tableData.splice(e,1),a.$Message.success("删除成功!")})}})},syncAppApiRelationship:function(){var t=this;this.utils.netUtil.post(this.$store,this.API_PTAH.syncAppApiRelationship,{},function(){t.$Message.success("同步数据成功!")})},handleReset:function(){this.$refs.queryParamFrom.resetFields(),this.getdata()},pushAdd:function(){this.$router.push("".concat(this.$route.path,"/app-info-add"))},pushEditor:function(t){this.$router.push({path:"".concat(this.$route.path,"/app-info-editor/").concat(t)})},showApiBindModal:function(t){this.modalTitle="".concat(t.appName," 接口管理"),this.showModal=!0,this.selectAppId=t.id},closeApiBindModal:function(){this.showModal=!1}}},z=j,K=(a("2d67"),Object(d["a"])(z,C,U,!1,null,null,null));K.options.__file="AppInfoList.vue";var V=K.exports,J=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Row",[a("i-col",{staticClass:"bread-crumb",attrs:{span:"24"}},[a("Breadcrumb",t._l(t.breadcrumbList,function(e,n){return a("BreadcrumbItem",{key:n,attrs:{to:e.path}},[a("Icon",{attrs:{type:e.icon}}),t._v(" "+t._s(e.name)+"\n        ")],1)}),1)],1)],1),a("Divider"),a("Row",[a("i-col",{attrs:{span:"12",offset:"6"}},[a("Form",{ref:"appInfoFrom",attrs:{model:t.appInfoFrom,rules:t.appInfoFromValidate,"label-width":100}},[a("FormItem",{attrs:{label:"应用名称",prop:"appName"}},[a("i-input",{attrs:{placeholder:"请输入应用名称"},model:{value:t.appInfoFrom.appName,callback:function(e){t.$set(t.appInfoFrom,"appName",e)},expression:"appInfoFrom.appName"}})],1),a("FormItem",{attrs:{label:"应用类型",prop:"appCategory"}},[a("Select",{attrs:{placeholder:"选择应用类型"},model:{value:t.appInfoFrom.appCategory,callback:function(e){t.$set(t.appInfoFrom,"appCategory",e)},expression:"appInfoFrom.appCategory"}},t._l(t.appCategoryEunmArr,function(e){return a("Option",{key:e.value,attrs:{value:e.value,disabled:e.disabled}},[t._v(t._s(e.label))])}),1)],1),t.notShowOnBasicApp()?a("FormItem",{attrs:{label:"API授权模式",prop:"authType"}},[a("Select",{attrs:{placeholder:"选择API授权模式"},model:{value:t.appInfoFrom.authType,callback:function(e){t.$set(t.appInfoFrom,"authType",e)},expression:"appInfoFrom.authType"}},t._l(t.authTypeEunmArr,function(e){return a("Option",{key:e.value,attrs:{value:e.value}},[t._v(t._s(e.label))])}),1)],1):t._e(),t.showOnPrivateTokenAuthType()&&t.notShowOnBasicApp()?a("FormItem",{attrs:{label:"账号授权模式",prop:"loginType"}},[a("Select",{attrs:{placeholder:"账号选择登录模式"},model:{value:t.appInfoFrom.loginType,callback:function(e){t.$set(t.appInfoFrom,"loginType",e)},expression:"appInfoFrom.loginType"}},t._l(t.loginTypeEunmArr,function(e){return a("Option",{key:e.value,attrs:{value:e.value}},[t._v(t._s(e.label))])}),1)],1):t._e(),t.notShowOnBasicApp()&&t.showOnSso()?a("FormItem",{attrs:{label:"SSO回调地址",prop:"oauthBaseUrl"}},[a("i-input",{attrs:{placeholder:"请输入SSO登陆成功回调地址"},model:{value:t.appInfoFrom.oauthBaseUrl,callback:function(e){t.$set(t.appInfoFrom,"oauthBaseUrl",e)},expression:"appInfoFrom.oauthBaseUrl"}})],1):t._e(),a("FormItem",{attrs:{label:"APP状态",prop:"appStatus"}},[a("Select",{attrs:{placeholder:"选择授权模式"},model:{value:t.appInfoFrom.appStatus,callback:function(e){t.$set(t.appInfoFrom,"appStatus",e)},expression:"appInfoFrom.appStatus"}},t._l(t.appStatusEunmArr,function(e){return a("Option",{key:e.value,attrs:{value:e.value}},[t._v(t._s(e.label))])}),1)],1),t.showOnBasicApp()?a("FormItem",{attrs:{label:"PC端地址链接",prop:"pcPageUrl"}},[a("i-input",{attrs:{placeholder:"请输入PC端地址链接"},model:{value:t.appInfoFrom.pcPageUrl,callback:function(e){t.$set(t.appInfoFrom,"pcPageUrl",e)},expression:"appInfoFrom.pcPageUrl"}})],1):t._e(),t.showOnBasicApp()?a("FormItem",{attrs:{label:"PC端图标icon",prop:"pcMenuIcon"}},[a("i-input",{attrs:{placeholder:"请输入PC端图标icon"},model:{value:t.appInfoFrom.pcMenuIcon,callback:function(e){t.$set(t.appInfoFrom,"pcMenuIcon",e)},expression:"appInfoFrom.pcMenuIcon"}})],1):t._e(),t.showOnBasicApp()?a("FormItem",{attrs:{label:"PC端菜单排序",prop:"menuSort"}},[a("i-input",{attrs:{placeholder:"请输入PC端图标icon"},model:{value:t.appInfoFrom.menuSort,callback:function(e){t.$set(t.appInfoFrom,"menuSort",e)},expression:"appInfoFrom.menuSort"}})],1):t._e(),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:function(e){t.handleSubmit("appInfoFrom")}}},[t._v("提交")]),a("Button",{staticStyle:{"margin-left":"8px"},on:{click:function(e){t.handleReset("appInfoFrom")}}},[t._v("重置")])],1)],1)],1)],1)],1)},Z=[],G=(a("7f7f"),{data:function(){return{routerPath:this.$route.path,loginTypeEunmArr:[{value:"0",label:"API (短信验证码登录注册/短信验证码登录/密码登录)"},{value:"1",label:"SSO (短信验证码登录)"},{value:"2",label:"SSO (密码登录)"}],authTypeEunmArr:[{value:"0",label:"授权码 (共享令牌)"},{value:"1",label:"私有令牌  (一设备一令牌 需要登录)"},{value:"2",label:"IP白名单+通行令牌 (管理后台模式)"},{value:"3",label:"私有免登陆令牌 (一设备一令牌 免登陆)"}],appStatusEunmArr:[{value:"0",label:"连接"},{value:"1",label:"断开"}],appCategoryEunmArr:[{value:"0",label:"基础应用"},{value:"1",label:"普通应用"}],appInfoFrom:{appName:"",appCategory:"",menuSort:0,authType:"",appStatus:"",pcPageUrl:"",pcMenuIcon:"",loginType:""},appInfoFromValidate:{appName:[{required:!0,message:"应用名不能为空",trigger:"blur"}],appStatus:[{required:!0,message:"应用状态不能为空",trigger:"blur"}],authType:[{required:!0,message:"API授权模式不能为空",trigger:"blur"}],loginType:[{required:!0,message:"账号授权模式不能为空",trigger:"blur"}],appCategory:[{required:!0,message:"应用分类不能为空",trigger:"change"}],pcPageUrl:[{required:!0,message:"请正确填写url格式",pattern:/^(http|ftp|https){1}[:]{1}[\/]{2}([0-9a-zA-Z]|[-]|[_])+\S+$/,trigger:"blur"}],oauthBaseUrl:[{required:!0,message:"请正确填写url格式",pattern:/^(http|ftp|https){1}[:]{1}[\/]{2}([0-9a-zA-Z]|[-]|[_])+\S+$/,trigger:"blur"}],menuSort:[{required:!0,message:"PC菜单排序值只能为4位数以内的数字",pattern:/^[0-9]{1,4}$/,trigger:"blur"}],pcMenuIcon:[{required:!0,message:"请填写标准的iview图标: https://www.iviewui.com/components/icon",pattern:/^\S+[-]{1}\S+$/,trigger:"blur"}]}}},computed:{breadcrumbList:function(){return this.utils.routerUtil.initRouterTreeNameArr(this.routerPath)}},methods:{handleSubmit:function(t){var e=this;this.$refs[t].validate(function(t){t?e.commitData():e.$Message.error("请完善表单信息!")})},handleReset:function(t){this.$refs[t].resetFields()},commitData:function(){var t=this;this.utils.netUtil.post(this.$store,this.API_PTAH.appInfoAdd,this.appInfoFrom,function(){t.$Message.success("提交成功!"),t.$router.push("/app-info-list")})},showOnBasicApp:function(){return"0"===this.appInfoFrom.appCategory},notShowOnBasicApp:function(){return!this.showOnBasicApp()},showOnPrivateTokenAuthType:function(){return"1"===this.appInfoFrom.authType},showOnSso:function(){return"1"===this.appInfoFrom.loginType||"2"===this.appInfoFrom.loginType}}}),Q=G,X=(a("a947"),Object(d["a"])(Q,J,Z,!1,null,null,null));X.options.__file="AppInfoAdd.vue";var Y=X.exports,tt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Row",[a("i-col",{staticClass:"bread-crumb",attrs:{span:"24"}},[a("Breadcrumb",t._l(t.breadcrumbList,function(e,n){return a("BreadcrumbItem",{key:n,attrs:{to:e.path}},[a("Icon",{attrs:{type:e.icon}}),t._v(" "+t._s(e.name)+"\n        ")],1)}),1)],1)],1),a("Divider"),a("Row",[a("i-col",{attrs:{span:"12",offset:"6"}},[a("Form",{ref:"appInfoFrom",attrs:{model:t.appInfoFrom,rules:t.fromValidate,"label-width":100}},[a("FormItem",{attrs:{label:"应用名称",prop:"appName"}},[a("i-input",{attrs:{placeholder:"请输入应用名称"},model:{value:t.appInfoFrom.appName,callback:function(e){t.$set(t.appInfoFrom,"appName",e)},expression:"appInfoFrom.appName"}})],1),a("FormItem",{attrs:{label:"应用类型",prop:"appCategory"}},[a("Select",{attrs:{placeholder:"选择应用类型   "},model:{value:t.appInfoFrom.appCategory,callback:function(e){t.$set(t.appInfoFrom,"appCategory",e)},expression:"appInfoFrom.appCategory"}},t._l(t.appCategoryEunmArr,function(e){return a("Option",{key:e.value,attrs:{value:e.value,disabled:e.disabled}},[t._v(t._s(e.label))])}),1)],1),a("FormItem",{attrs:{label:"应用状态",prop:"appStatus"}},[a("Select",{attrs:{placeholder:"请输入应用状态"},model:{value:t.appInfoFrom.appStatus,callback:function(e){t.$set(t.appInfoFrom,"appStatus",e)},expression:"appInfoFrom.appStatus"}},t._l(t.appStatusEunmArr,function(e){return a("Option",{key:e.value,attrs:{value:e.value}},[t._v(t._s(e.label))])}),1)],1),t.notShowOnBasicApp()?a("FormItem",{attrs:{label:"API授权模式",prop:"authType"}},[a("Select",{attrs:{placeholder:"请输入API授权模式",disabled:""},model:{value:t.appInfoFrom.authType,callback:function(e){t.$set(t.appInfoFrom,"authType",e)},expression:"appInfoFrom.authType"}},t._l(t.authTypeEunmArr,function(e){return a("Option",{key:e.value,attrs:{value:e.value}},[t._v(t._s(e.label))])}),1),a("ipWhiteList",{directives:[{name:"show",rawName:"v-show",value:t.showOnInnerApi(),expression:"showOnInnerApi()"}]}),a("unLoginAccessWhiteList",{directives:[{name:"show",rawName:"v-show",value:t.showOnPrivateTokenAuthType(),expression:"showOnPrivateTokenAuthType()"}],attrs:{"app-id":t.appInfoFrom.id}})],1):t._e(),t.showOnPrivateTokenAuthType()&&t.notShowOnBasicApp()?a("FormItem",{attrs:{label:"账号授权模式",prop:"loginType"}},[a("Select",{attrs:{placeholder:"选择账号授权模式"},model:{value:t.appInfoFrom.loginType,callback:function(e){t.$set(t.appInfoFrom,"loginType",e)},expression:"appInfoFrom.loginType"}},t._l(t.loginTypeEunmArr,function(e){return a("Option",{key:e.value,attrs:{value:e.value}},[t._v(t._s(e.label))])}),1)],1):t._e(),t.notShowOnBasicApp()&&t.showOnSso()?a("FormItem",{attrs:{label:"SSO回调地址",prop:"oauthBaseUrl"}},[a("i-input",{attrs:{placeholder:"请输入SSO登陆成功回调地址"},model:{value:t.appInfoFrom.oauthBaseUrl,callback:function(e){t.$set(t.appInfoFrom,"oauthBaseUrl",e)},expression:"appInfoFrom.oauthBaseUrl"}})],1):t._e(),t.notShowOnBasicApp()?a("FormItem",{attrs:{label:"应用唯一ID",prop:"openId"}},[a("i-input",{attrs:{disabled:"",placeholder:"请输入创建时间"},model:{value:t.appInfoFrom.openId,callback:function(e){t.$set(t.appInfoFrom,"openId",e)},expression:"appInfoFrom.openId"}})],1):t._e(),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:t.showOnOpenApi(),expression:"showOnOpenApi()"}],attrs:{label:"应用秘钥",prop:"secret"}},[a("i-input",{attrs:{disabled:"",placeholder:"请输入应用秘钥"},model:{value:t.appInfoFrom.secret,callback:function(e){t.$set(t.appInfoFrom,"secret",e)},expression:"appInfoFrom.secret"}})],1),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:t.showOnInnerApi(),expression:"showOnInnerApi()"}],attrs:{label:"访问令牌",prop:"innerApiToken"}},[a("i-input",{attrs:{disabled:"",placeholder:"请输入访问令牌"},model:{value:t.appInfoFrom.innerApiToken,callback:function(e){t.$set(t.appInfoFrom,"innerApiToken",e)},expression:"appInfoFrom.innerApiToken"}})],1),t.showOnBasicApp()?a("FormItem",{attrs:{label:"PC端地址链接",prop:"pcPageUrl"}},[a("i-input",{attrs:{placeholder:"请输入PC端地址链接"},model:{value:t.appInfoFrom.pcPageUrl,callback:function(e){t.$set(t.appInfoFrom,"pcPageUrl",e)},expression:"appInfoFrom.pcPageUrl"}})],1):t._e(),t.showOnBasicApp()?a("FormItem",{attrs:{label:"PC端图标icon",prop:"pcMenuIcon"}},[a("i-input",{attrs:{placeholder:"请输入PC端图标icon"},model:{value:t.appInfoFrom.pcMenuIcon,callback:function(e){t.$set(t.appInfoFrom,"pcMenuIcon",e)},expression:"appInfoFrom.pcMenuIcon"}})],1):t._e(),t.showOnBasicApp()?a("FormItem",{attrs:{label:"PC端菜单排序",prop:"menuSort"}},[a("i-input",{attrs:{placeholder:"请输入PC端图标icon"},model:{value:t.appInfoFrom.menuSort,callback:function(e){t.$set(t.appInfoFrom,"menuSort",e)},expression:"appInfoFrom.menuSort"}})],1):t._e(),a("FormItem",{attrs:{label:"创建时间",prop:"createTime"}},[a("i-input",{attrs:{disabled:"",placeholder:"请输入创建时间"},model:{value:t.appInfoFrom.createTime,callback:function(e){t.$set(t.appInfoFrom,"createTime",e)},expression:"appInfoFrom.createTime"}})],1),a("FormItem",{attrs:{label:"\t修改时间",prop:"updateTime"}},[a("i-input",{attrs:{disabled:"",placeholder:"请输入修改时间"},model:{value:t.appInfoFrom.updateTime,callback:function(e){t.$set(t.appInfoFrom,"updateTime",e)},expression:"appInfoFrom.updateTime"}})],1),a("FormItem",{attrs:{label:"\t操作人",prop:"operatorName"}},[a("i-input",{attrs:{disabled:"",placeholder:"请输入操作人"},model:{value:t.appInfoFrom.operatorName,callback:function(e){t.$set(t.appInfoFrom,"operatorName",e)},expression:"appInfoFrom.operatorName"}})],1),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:function(e){t.handleSubmit("appInfoFrom")}}},[t._v("提交")])],1)],1)],1)],1)],1)},et=[],at=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("a",{attrs:{type:"primary"},on:{click:function(e){t.showDataList()}}},[t._v("添加IP访问白名单")]),a("Drawer",{attrs:{title:"ip地址白名单",width:"512",closable:!1},model:{value:t.showDataListState,callback:function(e){t.showDataListState=e},expression:"showDataListState"}},[a("Button",{attrs:{type:"info"},on:{click:function(e){t.showAddFrom=!0}}},[t._v("新增")]),a("Divider"),a("Table",{attrs:{columns:t.columns,data:t.listData},scopedSlots:t._u([{key:"action",fn:function(e){var n=e.row,r=e.index;return[a("a",{on:{click:function(e){t.deleteData(n.id,r)}}},[t._v("删除")])]}}])})],1),a("Drawer",{attrs:{title:"新增白名单",closable:!1},on:{"on-close":t.onCloseAddView},model:{value:t.showAddFrom,callback:function(e){t.showAddFrom=e},expression:"showAddFrom"}},[a("Form",{ref:"addDataParam",attrs:{"label-width":80,rules:t.validateRule,model:t.addDataParam}},[a("FormItem",{attrs:{label:"ip地址",prop:"ipAddress"}},[a("i-input",{attrs:{placeholder:"请输入应用名称"},model:{value:t.addDataParam.ipAddress,callback:function(e){t.$set(t.addDataParam,"ipAddress",e)},expression:"addDataParam.ipAddress"}})],1),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:function(e){t.handleSubmit("addDataParam")}}},[t._v("提交")])],1)],1)],1)],1)},nt=[],rt={data:function(){return{paramData:{data:{ipAddress:""},page:{currentPage:1,pageSize:10},sort:{orderBy:"id",sort:"desc"}},addDataParam:{ipAddress:""},validateRule:{ipAddress:[{required:!0,pattern:/^(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])$/,message:"ip地址格式输入不正确",trigger:"blur"}]},showDataListState:!1,showAddFrom:!1,columns:[{title:"ip白名单",key:"ipAddress"},{title:"操作",slot:"action",width:250,align:"center"}],listData:[]}},mounted:function(){},methods:{handleSubmit:function(t){var e=this;this.$refs[t].validate(function(t){t?e.commitData():e.$Message.error("请完善表单信息!")})},showDataList:function(){this.showDataListState=!0,0==this.listData.length&&this.getDataList()},getDataList:function(){var t=this;this.utils.netUtil.post(this.$store,this.API_PTAH.ipWhtieListFind,this.paramData,function(e){t.listData=e.data.datas})},deleteData:function(t,e){var a=this;this.$Modal.confirm({title:"警告",content:"确认删除该条数据吗",onOk:function(){a.utils.netUtil.post(a.$store,a.API_PTAH.ipWhtieListDelete,{id:t},function(){a.listData.splice(e,1),a.$Message.success("删除成功!")})}})},commitData:function(){var t=this;this.utils.netUtil.post(this.$store,this.API_PTAH.ipWhtieListAdd,this.addDataParam,function(){t.addDataParam.ipAddress="",t.showAddFrom=!1,t.$Message.success("提交成功!"),t.getDataList()})},onCloseAddView:function(){this.addDataParam.ipAddress=""}}},ot=rt,it=(a("e62c"),Object(d["a"])(ot,at,nt,!1,null,null,null));it.options.__file="ipWhiteList.vue";var st=it.exports,pt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("a",{attrs:{type:"primary"},on:{click:function(e){t.showDataList()}}},[t._v("添加免登录访问接口白名单")]),a("Drawer",{attrs:{title:"免登录访问接口白名单",width:"512",closable:!1},model:{value:t.showDataListState,callback:function(e){t.showDataListState=e},expression:"showDataListState"}},[a("Button",{attrs:{type:"info"},on:{click:function(e){t.showAddFrom=!0}}},[t._v("新增")]),a("Divider"),a("Table",{attrs:{columns:t.columns,data:t.listData},scopedSlots:t._u([{key:"action",fn:function(e){var n=e.row,r=e.index;return[a("a",{on:{click:function(e){t.deleteData(n.id,r)}}},[t._v("删除")])]}}])})],1),a("Drawer",{attrs:{title:"新增免登录访问接口白名单",closable:!1},on:{"on-close":t.onCloseAddView},model:{value:t.showAddFrom,callback:function(e){t.showAddFrom=e},expression:"showAddFrom"}},[a("Form",{ref:"addDataParam",attrs:{"label-width":82,rules:t.validateRule,model:t.addDataParam}},[a("FormItem",{attrs:{label:"白名单接口",prop:"apiId"}},[a("Select",{ref:"ApiSelector",attrs:{model:t.addDataParam.apiId,placeholder:"搜索接口名称",filterable:"",remote:"","remote-method":t.queryApiByAppId,loading:t.apiOptionsLoading,clearable:!0},on:{"on-clear":t.clearSelectApi,"on-change":t.changeSelectApi}},t._l(t.apiOptions,function(e,n){return a("Option",{key:n,attrs:{value:e.apiId}},[t._v(t._s(e.apiName))])}),1)],1),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:function(e){t.handleSubmit("addDataParam")}}},[t._v("提交")])],1)],1)],1)],1)},lt=[],ut={props:["appId"],data:function(){return{apiOptionsLoading:!1,apiOptions:[],paramData:{data:{apiId:"",apiName:"",apiPath:"",appId:this.appId},page:{currentPage:1,pageSize:10},sort:{orderBy:"id",sort:"desc"}},addDataParam:{apiId:"",apiName:"",apiPath:"",appId:this.appId},validateRule:{apiId:[{required:!0,message:"请搜索接口名称并选中",trigger:"change",type:"number"}]},showDataListState:!1,showAddFrom:!1,columns:[{title:"接口名称",key:"apiName"},{title:"操作",slot:"action",width:250,align:"center"}],listData:[]}},mounted:function(){},methods:{handleSubmit:function(t){var e=this;this.$refs[t].validate(function(t){t?e.commitData():e.$Message.error("请完善表单信息!")})},showDataList:function(){this.showDataListState=!0,0==this.listData.length&&this.getDataList()},getDataList:function(){var t=this;this.utils.netUtil.post(this.$store,this.API_PTAH.unLoginAccessWhiteListFind,this.paramData,function(e){t.listData=e.data.datas})},deleteData:function(t,e){var a=this;this.$Modal.confirm({title:"警告",content:"确认删除该条数据吗",onOk:function(){a.utils.netUtil.post(a.$store,a.API_PTAH.unLoginAccessWhiteListDelete,{id:t},function(){a.listData.splice(e,1),a.$Message.success("删除成功!")})}})},commitData:function(){var t=this;this.utils.netUtil.post(this.$store,this.API_PTAH.unLoginAccessWhiteListAdd,this.addDataParam,function(){t.showAddFrom=!1,t.$Message.success("提交成功!"),t.getDataList(),t.onCloseAddView()})},onCloseAddView:function(){this.clearSelectApi(),this.$refs.ApiSelector.clearSingleSelect()},changeSelectApi:function(t){var e=this;t&&this.apiOptions.map(function(a){a.apiId===t&&(e.addDataParam.apiId=t,e.addDataParam.apiName=a.apiName,e.addDataParam.apiPath=a.apiPath)})},queryApiByAppId:E.a.debounce(function(t){var e=this;""!==t?(this.apiOptionsLoading=!0,this.apiOptions=[],this.utils.netUtil.post(this.$store,this.API_PTAH.unLoginAccessWhiteListFindUnBindingData,{data:{appId:this.appId,apiName:t}},function(t){e.apiOptionsLoading=!1,e.apiOptions=t.data.datas})):this.apiOptions=[]},500),clearSelectApi:function(){this.addDataParam.apiId="",this.addDataParam.apiName="",this.addDataParam.apiPath="",this.addDataParam.apiId="",this.apiOptions=[]}}},ct=ut,dt=(a("9ae2"),Object(d["a"])(ct,pt,lt,!1,null,null,null));dt.options.__file="unLoginAccessWhiteList.vue";var mt=dt.exports,ft={components:{ipWhiteList:st,unLoginAccessWhiteList:mt},props:{query:{userId:0}},data:function(){return{routerPath:this.$route.path,loginTypeEunmArr:[{value:"0",label:"API (短信验证码登录注册/短信验证码登录/密码登录)"},{value:"1",label:"SSO (短信验证码登录)"},{value:"2",label:"SSO (密码登录)"}],appCategoryEunmArr:[{value:"0",label:"基础应用"},{value:"1",label:"普通应用"}],authTypeEunmArr:[{value:"0",label:"授权码 (共享令牌)"},{value:"1",label:"私有令牌  (一设备一令牌 需要登录)"},{value:"2",label:"IP白名单+通行令牌 (管理后台模式)"},{value:"3",label:"私有免登陆令牌 (一设备一令牌 免登陆)"}],appStatusEunmArr:[{value:"0",label:"连接"},{value:"1",label:"断开"}],appInfoFrom:{id:this.$route.params.id,createTime:"",updateTime:"",operatorName:"",appName:"",authType:"",appStatus:"",appCategory:"",pcPageUrl:"",pcMenuIcon:"",oauthBaseUrl:"",menuSort:0,loginType:""},fromValidate:{loginType:[{required:!0,message:"登录模式不能为空",trigger:"blur"}],oauthBaseUrl:[{required:!0,message:"请正确填写url格式",pattern:/^(http|ftp|https){1}[:]{1}[\/]{2}([0-9a-zA-Z]|[-]|[_])+\S+$/,trigger:"blur"}],appName:[{required:!0,message:"应用名不能为空",trigger:"blur"}],appCategory:[{required:!0,message:"应用分类不能为空",trigger:"change"}],pcPageUrl:[{required:!0,message:"请正确填写url格式",pattern:/^(http|ftp|https){1}[:]{1}[\/]{2}([0-9a-zA-Z]|[-]|[_])+\S+$/,trigger:"blur"}],pcMenuIcon:[{required:!0,message:"请填写标准的iview图标: https://www.iviewui.com/components/icon",pattern:/^\S+[-]{1}\S+$/,trigger:"blur"}],menuSort:[{required:!0,message:"PC菜单排序值只能为4位数以内的数字",pattern:/^[0-9]{1,4}$/,trigger:"blur"}]}}},mounted:function(){this.loadData()},computed:{breadcrumbList:function(){return this.utils.routerUtil.initRouterTreeNameArr(this.routerPath)}},methods:{handleSubmit:function(t){var e=this;this.$refs[t].validate(function(t){t?e.commitData():e.$Message.error("请完善表单信息!")})},loadData:function(){var t=this;this.utils.netUtil.post(this.$store,this.API_PTAH.appInfoFindById,{data:this.appInfoFrom},function(e){t.appInfoFrom=e.data.datas})},commitData:function(){var t=this;this.appInfoFrom.id=this.$route.params.id,this.utils.netUtil.post(this.$store,this.API_PTAH.appInfoUpdate,this.appInfoFrom,function(){t.$Message.success("提交成功!"),t.$router.push("/app-info-list")})},showOnOpenApi:function(){return"3"===this.appInfoFrom.authType||"1"===this.appInfoFrom.authType||"0"===this.appInfoFrom.authType},showOnPrivateTokenAuthType:function(){return"1"===this.appInfoFrom.authType},showOnInnerApi:function(){return"2"===this.appInfoFrom.authType},showOnBasicApp:function(){return"0"===this.appInfoFrom.appCategory},notShowOnBasicApp:function(){return!this.showOnBasicApp()},showOnSso:function(){return"1"===this.appInfoFrom.loginType||"2"===this.appInfoFrom.loginType}}},ht=ft,gt=(a("44ba"),Object(d["a"])(ht,tt,et,!1,null,null,null));gt.options.__file="AppInfoEditor.vue";var vt=gt.exports,It=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Row",[a("i-col",{attrs:{span:"2",offset:"10"}},[a("div",{staticClass:"err-info-box"},[a("P",{staticClass:"err-msg"},[t._v("访问权限检测中")]),a("img",{staticClass:"err-img",attrs:{src:t.errImg401}})],1)])],1)},bt=[],At=a("fece"),yt=a.n(At),wt={data:function(){return{errImg401:yt.a}},computed:{isLogin:function(){return r()(this.$store.state.uagCurrentLoginUserInfo).length>0}},mounted:function(){var t=this,e=setInterval(function(){t.isLogin&&(clearInterval(e),t.$router.push("/"))},1500)},methods:{}},Ft=wt,St=(a("f302"),Object(d["a"])(Ft,It,bt,!1,null,"32caa334",null));St.options.__file="ErrorCard.vue";var Pt=St.exports,_t=a("8c4f");o["default"].use(_t["a"]);var Dt={};Dt.routerPath=[{path:"/app-info-list",component:V,icon:"ios-appstore",name:"应用列表"},{path:"/app-info-list/app-info-add",component:Y,icon:"md-add-circle",name:"添加应用"},{path:"/app-info-list/app-info-editor/:id",component:vt,icon:"ios-brush",name:"编辑应用"},{path:"/err",component:Pt},{path:"",redirect:"/app-info-list"}],Dt.initRouterGenerate=new _t["a"]({routes:Dt.routerPath});var Tt=Dt,kt={initRouterTreeNameArr:function(t){var e=[],a=[];t.split("/").forEach(function(t){""!=t&&e.push("/"+t)}),e.pop(),e.push(t);var n=t;while(n.split("/").length-1>1)n=n.slice(0,n.lastIndexOf("/")),e.push(n);return e=B.removeEmptyValueInArray(e),Tt.routerPath.forEach(function(t){e.forEach(function(e){var n=!1;t.path.indexOf(":")>0&&t.path.slice(0,t.path.indexOf(":"))===e.slice(0,e.lastIndexOf("/")+1)&&(n=!0),t.path===e&&(n=!0),n&&a.push(t)})}),a},getPcUrlByRouterPath:function(t){var e="",a=JSON.parse(localStorage.menuArr);return a.map(function(a){a.path===t&&(e=a.pcUrl)}),e},getMenuListFromLocalRouterConfig:function(){var t=JSON.parse(localStorage.menuArr);return t.splice(0,1),t},initRouterNavBarActiveStatus:function(t){var e=[];return t.split("/").forEach(function(t){""!=t&&e.push("/"+t)}),e[0]}},Ot=kt,Lt={appInfoDelete:"/appInfo/delete",appInfoFind:"/appInfo/find",appInfoFindById:"/appInfo/findById",appInfoAdd:"/appInfo/add",appInfoUpdate:"/appInfo/update",findServerByName:"/appInfo/findServerByName",findAppApiRelationshipByServerIdAndAppId:"/appInfo/findAppApiRelationshipByServerIdAndAppId",findApiByAppId:"/appInfo/findApiByAppId",bindingApi:"/appInfo/bindingApi",unBindingApi:"/appInfo/unBindingApi",syncAppApiRelationship:"/appInfo/syncAppApiRelationship",ipWhtieListAdd:"/ipWhtieList/add",ipWhtieListDelete:"/ipWhtieList/delete",ipWhtieListFind:"/ipWhtieList/find"};Lt.ipWhtieListFind="/ipWhtieList/find",Lt.unLoginAccessWhiteListFindUnBindingData="/unLoginAccessWhiteList/findUnBindingData",Lt.unLoginAccessWhiteListAdd="/unLoginAccessWhiteList/add",Lt.unLoginAccessWhiteListFind="/unLoginAccessWhiteList/find",Lt.unLoginAccessWhiteListDelete="/unLoginAccessWhiteList/delete";var $t=Lt,Bt={sendAutoParentFrameSizeMsg:function(){setInterval(function(){var t=window.document.body.offsetHeight,e=window.location.host,a={subFrameHeight:t,subFrameHost:e};window.parent.postMessage(a,"*")},500)},getCurrentLoginUserInfo:function(t){window.addEventListener("message",function(e){"undefined"!=typeof e.data.loadCurrentLoginUserInfo&&t.commit("loadCurrentLoginUserInfo",e.data.loadCurrentLoginUserInfo)},!1)},reSizeParentFrameSize:function(t){window.addEventListener("message",function(e){var a=e.data.subFrameHeight;"undefined"!=typeof a&&(a="".concat(a,"px"),t.commit("reSizeFrameHeight",a));var n=e.data.subFrameHost;if("undefined"!=typeof n){var o=document.getElementsByTagName("iframe")[0],i=t.state.uagCurrentLoginUserInfo;0==r()(i).length?Mt.netUtil.post($t.getCurrentUagLoginInfo,{},function(e){t.commit("loadCurrentLoginUserInfo",e.data.datas),o.contentWindow.postMessage({loadCurrentLoginUserInfo:t.state.uagCurrentLoginUserInfo},"*")}):o.contentWindow.postMessage({loadCurrentLoginUserInfo:t.state.uagCurrentLoginUserInfo},"*")}},!1)}},Ct=Bt,Ut={netUtil:O,objectUtil:B,frameUtil:Ct,routerUtil:Ot},Mt=Ut,xt=a("2f62"),Nt={uagCurrentLoginUserInfo:{}},Et=Nt,Rt=(a("96cf"),a("3b8d")),qt={loadCurrentLoginUserInfo:function(){var t=Object(Rt["a"])(regeneratorRuntime.mark(function t(e,a){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:e.uagCurrentLoginUserInfo=a;case 1:case"end":return t.stop()}},t,this)}));function e(e,a){return t.apply(this,arguments)}return e}()},Ht=qt;o["default"].use(xt["a"]);var Wt={};Wt.initsStoreInstance=new xt["a"].Store({state:Et,mutations:Ht});var jt=Wt;o["default"].use(y.a),o["default"].config.productionTip=!1,Mt.vue=void 0,o["default"].prototype.utils=Mt,o["default"].prototype.API_PTAH=$t;var zt=Tt.initRouterGenerate,Kt=jt.initsStoreInstance;zt.beforeEach(function(t,e,a){"/err"!=t.path&&r()(Kt.state.uagCurrentLoginUserInfo).length<=0&&a("/err"),a()}),new o["default"]({router:zt,store:Kt,render:function(t){return t(b)}}).$mount("#app")},"74b5":function(t,e,a){},"8b5e":function(t,e,a){},"9a8d":function(t,e,a){},"9ae2":function(t,e,a){"use strict";var n=a("40c3"),r=a.n(n);r.a},a947:function(t,e,a){"use strict";var n=a("9a8d"),r=a.n(n);r.a},baa5:function(t,e,a){},e62c:function(t,e,a){"use strict";var n=a("baa5"),r=a.n(n);r.a},f302:function(t,e,a){"use strict";var n=a("74b5"),r=a.n(n);r.a},fbf2:function(t,e,a){},fece:function(t,e,a){t.exports=a.p+"img/401.294359d7.png"}});
//# sourceMappingURL=app.79373bb5.js.map