(function(e){function t(t){for(var r,a,i=t[0],u=t[1],c=t[2],f=0,d=[];f<i.length;f++)a=i[f],o[a]&&d.push(o[a][0]),o[a]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);l&&l(t);while(d.length)d.shift()();return s.push.apply(s,c||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],r=!0,a=1;a<n.length;a++){var i=n[a];0!==o[i]&&(r=!1)}r&&(s.splice(t--,1),e=u(u.s=n[0]))}return e}var r={},a={app:0},o={app:0},s=[];function i(e){return u.p+"js/"+({}[e]||e)+"."+{"chunk-fd925cc4":"6c6f485b"}[e]+".js"}function u(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,u),n.l=!0,n.exports}u.e=function(e){var t=[],n={"chunk-fd925cc4":1};a[e]?t.push(a[e]):0!==a[e]&&n[e]&&t.push(a[e]=new Promise(function(t,n){for(var r="css/"+({}[e]||e)+"."+{"chunk-fd925cc4":"1ff32d47"}[e]+".css",o=u.p+r,s=document.getElementsByTagName("link"),i=0;i<s.length;i++){var c=s[i],f=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(f===r||f===o))return t()}var d=document.getElementsByTagName("style");for(i=0;i<d.length;i++){c=d[i],f=c.getAttribute("data-href");if(f===r||f===o)return t()}var l=document.createElement("link");l.rel="stylesheet",l.type="text/css",l.onload=t,l.onerror=function(t){var r=t&&t.target&&t.target.src||o,s=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");s.code="CSS_CHUNK_LOAD_FAILED",s.request=r,delete a[e],l.parentNode.removeChild(l),n(s)},l.href=o;var p=document.getElementsByTagName("head")[0];p.appendChild(l)}).then(function(){a[e]=0}));var r=o[e];if(0!==r)if(r)t.push(r[2]);else{var s=new Promise(function(t,n){r=o[e]=[t,n]});t.push(r[2]=s);var c,f=document.createElement("script");f.charset="utf-8",f.timeout=120,u.nc&&f.setAttribute("nonce",u.nc),f.src=i(e),c=function(t){f.onerror=f.onload=null,clearTimeout(d);var n=o[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src,s=new Error("Loading chunk "+e+" failed.\n("+r+": "+a+")");s.type=r,s.request=a,n[1](s)}o[e]=void 0}};var d=setTimeout(function(){c({type:"timeout",target:f})},12e4);f.onerror=f.onload=c,document.head.appendChild(f)}return Promise.all(t)},u.m=e,u.c=r,u.d=function(e,t,n){u.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},u.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.t=function(e,t){if(1&t&&(e=u(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(u.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)u.d(n,r,function(t){return e[t]}.bind(null,r));return n},u.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return u.d(t,"a",t),t},u.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},u.p="/",u.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],f=c.push.bind(c);c.push=t,c=c.slice();for(var d=0;d<c.length;d++)t(c[d]);var l=f;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"2a3a":function(e,t,n){},"4ffd":function(e,t,n){e.exports=n.p+"img/logo.7b32a7de.png"},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var r,a=n("2b0e"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"layout"},[n("Layout",{style:{minHeight:"100vh"}},[n("Header",[n("Menu",{attrs:{mode:"horizontal",theme:"dark","active-name":"1"}},[n("div",{staticClass:"layout-logo",style:{backgroundImage:"url("+e.logoImg+")"}}),n("div",{staticClass:"layout-logo-title"},[n("span",{staticClass:"logo-title"},[e._v("云管控台")])]),n("div",{staticClass:"layout-nav"},[n("span",{staticClass:"nav-username"},[e._v(e._s(this.$store.state.uagCurrentLoginUserInfo.uagUserNickName))]),n("a",{staticClass:"nav-logout",on:{click:e.doLogOut}},[n("Icon",{staticClass:"logout-icon",attrs:{type:"md-exit"}}),e._v("退出登录\n          ")],1)])])],1),n("Layout",[n("Sider",{style:{background:"#fff"},attrs:{"hide-trigger":""}},[n("Menu",{ref:"side_menu",attrs:{"active-name":e.menuActiveName,theme:"light",width:"auto"},on:{"on-select":e.routerFrame}},e._l(e.menuList,function(t,r){return n("MenuItem",{key:r,attrs:{name:t.path},on:{click:function(n){return e.routerFrame(t.path)}}},[n("Icon",{attrs:{type:t.icon}}),e._v("\n          "+e._s(t.name)+"\n          ")],1)}),1)],1),n("Content",[n("div",{staticStyle:{height:"600px"}},[n("router-view")],1)])],1)],1)],1)},s=[],i=(n("96cf"),n("3b8d")),u=n("4ffd"),c=n.n(u),f={data:function(){return{menuList:[],logoImg:c.a}},computed:{menuActiveName:function(){return this.$route.path}},created:function(){},mounted:function(){this.initMenu(),this.utils.frameUtil.reSizeParentFrameSize(this.$store)},methods:{initMenu:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.utils.routerUtil.getRemoteMenu(this.$router,this.$store);case 2:this.menuList=e.sent,this.$nextTick(function(){t.$refs.side_menu.updateOpened(),t.$refs.side_menu.updateActiveName()});case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),routerFrame:function(e){this.$router.push(e)},doLogOut:function(){this.utils.netUtil.post(this.API_PTAH.logout,{},function(e){e.data.datas&&location.reload()})}}},d=f,l=(n("cf77"),n("2877")),p=Object(l["a"])(d,o,s,!1,null,"3618c69d",null),g=p.exports,m=n("f825"),h=n.n(m),v=(n("f8ce"),n("8b5e"),n("bc3a")),y=n.n(v),b={},w=y.a.CancelToken;y.a.interceptors.request.use(function(e){return b[e.url]?(b[e.url]("cancel"),b[e.url]=r):b[e.url]=r,e},function(e){return Promise.reject(e)}),y.a.interceptors.response.use(function(e){return e},function(e){if(e&&e.response)switch(e.response.status){case 400:e.message="错误请求";break;case 401:e.message="未授权，请重新登录";break;case 403:e.message="拒绝访问";break;case 404:e.message="请求错误,未找到该资源";break;case 405:e.message="请求方法未允许";break;case 408:e.message="请求超时";break;case 500:e.message="服务器端出错";break;case 501:e.message="网络未实现";break;case 502:e.message="网络错误";break;case 503:e.message="服务不可用";break;case 504:e.message="网络超时";break;case 505:e.message="http版本不支持该请求";break;default:e.message="连接错误".concat(e.response.status)}else"cancel"!=e.message&&(e.message="连接到服务器失败");return"cancel"!=e.message&&m["Message"].error(e.message),Promise.resolve(e.response)}),y.a.defaults.baseURL="",y.a.defaults.headers={"Content-Type":"application/json",Accept:"application/json"},y.a.defaults.timeout=1e4;var k={postAsync:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(t,n){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,y()({method:"post",url:t,data:n,cancelToken:new w(function(e){r=e})});case 2:if(a=e.sent,"undefined"!=typeof a){e.next=6;break}return console.log("response is undefined,may be the request is cancelled"),e.abrupt("return");case 6:return"0"!=a.data.errCode&&"undefined"!=typeof a.data.errCode&&m["Message"].error("请求失败 错误码 ".concat(a.data.errCode," 错误信息: ").concat(a.data.errMsg)),e.abrupt("return",a.data.datas);case 8:case"end":return e.stop()}},e)}));function t(t,n){return e.apply(this,arguments)}return t}(),post:function(e,t,n,a){var o={"Content-Type":"application/json",Accept:"application/json"};y()({headers:o,method:"post",url:e,data:t,cancelToken:new w(function(e){r=e})}).then(function(e){"undefined"!=typeof e?"0"===e.data.errCode?n(e):("undefined"!=typeof e.data.errCode&&m["Message"].error("请求失败 错误码 ".concat(e.data.errCode," 错误信息: ").concat(e.data.errMsg)),"undefined"!=typeof a&&a(e)):console.log("response is undefined,may be the request is cancelled")})},postWithAccessToken:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(t,n,a,o,s,i){var u;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:u={"Content-Type":"application/json",Accept:"application/json",appId:t,accessToken:n},y()({headers:u,method:"post",url:a,data:o,cancelToken:new w(function(e){r=e})}).then(function(e){"undefined"!=typeof e?"0"===e.data.errCode?s(e):("undefined"!=typeof e.data.errCode&&m["Message"].error("请求失败 错误码 ".concat(e.data.errCode," 错误信息: ").concat(e.data.errMsg)),"undefined"!=typeof i&&i(e)):console.log("response is undefined,may be the request is cancelled")});case 2:case"end":return e.stop()}},e)}));function t(t,n,r,a,o,s){return e.apply(this,arguments)}return t}()},C=n("7618"),L={copyObj:function(e){var t,n={};for(t in e)n[t]=e[t];return n},uniqueArray:function(e){for(var t=[e[0]],n=1;n<e.length;n++){for(var r=e[n],a=!1,o=0;o<t.length;o++)if(r===t[o]){a=!0;break}a||t.push(r)}return t},removeEmptyValueInArray:function(e){for(var t=0;t<e.length;t++)""!=e[t]&&null!=e[t]&&void 0!=Object(C["a"])(e[t])||(e.splice(t,1),t-=1);return this.uniqueArray(e)}};Array.prototype.indexOf=function(e){for(var t=0;t<this.length;t++)if(this[t]==e)return t;return-1},Array.prototype.remove=function(e){var t=this.indexOf(e);t>-1&&this.splice(t,1)};var U=L,I=(n("28a5"),n("ac6a"),n("8c4f"));a["default"].use(I["a"]);var O={routerPath:[{path:"",redirect:"/0"}]};O.initRouterGenerate=new I["a"]({routes:[]});var x=O,A={getMenuList:"/framework/findBasicMenuList",logout:"/framework/logout",getCurrentUagLoginInfo:"/framework/getCurrentUagLoginInfo"},M=A,S={initRouterTreeNameArr:function(e){var t=[],n=[];e.split("/").forEach(function(e){""!=e&&t.push("/"+e)}),t.pop(),t.push(e);var r=e;while(r.split("/").length-1>1)r=r.slice(0,r.lastIndexOf("/")),t.push(r);return t=U.removeEmptyValueInArray(t),x.routerPath.forEach(function(e){t.forEach(function(t){var r=!1;e.path.indexOf(":")>0&&e.path.slice(0,e.path.indexOf(":"))===t.slice(0,t.lastIndexOf("/")+1)&&(r=!0),e.path===t&&(r=!0),r&&n.push(e)})}),n},getPcUrlByRouterPath:function(e){var t="",n=JSON.parse(sessionStorage.menuArr);return n.map(function(n){n.path===e&&(t=n.pcUrl)}),t},initRouterNavBarActiveStatus:function(e){var t=[];return e.split("/").forEach(function(e){""!=e&&t.push("/"+e)}),t[0]}};S.getRemoteMenu=function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(t,r){var a,o,s,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(a=r.state.isLoadMenu,a){e.next=11;break}return e.next=4,N.netUtil.postAsync(M.getMenuList,{});case 4:o=e.sent,s=[],x.routerPath.forEach(function(e){s.push(e)}),o.forEach(function(e){e.component=function(){return n.e("chunk-fd925cc4").then(n.bind(null,"077a"))},s.push(e)}),sessionStorage.menuArr=JSON.stringify(s),t.addRoutes(s),r.commit("doLoadingMenu");case 11:return i=JSON.parse(sessionStorage.menuArr),i.splice(0,1),e.abrupt("return",i);case 14:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}();var j=S,P={getDomainByUrl:function(e){var t=e.split("/");return t=t[2]?t[2]:"",t},getHostByUrl:function(e){var t=P.getDomainByUrl(e);return-1!=t.indexOf(":")&&(t=t.substr(0,t.indexOf(":"))),t}},_=P,T=(n("456d"),{sendAutoParentFrameSizeMsg:function(){setInterval(function(){var e=window.document.body.offsetHeight,t=window.location.host,n={subFrameHeight:e,subFrameHost:t};window.parent.postMessage(n,"*")},500)},getCurrentLoginUserInfo:function(e){window.addEventListener("message",function(t){"undefined"!=typeof t.data.loadCurrentLoginUserInfo&&e.commit("loadCurrentLoginUserInfo",t.data.loadCurrentLoginUserInfo)},!1)},reSizeParentFrameSize:function(e){window.addEventListener("message",function(t){var n=t.data.subFrameHeight;"undefined"!=typeof n&&(n="".concat(n,"px"),e.commit("reSizeFrameHeight",n));var r=t.data.subFrameHost;if("undefined"!=typeof r){var a=document.getElementsByTagName("iframe")[0],o=e.state.uagCurrentLoginUserInfo;0==Object.keys(o).length?N.netUtil.post(M.getCurrentUagLoginInfo,{},function(t){e.commit("loadCurrentLoginUserInfo",t.data.datas),a.contentWindow.postMessage({loadCurrentLoginUserInfo:e.state.uagCurrentLoginUserInfo},"*")}):a.contentWindow.postMessage({loadCurrentLoginUserInfo:e.state.uagCurrentLoginUserInfo},"*")}},!1)}}),E=T,R={netUtil:k,objectUtil:U,frameUtil:E,stringUtil:_,routerUtil:j},N=R,F=n("2f62"),H={appFrameHeight:"0px",isLoadMenu:!1,uagCurrentLoginUserInfo:{}},$=H,B={reSizeFrameHeight:function(e,t){e.appFrameHeight=t},doLoadingMenu:function(e){e.isLoadMenu=!0},loadCurrentLoginUserInfo:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:t.uagCurrentLoginUserInfo=n;case 1:case"end":return e.stop()}},e)}));function t(t,n){return e.apply(this,arguments)}return t}()},q=B;a["default"].use(F["a"]);var z={};z.initsStoreInstance=new F["a"].Store({state:$,mutations:q});var J=z;a["default"].use(h.a),a["default"].config.productionTip=!1,a["default"].prototype.utils=N,a["default"].prototype.API_PTAH=M;var D=x.initRouterGenerate,W=J.initsStoreInstance;new a["default"]({router:D,store:W,render:function(e){return e(g)}}).$mount("#app")},"8b5e":function(e,t,n){},cf77:function(e,t,n){"use strict";var r=n("2a3a"),a=n.n(r);a.a}});
//# sourceMappingURL=app.50d1d6e3.js.map