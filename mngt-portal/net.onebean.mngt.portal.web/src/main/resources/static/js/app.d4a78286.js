(function(e){function t(t){for(var r,a,u=t[0],s=t[1],c=t[2],f=0,l=[];f<u.length;f++)a=u[f],o[a]&&l.push(o[a][0]),o[a]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);d&&d(t);while(l.length)l.shift()();return i.push.apply(i,c||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,a=1;a<n.length;a++){var u=n[a];0!==o[u]&&(r=!1)}r&&(i.splice(t--,1),e=s(s.s=n[0]))}return e}var r={},a={app:0},o={app:0},i=[];function u(e){return s.p+"js/"+({}[e]||e)+"."+{"chunk-fd925cc4":"2e87b316"}[e]+".js"}function s(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(e){var t=[],n={"chunk-fd925cc4":1};a[e]?t.push(a[e]):0!==a[e]&&n[e]&&t.push(a[e]=new Promise(function(t,n){for(var r="css/"+({}[e]||e)+"."+{"chunk-fd925cc4":"1ff32d47"}[e]+".css",o=s.p+r,i=document.getElementsByTagName("link"),u=0;u<i.length;u++){var c=i[u],f=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(f===r||f===o))return t()}var l=document.getElementsByTagName("style");for(u=0;u<l.length;u++){c=l[u],f=c.getAttribute("data-href");if(f===r||f===o)return t()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=t,d.onerror=function(t){var r=t&&t.target&&t.target.src||o,i=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=r,delete a[e],d.parentNode.removeChild(d),n(i)},d.href=o;var p=document.getElementsByTagName("head")[0];p.appendChild(d)}).then(function(){a[e]=0}));var r=o[e];if(0!==r)if(r)t.push(r[2]);else{var i=new Promise(function(t,n){r=o[e]=[t,n]});t.push(r[2]=i);var c,f=document.createElement("script");f.charset="utf-8",f.timeout=120,s.nc&&f.setAttribute("nonce",s.nc),f.src=u(e),c=function(t){f.onerror=f.onload=null,clearTimeout(l);var n=o[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src,i=new Error("Loading chunk "+e+" failed.\n("+r+": "+a+")");i.type=r,i.request=a,n[1](i)}o[e]=void 0}};var l=setTimeout(function(){c({type:"timeout",target:f})},12e4);f.onerror=f.onload=c,document.head.appendChild(f)}return Promise.all(t)},s.m=e,s.c=r,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(n,r,function(t){return e[t]}.bind(null,r));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/",s.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],f=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var d=f;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"4ffd":function(e,t,n){e.exports=n.p+"img/logo.ebdb1c15.png"},"50e6":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var r,a=n("2b0e"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"layout"},[n("Layout",{style:{minHeight:"100vh"}},[n("Header",[n("Menu",{attrs:{mode:"horizontal",theme:"dark","active-name":"1"}},[n("div",{staticClass:"layout-logo",style:{backgroundImage:"url("+e.logoImg+")"}}),n("div",{staticClass:"layout-logo-title"},[n("span",{staticClass:"logo-title"},[e._v("云管控台")])]),n("div",{staticClass:"layout-nav"},[n("span",{staticClass:"nav-username"},[e._v(e._s(this.$store.state.uagCurrentLoginUserInfo.uagUserNickName))]),n("a",{staticClass:"nav-logout",on:{click:e.doLogOut}},[n("Icon",{staticClass:"logout-icon",attrs:{type:"md-exit"}}),e._v("退出登录\n          ")],1)])])],1),n("Layout",[n("Sider",{style:{background:"#fff"},attrs:{"hide-trigger":""}},[n("Menu",{ref:"side_menu",attrs:{"active-name":e.menuActiveName,theme:"light",width:"auto"},on:{"on-select":e.routerFrame}},e._l(e.menuList,function(t,r){return n("MenuItem",{key:r,attrs:{name:t.path},on:{click:function(n){return e.routerFrame(t.path)}}},[n("Icon",{attrs:{type:t.icon}}),e._v("\n          "+e._s(t.name)+"\n          ")],1)}),1)],1),n("Content",[n("div",{staticStyle:{height:"600px"}},[n("router-view")],1)])],1)],1)],1)},i=[],u=(n("96cf"),n("3b8d")),s=n("4ffd"),c=n.n(s),f={data:function(){return{menuList:[],logoImg:c.a}},computed:{menuActiveName:function(){return this.$route.path}},created:function(){},mounted:function(){this.initMenu(),this.utils.frameUtil.reSizeParentFrameSize(this.$store)},methods:{initMenu:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.menuList=this.utils.routerUtil.getMenuListFromLocalRouterConfig(),this.$nextTick(function(){t.$refs.side_menu.updateOpened(),t.$refs.side_menu.updateActiveName()});case 2:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),routerFrame:function(e){this.$router.push(e)},doLogOut:function(){this.utils.netUtil.post(this.API_PTAH.logout,{},function(e){e.data.datas&&location.reload()})}}},l=f,d=(n("e829"),n("2877")),p=Object(d["a"])(l,o,i,!1,null,"b09ccb2a",null),g=p.exports,m=n("e069"),h=n.n(m),v=(n("dcad"),n("8b5e"),n("bc3a")),y=n.n(v),b={},w=y.a.CancelToken;y.a.interceptors.request.use(function(e){return b[e.url]?(b[e.url]("操作取消"),b[e.url]=r):b[e.url]=r,e},function(e){return Promise.reject(e)}),y.a.interceptors.response.use(function(e){return e},function(e){if(e&&e.response)switch(e.response.status){case 400:e.message="错误请求";break;case 401:e.message="未授权，请重新登录";break;case 403:e.message="拒绝访问";break;case 404:e.message="请求错误,未找到该资源";break;case 405:e.message="请求方法未允许";break;case 408:e.message="请求超时";break;case 500:e.message="服务器端出错";break;case 501:e.message="网络未实现";break;case 502:e.message="网络错误";break;case 503:e.message="服务不可用";break;case 504:e.message="网络超时";break;case 505:e.message="http版本不支持该请求";break;default:e.message="连接错误".concat(e.response.status)}else e.message="连接到服务器失败";return m["Message"].error(e.message),Promise.resolve(e.response)}),y.a.defaults.baseURL="",y.a.defaults.headers={"Content-Type":"application/json",Accept:"application/json"},y.a.defaults.timeout=1e4;var k={postAsync:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,y()({method:"post",url:t,data:n});case 2:return r=e.sent,e.abrupt("return",r.data.datas);case 4:case"end":return e.stop()}},e)}));function t(t,n){return e.apply(this,arguments)}return t}(),post:function(e,t,n){y()({method:"post",url:e,data:t,cancelToken:new w(function(e){r=e})}).then(function(t){t||console.log("err url = ".concat(e,"  response = ").concat(JSON.stringify(t))),"0"===t.data.errCode?n(t):m["Message"].error("请求失败 错误码 ".concat(t.data.errCode," 错误信息: ").concat(t.data.errMsg))}).catch(function(e){m["Message"].error("请求失败 错误详情 = ".concat(e))})}},L=n("7618"),C={copyObj:function(e){var t,n={};for(t in e)n[t]=e[t];return n},uniqueArray:function(e){for(var t=[e[0]],n=1;n<e.length;n++){for(var r=e[n],a=!1,o=0;o<t.length;o++)if(r===t[o]){a=!0;break}a||t.push(r)}return t},removeEmptyValueInArray:function(e){for(var t=0;t<e.length;t++)""!=e[t]&&null!=e[t]&&void 0!=Object(L["a"])(e[t])||(e.splice(t,1),t-=1);return this.uniqueArray(e)}};Array.prototype.indexOf=function(e){for(var t=0;t<this.length;t++)if(this[t]==e)return t;return-1},Array.prototype.remove=function(e){var t=this.indexOf(e);t>-1&&this.splice(t,1)};var U=C,I=(n("28a5"),n("ac6a"),{getMenuList:"/framework/findBasicMenuList",logout:"/framework/logout",getCurrentUagLoginInfo:"/framework/getCurrentUagLoginInfo"}),O=I,x=n("8c4f");a["default"].use(x["a"]);var S={routerPath:[{path:"",redirect:"/0"}]};S.initRouterGenerate=new x["a"]({routes:[]}),S.remoteRouterGenerate=function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(t,r){var a,o,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(a=r.state.isLoadMenu,a){e.next=11;break}return e.next=4,N.netUtil.postAsync(O.getMenuList,{});case 4:o=e.sent,i=[],S.routerPath.forEach(function(e){i.push(e)}),o.forEach(function(e){e.component=function(){return n.e("chunk-fd925cc4").then(n.bind(null,"077a"))},i.push(e)}),localStorage.menuArr=JSON.stringify(i),t.addRoutes(i),r.commit("doLoadingMenu");case 11:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}();var A=S,M={initRouterTreeNameArr:function(e){var t=[],n=[];e.split("/").forEach(function(e){""!=e&&t.push("/"+e)}),t.pop(),t.push(e);var r=e;while(r.split("/").length-1>1)r=r.slice(0,r.lastIndexOf("/")),t.push(r);return t=U.removeEmptyValueInArray(t),A.routerPath.forEach(function(e){t.forEach(function(t){var r=!1;e.path.indexOf(":")>0&&e.path.slice(0,e.path.indexOf(":"))===t.slice(0,t.lastIndexOf("/")+1)&&(r=!0),e.path===t&&(r=!0),r&&n.push(e)})}),n},getPcUrlByRouterPath:function(e){var t="",n=JSON.parse(localStorage.menuArr);return n.map(function(n){n.path===e&&(t=n.pcUrl)}),t},getMenuListFromLocalRouterConfig:function(){var e=JSON.parse(localStorage.menuArr);return e.splice(0,1),e},initRouterNavBarActiveStatus:function(e){var t=[];return e.split("/").forEach(function(e){""!=e&&t.push("/"+e)}),t[0]}},P=M,_={getDomainByUrl:function(e){var t=e.split("/");return t=t[2]?t[2]:"",t},getHostByUrl:function(e){var t=_.getDomainByUrl(e);return-1!=t.indexOf(":")&&(t=t.substr(0,t.indexOf(":"))),t}},j=_,E=(n("456d"),{sendAutoParentFrameSizeMsg:function(){setInterval(function(){var e=window.document.body.offsetHeight,t=window.location.host,n={subFrameHeight:e,subFrameHost:t};window.parent.postMessage(n,"*")},500)},getCurrentLoginUserInfo:function(e){window.addEventListener("message",function(t){"undefined"!=typeof t.data.loadCurrentLoginUserInfo&&e.commit("loadCurrentLoginUserInfo",t.data.loadCurrentLoginUserInfo)},!1)},reSizeParentFrameSize:function(e){window.addEventListener("message",function(t){var n=t.data.subFrameHeight;"undefined"!=typeof n&&(n="".concat(n,"px"),e.commit("reSizeFrameHeight",n));var r=t.data.subFrameHost;if("undefined"!=typeof r){var a=document.getElementsByTagName("iframe")[0],o=e.state.uagCurrentLoginUserInfo;0==Object.keys(o).length?N.netUtil.post(O.getCurrentUagLoginInfo,{},function(t){e.commit("loadCurrentLoginUserInfo",t.data.datas),a.contentWindow.postMessage({loadCurrentLoginUserInfo:e.state.uagCurrentLoginUserInfo},"*")}):a.contentWindow.postMessage({loadCurrentLoginUserInfo:e.state.uagCurrentLoginUserInfo},"*")}},!1)}}),R=E,F={netUtil:k,objectUtil:U,frameUtil:R,stringUtil:j,routerUtil:P},N=F,T=n("2f62"),H={appFrameHeight:"0px",isLoadMenu:!1,uagCurrentLoginUserInfo:{}},B=H,$={reSizeFrameHeight:function(e,t){e.appFrameHeight=t},doLoadingMenu:function(e){e.isLoadMenu=!0},loadCurrentLoginUserInfo:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:t.uagCurrentLoginUserInfo=n;case 1:case"end":return e.stop()}},e)}));function t(t,n){return e.apply(this,arguments)}return t}()},z=$;a["default"].use(T["a"]);var J={};J.initsStoreInstance=new T["a"].Store({state:B,mutations:z});var q=J;a["default"].use(h.a),a["default"].config.productionTip=!1,a["default"].prototype.utils=N,a["default"].prototype.API_PTAH=O;var D=A.initRouterGenerate,G=q.initsStoreInstance;D.beforeEach(function(e,t,n){A.remoteRouterGenerate(D,G),n()}),new a["default"]({router:D,store:G,render:function(e){return e(g)}}).$mount("#app")},"8b5e":function(e,t,n){},e829:function(e,t,n){"use strict";var r=n("50e6"),a=n.n(r);a.a}});
//# sourceMappingURL=app.d4a78286.js.map