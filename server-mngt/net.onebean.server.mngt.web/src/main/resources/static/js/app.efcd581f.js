(function(e){function t(t){for(var r,n,i=t[0],l=t[1],u=t[2],c=0,d=[];c<i.length;c++)n=i[c],o[n]&&d.push(o[n][0]),o[n]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);p&&p(t);while(d.length)d.shift()();return s.push.apply(s,u||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],r=!0,i=1;i<a.length;i++){var l=a[i];0!==o[l]&&(r=!1)}r&&(s.splice(t--,1),e=n(n.s=a[0]))}return e}var r={},o={app:0},s=[];function n(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=r,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(a,r,function(t){return e[t]}.bind(null,r));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var u=0;u<i.length;u++)t(i[u]);var p=l;s.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"0229":function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);var r=a("a4bb"),o=a.n(r),s=(a("cadf"),a("551c"),a("097d"),a("2b0e")),n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"layout"},[a("Layout",[a("NavBar"),a("Content",{style:{margin:"20px 20px 0",background:"#fff",minHeight:"720px"}},[a("router-view")],1)],1)],1)},i=[],l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.isShowBar?a("Menu",{attrs:{mode:"horizontal",theme:"light","active-name":this.utils.routerUtil.initRouterNavBarActiveStatus(this.$route.path)}},[a("router-link",{attrs:{to:"/app-info-list",replace:""}},[a("MenuItem",{attrs:{name:"/app-info-list"}},[a("Icon",{attrs:{type:"ios-construct"}}),e._v("\n    应用管理\n    ")],1)],1),a("router-link",{attrs:{to:"/server-info-list",replace:""}},[a("MenuItem",{attrs:{name:"/server-info-list"}},[a("Icon",{attrs:{type:"md-analytics"}}),e._v(" 服务管理\n    ")],1)],1),a("router-link",{attrs:{to:"/server-machine-node-info-list",replace:""}},[a("MenuItem",{attrs:{name:"/server-machine-node-info-list"}},[a("Icon",{attrs:{type:"ios-aperture"}}),e._v("\n    服务器节点管理\n    ")],1)],1),a("router-link",{attrs:{to:"/upsteam-node-info-list",replace:""}},[a("MenuItem",{attrs:{name:"/upsteam-node-info-list"}},[a("Icon",{attrs:{type:"md-cloud-done"}}),e._v("\n    服务节点管理\n    ")],1)],1)],1):e._e()},u=[],p={computed:{isShowBar:function(){return"/err"!=this.$route.path}},data:function(){return{}}},c=p,d=a("2877"),m=Object(d["a"])(c,l,u,!1,null,null,null);m.options.__file="NavBar.vue";var h=m.exports,f={components:{NavBar:h},mounted:function(){this.utils.frameUtil.getCurrentLoginUserInfo(this.$store),this.utils.frameUtil.sendAutoParentFrameSizeMsg()}},v=f,g=(a("743c"),Object(d["a"])(v,n,i,!1,null,"ba4b2320",null));g.options.__file="Layout.vue";var b,I=g.exports,y=a("f825"),F=a.n(y),S=(a("f8ce"),a("8b5e"),a("f499")),A=a.n(S),N=a("795b"),P=a.n(N),$=a("bc3a"),_=a.n($),w={},D=_.a.CancelToken;_.a.interceptors.request.use(function(e){return w[e.url]?(w[e.url]("cancel"),w[e.url]=b):w[e.url]=b,e},function(e){return P.a.reject(e)}),_.a.interceptors.response.use(function(e){return e},function(e){if(e&&e.response)switch(e.response.status){case 400:e.message="错误请求";break;case 401:e.message="未授权，请重新登录";break;case 403:e.message="拒绝访问";break;case 404:e.message="请求错误,未找到该资源";break;case 405:e.message="请求方法未允许";break;case 408:e.message="请求超时";break;case 500:e.message="服务器端出错";break;case 501:e.message="网络未实现";break;case 502:e.message="网络错误";break;case 503:e.message="服务不可用";break;case 504:e.message="网络超时";break;case 505:e.message="http版本不支持该请求";break;default:e.message="连接错误".concat(e.response.status)}else"cancel"!=e.message&&(e.message="连接到服务器失败");return"cancel"!=e.message&&y["Message"].error(e.message),P.a.resolve(e.response)}),_.a.defaults.baseURL="",_.a.defaults.headers={"Content-Type":"application/json",Accept:"application/json"},_.a.defaults.timeout=1e4;var L={post:function(e,t,a,r,o){var s=e.state.uagCurrentLoginUserInfo,n={"Content-Type":"application/json",Accept:"application/json",uagHeaderUserInfo:encodeURI(A()(s))};_()({headers:n,method:"post",url:t,data:a,cancelToken:new D(function(e){b=e})}).then(function(e){"undefined"!=typeof e?"0"===e.data.errCode?r(e):("undefined"!=typeof e.data.errCode&&y["Message"].error("请求失败 错误码 ".concat(e.data.errCode," 错误信息: ").concat(e.data.errMsg)),"undefined"!=typeof o&&o(e)):console.log("response is undefined,may be the request is cancelled")})}},k=a("7618"),T={copyObj:function(e){var t,a={};for(t in e)a[t]=e[t];return a},uniqueArray:function(e){for(var t=[e[0]],a=1;a<e.length;a++){for(var r=e[a],o=!1,s=0;s<t.length;s++)if(r===t[s]){o=!0;break}o||t.push(r)}return t},removeEmptyValueInArray:function(e){for(var t=0;t<e.length;t++)""!=e[t]&&null!=e[t]&&void 0!=Object(k["a"])(e[t])||(e.splice(t,1),t-=1);return this.uniqueArray(e)}};Array.prototype.indexOf=function(e){for(var t=0;t<this.length;t++)if(this[t]==e)return t;return-1},Array.prototype.remove=function(e){var t=this.indexOf(e);t>-1&&this.splice(t,1)},T.subStringAfterTarget=function(e,t){return t.substr(t.lastIndexOf(e)+e.length,t.length)},T.subStringCutEnd=function(e,t){return t.substr(0,t.length-e)};var B=T,x=(a("28a5"),a("ac6a"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Row",[a("i-col",{staticClass:"bread-crumb",attrs:{span:"24"}},[a("Breadcrumb",e._l(e.breadcrumbList,function(t,r){return a("BreadcrumbItem",{key:r,attrs:{to:t.path}},[a("Icon",{attrs:{type:t.icon}}),e._v(" "+e._s(t.name)+"\n        ")],1)}),1)],1)],1),a("Divider"),a("router-view"),a("Form",{ref:"queryParamFrom",staticClass:"query-pram-from",attrs:{model:e.paramData.data}},[a("Row",[a("i-col",{staticClass:"page-col",attrs:{span:"4",offset:"1"}},[a("FormItem",{attrs:{prop:"serverName"}},[a("i-input",{attrs:{type:"text",placeholder:"服务名称"},model:{value:e.paramData.data.serverName,callback:function(t){e.$set(e.paramData.data,"serverName",t)},expression:"paramData.data.serverName"}})],1)],1),a("i-col",{staticClass:"page-col",attrs:{span:"2",offset:"1"}},[a("FormItem",{attrs:{prop:"upsteamNodeName"}},[a("i-input",{attrs:{type:"text",placeholder:"服务节点名称"},model:{value:e.paramData.data.upsteamNodeName,callback:function(t){e.$set(e.paramData.data,"upsteamNodeName",t)},expression:"paramData.data.upsteamNodeName"}})],1)],1),a("i-col",{staticClass:"page-col",attrs:{span:"2",offset:"1"}},[a("FormItem",{attrs:{prop:"selectedVersion"}},[a("i-input",{attrs:{type:"text",placeholder:"暴露的版本"},model:{value:e.paramData.data.selectedVersion,callback:function(t){e.$set(e.paramData.data,"selectedVersion",t)},expression:"paramData.data.selectedVersion"}})],1)],1),a("i-col",{staticClass:"page-col",attrs:{span:"2",offset:"1"}},[a("FormItem",{attrs:{prop:"deployType"}},[a("Select",{staticStyle:{width:"200px"},attrs:{placeholder:"部署方式",clearable:""},on:{"on-change":e.getdata},model:{value:e.paramData.data.deployType,callback:function(t){e.$set(e.paramData.data,"deployType",t)},expression:"paramData.data.deployType"}},e._l(e.deployTypeEunmArr,function(t){return a("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.label))])}),1)],1)],1),a("i-col",{staticClass:"button-group",attrs:{span:"3",offset:"19"}},[a("Button",{attrs:{type:"info"},on:{click:function(t){e.pushAdd()}}},[e._v("新增")]),a("Button",{attrs:{type:"success"},on:{click:function(t){e.getdata()}}},[e._v("查询")]),a("Button",{attrs:{type:"warning"},on:{click:function(t){e.handleReset()}}},[e._v("重置")])],1)],1)],1),a("br"),a("Table",{staticClass:"list-button-group",attrs:{border:"",columns:e.columns,data:e.tableData},scopedSlots:e._u([{key:"action",fn:function(t){var r=t.row,o=t.index;return[a("Button",{staticStyle:{"margin-right":"5px"},attrs:{type:"warning",size:"small"},on:{click:function(t){e.pushApiList(r.id)}}},[e._v("接口管理")]),a("Button",{staticStyle:{"margin-right":"5px"},attrs:{type:"primary",size:"small"},on:{click:function(t){e.pushEditor(r.id)}}},[e._v("编辑服务")]),a("Button",{attrs:{type:"error",size:"small",disabled:e.globalButtonLoding},on:{click:function(t){e.deleteData(r.id,o)}}},[e._v("删除服务")])]}}])}),a("Row",[a("i-col",{staticClass:"page-col",attrs:{span:"6",offset:"17"}},[a("Page",{staticClass:"pagination",attrs:{total:e.paramData.data.totalCount,current:e.paramData.data.currentPage,"page-size":e.paramData.data.pageSize,"show-sizer":""},on:{"on-change":e.handlePage,"on-page-size-change":e.handlePageSize}})],1)],1),e.globalScreenLoding?a("Spin",{attrs:{size:"large",fix:""}}):e._e()],1)}),M=[],O={data:function(){return{routerPath:this.$route.path,deployTypeEunmArr:[{value:"0",label:"物理部署"},{value:"1",label:"kubernetes部署"}],paramData:{data:{serverName:"",selectedVersion:"",upsteamNodeName:"",deployType:""},page:{currentPage:1,pageSize:10},sort:{orderBy:"id",sort:"desc"}},columns:[{title:"服务名称",key:"serverName"},{title:"服务节点",key:"upsteamNodeName"},{title:"部署方式",key:"deployType"},{title:"暴露的版本",key:"selectedVersion"},{title:"是否需要域名",key:"isFront"},{title:"域名",key:"serverHost"},{title:"创建时间",key:"createTime"},{title:"修改时间",key:"updateTime"},{title:"操作人",key:"operatorName"},{title:"操作",slot:"action",width:300,align:"center"}],tableData:[]}},computed:{breadcrumbList:function(){return this.utils.routerUtil.initRouterTreeNameArr(this.routerPath)},globalScreenLoding:function(){return this.$store.state.globalScreenLoding},globalButtonLoding:function(){return this.$store.state.globalButtonLoding}},mounted:function(){this.getdata()},methods:{handlePage:function(e){this.paramData.page.currentPage=e,this.getdata()},handlePageSize:function(e){this.paramData.page.pageSize=e,this.getdata()},rowClassName:function(e,t){return this.utils.styleUtil.initTableListRowClass(t)},getdata:function(){var e=this;this.utils.netUtil.post(this.$store,this.API_PTAH.serverInfoFind,this.paramData,function(t){e.tableData=t.data.datas,e.paramData.data.totalCount=t.data.page.totalCount,e.paramData.data.pageSize=t.data.page.pageSize,e.paramData.data.currentPage=t.data.page.currentPage})},deleteData:function(e,t){var a=this;this.$store.commit("statusGlobalButtonLoding"),this.$Modal.confirm({title:"警告",content:"确认删除该条数据吗",onOk:function(){a.utils.netUtil.post(a.$store,a.API_PTAH.serverInfoDelete,{id:e},function(e){e.data,a.tableData.splice(t,1),a.$store.commit("statusGlobalButtonLoding"),a.$Message.success("删除成功!")},function(){a.$store.commit("statusGlobalButtonLoding")})},onCancel:function(){a.$store.commit("statusGlobalButtonLoding")}})},syncOpenrestyNodeInfo:function(){var e=this;this.$store.commit("statusGlobalScreenLoding"),this.utils.netUtil.post(this.$store,this.API_PTAH.syncServerMachineNodeInfo,{},function(){e.$store.commit("statusGlobalScreenLoding"),e.$Message.success("同步数据成功!")},function(){e.$store.commit("statusGlobalScreenLoding")})},handleReset:function(){this.$refs.queryParamFrom.resetFields(),this.getdata()},pushAdd:function(){this.$router.push("".concat(this.$route.path,"/server-info-add"))},pushEditor:function(e){this.$router.push({path:"".concat(this.$route.path,"/server-info-editor/").concat(e)})},pushApiList:function(e){this.$router.push({path:"".concat(this.$route.path,"/api-info-list/").concat(e)})}}},C=O,U=Object(d["a"])(C,x,M,!1,null,null,null);U.options.__file="ServerInfoList.vue";var R=U.exports,E=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Row",[a("i-col",{staticClass:"bread-crumb",attrs:{span:"24"}},[a("Breadcrumb",e._l(e.breadcrumbList,function(t,r){return a("BreadcrumbItem",{key:r,attrs:{to:t.path}},[a("Icon",{attrs:{type:t.icon}}),e._v(" "+e._s(t.name)+"\n        ")],1)}),1)],1)],1),a("Divider"),a("Row",[a("i-col",{attrs:{span:"12",offset:"6"}},[a("Form",{ref:"serverInfoFrom",attrs:{model:e.serverInfoFrom,rules:e.serverInfoFromValidate,"label-width":120}},[a("FormItem",{attrs:{label:"服务名称",prop:"serverName"}},[a("i-input",{attrs:{placeholder:"请输入服务名称"},model:{value:e.serverInfoFrom.serverName,callback:function(t){e.$set(e.serverInfoFrom,"serverName",t)},expression:"serverInfoFrom.serverName"}})],1),a("FormItem",{attrs:{label:"服务节点",prop:"upsteamNodeName"}},[a("Select",{attrs:{filterable:"",clearable:"",remote:"","label-in-value":!0,"remote-method":e.queryUpSteamInfo,placeholder:"请搜索以选择服务节点",loading:e.isLoadingUpSteamNodeInfo},on:{"on-change":e.upSteamNameChanged},model:{value:e.serverInfoFrom.upsteamNodeName,callback:function(t){e.$set(e.serverInfoFrom,"upsteamNodeName",t)},expression:"serverInfoFrom.upsteamNodeName"}},e._l(e.upSteamNodeInfo,function(t,r){return a("Option",{key:r,attrs:{value:t.upsteamName}},[e._v(e._s(t.upsteamName)+" - "+e._s("0"==t.deployType?"物理部署":"kubernetes部署"))])}),1),e.isPhysicalDeployment?a("upSteamName"):e._e()],1),e.isPhysicalDeployment?e._e():a("FormItem",{attrs:{label:"暴露的版本",prop:"selectedVersion"}},[a("Select",{attrs:{placeholder:"选择暴露的版本"},on:{"on-change":function(t){e.updateSelectedVersion()}},model:{value:e.serverInfoFrom.selectedVersion,callback:function(t){e.$set(e.serverInfoFrom,"selectedVersion",t)},expression:"serverInfoFrom.selectedVersion"}},e._l(e.selectedVersionEunmArr,function(t){return a("Option",{key:t.version,attrs:{value:t.version,disabled:t.disabled}},[e._v(e._s(t.version))])}),1)],1),a("FormItem",{attrs:{label:"是否需要域名",prop:"isFront"}},[a("i-switch",{attrs:{"true-value":e.yesOrNoEunm.yes,"false-value":e.yesOrNoEunm.no},on:{"on-change":function(t){e.cleanNeedHost()}},model:{value:e.serverInfoFrom.isFront,callback:function(t){e.$set(e.serverInfoFrom,"isFront",t)},expression:"serverInfoFrom.isFront"}})],1),e.showOnNeedHost()?a("FormItem",{attrs:{label:"监听端口号",prop:"listenPort"}},[a("i-input",{attrs:{placeholder:"请输入监听端口号"},model:{value:e.serverInfoFrom.listenPort,callback:function(t){e.$set(e.serverInfoFrom,"listenPort",t)},expression:"serverInfoFrom.listenPort"}})],1):e._e(),e.showOnNeedHost()?a("FormItem",{attrs:{label:"域名",prop:"serverHost"}},[a("i-input",{attrs:{placeholder:"请输域名"},model:{value:e.serverInfoFrom.serverHost,callback:function(t){e.$set(e.serverInfoFrom,"serverHost",t)},expression:"serverInfoFrom.serverHost"}})],1):e._e(),e.showOnNeedHost()?a("FormItem",{attrs:{label:"是否开启ssl",prop:"isSsl"}},[a("i-switch",{attrs:{"true-value":e.yesOrNoEunm.yes,"false-value":e.yesOrNoEunm.no},on:{"on-change":function(t){e.cleanSslOn()}},model:{value:e.serverInfoFrom.isSsl,callback:function(t){e.$set(e.serverInfoFrom,"isSsl",t)},expression:"serverInfoFrom.isSsl"}})],1):e._e(),e.showOnSslOn()?a("FormItem",{attrs:{label:"ssl监听端口号",prop:"sslListenPort"}},[a("i-input",{attrs:{placeholder:"请输入ssl监听端口号"},model:{value:e.serverInfoFrom.sslListenPort,callback:function(t){e.$set(e.serverInfoFrom,"sslListenPort",t)},expression:"serverInfoFrom.sslListenPort"}})],1):e._e(),e.showOnSslOn()?a("FormItem",{attrs:{label:"证书key路径",prop:"sslCrtKeyPath"}},[a("i-input",{attrs:{placeholder:"请输入证书key路径"},model:{value:e.serverInfoFrom.sslCrtKeyPath,callback:function(t){e.$set(e.serverInfoFrom,"sslCrtKeyPath",t)},expression:"serverInfoFrom.sslCrtKeyPath"}})],1):e._e(),e.showOnSslOn()?a("FormItem",{attrs:{label:"证书路径",prop:"sslCrtPath"}},[a("i-input",{attrs:{placeholder:"请输入证书路径"},model:{value:e.serverInfoFrom.sslCrtPath,callback:function(t){e.$set(e.serverInfoFrom,"sslCrtPath",t)},expression:"serverInfoFrom.sslCrtPath"}})],1):e._e(),a("FormItem",[a("Button",{attrs:{type:"primary",disabled:e.globalButtonLoding},on:{click:function(t){e.handleSubmit("serverInfoFrom")}}},[e._v("提交")]),a("Button",{staticStyle:{"margin-left":"8px"},on:{click:function(t){e.handleReset("serverInfoFrom")}}},[e._v("重置")])],1)],1)],1)],1),e.globalScreenLoding?a("Spin",{attrs:{size:"large",fix:""}}):e._e()],1)},q=[],z=(a("7f7f"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a",{attrs:{type:"primary"},on:{click:function(t){e.showDataList()}}},[e._v("管理服务节点名称")]),a("Drawer",{attrs:{title:"服务节点",width:"512",closable:!1},model:{value:e.showDataListState,callback:function(t){e.showDataListState=t},expression:"showDataListState"}},[a("Button",{attrs:{type:"info"},on:{click:function(t){e.showAddFrom=!0}}},[e._v("新增")]),a("Divider"),a("Table",{attrs:{columns:e.columns,data:e.listData},scopedSlots:e._u([{key:"action",fn:function(t){var r=t.row,o=t.index;return e.showOnPhysicalDeployment(r.deployType)?[a("a",{on:{click:function(t){e.deleteData(r.id,o)}}},[e._v("删除")])]:void 0}}])})],1),a("Drawer",{attrs:{title:"新增服务节点",closable:!1},on:{"on-close":e.onCloseAddView},model:{value:e.showAddFrom,callback:function(t){e.showAddFrom=t},expression:"showAddFrom"}},[a("Form",{ref:"addDataParam",attrs:{"label-width":80,rules:e.validateRule,model:e.addDataParam}},[a("FormItem",{attrs:{label:"节点名称",prop:"upsteamName"}},[a("i-input",{attrs:{placeholder:"请输入应用名称"},model:{value:e.addDataParam.upsteamName,callback:function(t){e.$set(e.addDataParam,"upsteamName",t)},expression:"addDataParam.upsteamName"}})],1),a("br"),a("br"),a("br"),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:function(t){e.handleSubmit("addDataParam")}}},[e._v("提交")])],1)],1)],1)],1)}),V=[],H={data:function(){return{paramData:{data:{upsteamName:""},page:{currentPage:1,pageSize:10},sort:{orderBy:"id",sort:"desc"}},addDataParam:{upsteamName:"",deployType:"0"},validateRule:{upsteamName:[{required:!0,max:30,pattern:/^[A-Za-z]+[A-Za-z-]*[A-Za-z]+$/,message:"服务节点名称不能为空,最多30个字符,必须以英文开头和结尾只能包含中横线 [ - ]",trigger:"blur"}]},showDataListState:!1,showAddFrom:!1,columns:[{title:"节点名称",key:"upsteamName"},{title:"操作",slot:"action",width:250,align:"center"}],listData:[]}},mounted:function(){},methods:{showOnPhysicalDeployment:function(e){return"0"===e},handleSubmit:function(e){var t=this;this.$refs[e].validate(function(e){e?t.commitData():t.$Message.error("请完善表单信息!")})},showDataList:function(){this.showDataListState=!0,0==this.listData.length&&this.getDataList()},getDataList:function(){var e=this;this.utils.netUtil.post(this.$store,this.API_PTAH.upSteamNameFind,this.paramData,function(t){e.listData=t.data.datas})},deleteData:function(e,t){var a=this;this.$Modal.confirm({title:"警告",content:"确认删除该条数据吗",onOk:function(){a.utils.netUtil.post(a.$store,a.API_PTAH.upSteamNameDelete,{id:e},function(){a.listData.splice(t,1),a.$Message.success("删除成功!")})}})},commitData:function(){var e=this;this.utils.netUtil.post(this.$store,this.API_PTAH.upSteamNameAdd,this.addDataParam,function(){e.addDataParam.upsteamName="",e.showAddFrom=!1,e.$Message.success("提交成功!"),e.getDataList()})},onCloseAddView:function(){this.addDataParam.upsteamName=""}}},G=H,j=Object(d["a"])(G,z,V,!1,null,null,null);j.options.__file="upSteamName.vue";var K=j.exports,Z={data:function(){return{isLoadingUpSteamNodeInfo:!1,isPhysicalDeployment:!0,selectedVersionEunmArr:[],upSteamNodeInfo:[],routerPath:this.$route.path,serverInfoFrom:{serverName:"",deployType:"0",isSsl:"0",isFront:"0"},yesOrNoEunm:{no:"0",yes:"1"},serverInfoFromValidate:{listenPort:[{required:!0,pattern:/^[0-9]{2,6}$/,message:"监听端口号输入不正确",trigger:"change"}],sslListenPort:[{required:!0,pattern:/^[0-9]{2,6}$/,message:"ssl监听端口号输入不正确",trigger:"change"}],serverHost:[{required:!0,pattern:/^(?=^.{3,255}$)[a-zA-Z0-9][-a-zA-Z0-9]{0,62}(\.[a-zA-Z0-9][-a-zA-Z0-9]{0,62})+$/,message:"域名由英文字母,数字开头可以包含符号[-]",trigger:"blur"}],sslCrtKeyPath:[{required:!0,pattern:/^\/\S*[A-Za-z0-9]+$/,message:"证书key路径不能为空,并且只能以`/`开头 英文或数字结尾",trigger:"blur"}],sslCrtPath:[{required:!0,pattern:/^\/\S*[A-Za-z0-9]+$/,message:"证书路径不能为空,并且只能以`/`开头 英文或数字结尾",trigger:"blur"}],isSsl:[{required:!0,message:"是否开启ssl不能为空",trigger:"change"}],isFront:[{required:!0,message:"是否需要域名不能为空",trigger:"change"}],selectedVersion:[{required:!0,message:"暴露的版本不能为空",trigger:"change"}],serverName:[{required:!0,message:"服务名称不能为空",trigger:"blur"}],upsteamNodeName:[{required:!0,message:"服务节点不能为空",trigger:"blur"}]}}},components:{upSteamName:K},computed:{breadcrumbList:function(){return this.utils.routerUtil.initRouterTreeNameArr(this.routerPath)},globalScreenLoding:function(){return this.$store.state.globalScreenLoding},globalButtonLoding:function(){return this.$store.state.globalButtonLoding}},methods:{queryUpSteamInfo:function(e){var t=this;""!==e?(this.isLoadingUpSteamNodeInfo=!0,this.utils.netUtil.post(this.$store,this.API_PTAH.upSteamNameFind,{data:{nodeName:e,physicalPath:""},page:{currentPage:1,pageSize:1e4},sort:{orderBy:"id",sort:"desc"}},function(e){t.isLoadingUpSteamNodeInfo=!1,t.upSteamNodeInfo=e.data.datas})):this.upSteamNodeInfo=[]},handleSubmit:function(e){var t=this;this.$refs[e].validate(function(e){e?t.commitData():t.$Message.error("请完善表单信息!")})},handleReset:function(e){this.clearVersionList(),this.$refs[e].resetFields()},commitData:function(){var e=this;this.$store.commit("statusGlobalButtonLoding"),this.isPhysicalDeployment&&this.clearVersionList(),this.utils.netUtil.post(this.$store,this.API_PTAH.serverInfoAdd,this.serverInfoFrom,function(){e.$store.commit("statusGlobalButtonLoding"),e.$store.commit("statusGlobalScreenLoding"),e.syncOpenrestyNodeInfo()},function(){e.$store.commit("statusGlobalButtonLoding"),e.$store.commit("statusGlobalScreenLoding")})},upSteamNameChanged:function(e){if("undefined"!=typeof e){var t=e.label;t=this.utils.objectUtil.subStringAfterTarget("- ",t),this.isPhysicalDeployment="物理部署"===t,this.serverInfoFrom.deployType=this.isPhysicalDeployment?"0":"1",this.isPhysicalDeployment||this.findVersionListByNodeName()}},findVersionListByNodeName:function(){var e=this;this.utils.netUtil.post(this.$store,this.API_PTAH.findVersionListByNodeName,this.serverInfoFrom,function(t){e.selectedVersionEunmArr=t.data.datas})},updateSelectedVersion:function(){var e=this;this.loading=!this.loading,this.utils.netUtil.post(this.$store,this.API_PTAH.updateSelectedVersion,this.serverInfoFrom,function(t){t.data.datas&&(e.loading=!e.loading,e.$Message.success("版本信息切换成功！"))},function(){e.loading=!e.loading})},syncOpenrestyNodeInfo:function(){var e=this;this.utils.netUtil.post(this.$store,this.API_PTAH.syncServerMachineNodeInfo,{},function(){e.$store.commit("statusGlobalScreenLoding"),e.$Message.success("同步数据成功,版本信息已即时生效！"),e.$router.push("/server-info-list")},function(){e.$store.commit("statusGlobalScreenLoding")})},clearVersionList:function(){this.serverInfoFrom.selectedVersion="",this.selectedVersionEunmArr=[]},showOnNeedHost:function(){return"1"===this.serverInfoFrom.isFront},showOnSslOn:function(){return"1"===this.serverInfoFrom.isSsl},cleanNeedHost:function(){this.serverInfoFrom.serverHost="",this.serverInfoFrom.listenPort="",this.serverInfoFrom.isSsl="0",this.cleanSslOn()},cleanSslOn:function(){this.serverInfoFrom.sslListenPort="",this.serverInfoFrom.sslCrtKeyPath="",this.serverInfoFrom.sslCrtPath=""}}},W=Z,J=Object(d["a"])(W,E,q,!1,null,null,null);J.options.__file="ServerInfoAdd.vue";var Q=J.exports,X=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Row",[a("i-col",{staticClass:"bread-crumb",attrs:{span:"24"}},[a("Breadcrumb",e._l(e.breadcrumbList,function(t,r){return a("BreadcrumbItem",{key:r,attrs:{to:t.path}},[a("Icon",{attrs:{type:t.icon}}),e._v(" "+e._s(t.name)+"\n        ")],1)}),1)],1)],1),a("Divider"),a("Row",[a("i-col",{attrs:{span:"12",offset:"6"}},[a("Form",{ref:"serverInfoFrom",attrs:{model:e.serverInfoFrom,rules:e.serverInfoFromValidate,"label-width":120}},[a("FormItem",{attrs:{label:"服务名称",prop:"serverName"}},[a("i-input",{attrs:{placeholder:"请输入服务名称"},model:{value:e.serverInfoFrom.serverName,callback:function(t){e.$set(e.serverInfoFrom,"serverName",t)},expression:"serverInfoFrom.serverName"}})],1),a("FormItem",{attrs:{label:"服务节点",prop:"upsteamNodeName"}},[a("Select",{attrs:{filterable:"",clearable:"",remote:"","label-in-value":!0,"remote-method":e.queryUpSteamInfo,placeholder:"请搜索以选择服务节点",loading:e.isLoadingUpSteamNodeInfo},on:{"on-change":e.upSteamNameChanged},model:{value:e.serverInfoFrom.upsteamNodeName,callback:function(t){e.$set(e.serverInfoFrom,"upsteamNodeName",t)},expression:"serverInfoFrom.upsteamNodeName"}},e._l(e.upSteamNodeInfo,function(t,r){return a("Option",{key:r,attrs:{value:t.upsteamName}},[e._v(e._s(t.upsteamName)+" - "+e._s("0"==t.deployType?"物理部署":"kubernetes部署"))])}),1),e.isPhysicalDeployment?a("upSteamName"):e._e()],1),e.isPhysicalDeployment?e._e():a("FormItem",{attrs:{label:"暴露的版本",prop:"selectedVersion"}},[a("Select",{attrs:{placeholder:"选择暴露的版本"},on:{"on-change":function(t){e.updateSelectedVersion()}},model:{value:e.serverInfoFrom.selectedVersion,callback:function(t){e.$set(e.serverInfoFrom,"selectedVersion",t)},expression:"serverInfoFrom.selectedVersion"}},e._l(e.selectedVersionEunmArr,function(t){return a("Option",{key:t.version,attrs:{value:t.version,disabled:t.disabled}},[e._v(e._s(t.version))])}),1)],1),a("FormItem",{attrs:{label:"是否需要域名",prop:"isFront"}},[a("i-switch",{attrs:{"true-value":e.yesOrNoEunm.yes,"false-value":e.yesOrNoEunm.no},on:{"on-change":function(t){e.cleanNeedHost()}},model:{value:e.serverInfoFrom.isFront,callback:function(t){e.$set(e.serverInfoFrom,"isFront",t)},expression:"serverInfoFrom.isFront"}})],1),e.showOnNeedHost()?a("FormItem",{attrs:{label:"监听端口号",prop:"listenPort"}},[a("i-input",{attrs:{placeholder:"请输入监听端口号"},model:{value:e.serverInfoFrom.listenPort,callback:function(t){e.$set(e.serverInfoFrom,"listenPort",t)},expression:"serverInfoFrom.listenPort"}})],1):e._e(),e.showOnNeedHost()?a("FormItem",{attrs:{label:"域名",prop:"serverHost"}},[a("i-input",{attrs:{placeholder:"请输域名"},model:{value:e.serverInfoFrom.serverHost,callback:function(t){e.$set(e.serverInfoFrom,"serverHost",t)},expression:"serverInfoFrom.serverHost"}})],1):e._e(),e.showOnNeedHost()?a("FormItem",{attrs:{label:"是否开启ssl",prop:"isSsl"}},[a("i-switch",{attrs:{"true-value":e.yesOrNoEunm.yes,"false-value":e.yesOrNoEunm.no},on:{"on-change":function(t){e.cleanSslOn()}},model:{value:e.serverInfoFrom.isSsl,callback:function(t){e.$set(e.serverInfoFrom,"isSsl",t)},expression:"serverInfoFrom.isSsl"}})],1):e._e(),e.showOnSslOn()?a("FormItem",{attrs:{label:"ssl监听端口号",prop:"sslListenPort"}},[a("i-input",{attrs:{placeholder:"请输入ssl监听端口号"},model:{value:e.serverInfoFrom.sslListenPort,callback:function(t){e.$set(e.serverInfoFrom,"sslListenPort",t)},expression:"serverInfoFrom.sslListenPort"}})],1):e._e(),e.showOnSslOn()?a("FormItem",{attrs:{label:"证书key路径",prop:"sslCrtKeyPath"}},[a("i-input",{attrs:{placeholder:"请输入证书key路径"},model:{value:e.serverInfoFrom.sslCrtKeyPath,callback:function(t){e.$set(e.serverInfoFrom,"sslCrtKeyPath",t)},expression:"serverInfoFrom.sslCrtKeyPath"}})],1):e._e(),e.showOnSslOn()?a("FormItem",{attrs:{label:"证书路径",prop:"sslCrtPath"}},[a("i-input",{attrs:{placeholder:"请输入证书路径"},model:{value:e.serverInfoFrom.sslCrtPath,callback:function(t){e.$set(e.serverInfoFrom,"sslCrtPath",t)},expression:"serverInfoFrom.sslCrtPath"}})],1):e._e(),a("FormItem",{attrs:{label:"创建时间",prop:"createTime"}},[a("i-input",{attrs:{disabled:"",placeholder:"请输入创建时间"},model:{value:e.serverInfoFrom.createTime,callback:function(t){e.$set(e.serverInfoFrom,"createTime",t)},expression:"serverInfoFrom.createTime"}})],1),a("FormItem",{attrs:{label:"\t修改时间",prop:"updateTime"}},[a("i-input",{attrs:{disabled:"",placeholder:"请输入修改时间"},model:{value:e.serverInfoFrom.updateTime,callback:function(t){e.$set(e.serverInfoFrom,"updateTime",t)},expression:"serverInfoFrom.updateTime"}})],1),a("FormItem",{attrs:{label:"\t操作人",prop:"operatorName"}},[a("i-input",{attrs:{disabled:"",placeholder:"请输入操作人"},model:{value:e.serverInfoFrom.operatorName,callback:function(t){e.$set(e.serverInfoFrom,"operatorName",t)},expression:"serverInfoFrom.operatorName"}})],1),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:function(t){e.handleSubmit("serverInfoFrom")}}},[e._v("提交")])],1)],1)],1)],1),e.globalScreenLoding?a("Spin",{attrs:{size:"large",fix:""}}):e._e()],1)},Y=[],ee={props:{query:{userId:0}},data:function(){return{isLoadingUpSteamNodeInfo:!1,isPhysicalDeployment:!0,selectedVersionEunmArr:[],upSteamNodeInfo:[],routerPath:this.$route.path,serverInfoFrom:{id:this.$route.params.id,serverName:"",deployType:"",upsteamNodeName:"",createTime:"",updateTime:"",operatorName:""},yesOrNoEunm:{no:"0",yes:"1"},serverInfoFromValidate:{listenPort:[{required:!0,pattern:/^[0-9]{2,6}$/,message:"监听端口号输入不正确",trigger:"change"}],sslListenPort:[{required:!0,pattern:/^[0-9]{2,6}$/,message:"ssl监听端口号输入不正确",trigger:"change"}],serverHost:[{required:!0,pattern:/^(?=^.{3,255}$)[a-zA-Z0-9][-a-zA-Z0-9]{0,62}(\.[a-zA-Z0-9][-a-zA-Z0-9]{0,62})+$/,message:"域名由英文字母,数字开头可以包含符号[-]",trigger:"blur"}],sslCrtKeyPath:[{required:!0,pattern:/^\/\S*[A-Za-z0-9]+$/,message:"证书key路径不能为空,并且只能以`/`开头 英文或数字结尾",trigger:"blur"}],sslCrtPath:[{required:!0,pattern:/^\/\S*[A-Za-z0-9]+$/,message:"证书路径不能为空,并且只能以`/`开头 英文或数字结尾",trigger:"blur"}],isSsl:[{required:!0,message:"是否开启ssl不能为空",trigger:"change"}],isFront:[{required:!0,message:"是否需要域名不能为空",trigger:"change"}],selectedVersion:[{required:!0,message:"暴露的版本不能为空",trigger:"change"}],serverName:[{required:!0,message:"服务名称不能为空",trigger:"blur"}],upsteamNodeName:[{required:!0,message:"服务节点不能为空",trigger:"blur"}]}}},components:{upSteamName:K},mounted:function(){this.loadData()},computed:{breadcrumbList:function(){return this.utils.routerUtil.initRouterTreeNameArr(this.routerPath)},globalScreenLoding:function(){return this.$store.state.globalScreenLoding},globalButtonLoding:function(){return this.$store.state.globalButtonLoding}},methods:{queryUpSteamInfo:function(e){var t=this;""!==e?(this.isLoadingUpSteamNodeInfo=!0,this.utils.netUtil.post(this.$store,this.API_PTAH.upSteamNameFind,{data:{nodeName:e,physicalPath:""},page:{currentPage:1,pageSize:1e4},sort:{orderBy:"id",sort:"desc"}},function(e){t.isLoadingUpSteamNodeInfo=!1,t.upSteamNodeInfo=e.data.datas})):this.upSteamNodeInfo=[]},handleSubmit:function(e){var t=this;this.$refs[e].validate(function(e){e?t.commitData():t.$Message.error("请完善表单信息!")})},loadData:function(){var e=this;this.utils.netUtil.post(this.$store,this.API_PTAH.serverInfoFindById,this.serverInfoFrom,function(t){e.serverInfoFrom=t.data.datas,e.isPhysicalDeployment="0"===e.serverInfoFrom.deployType,e.findVersionListByNodeName()})},commitData:function(){var e=this;this.$store.commit("statusGlobalButtonLoding"),this.isPhysicalDeployment&&this.clearVersionList(),this.serverInfoFrom.id=this.$route.params.id,this.utils.netUtil.post(this.$store,this.API_PTAH.serverInfoUpdate,this.serverInfoFrom,function(){e.$store.commit("statusGlobalScreenLoding"),e.$store.commit("statusGlobalButtonLoding"),e.syncOpenrestyNodeInfo()},function(){e.$store.commit("statusGlobalButtonLoding")})},upSteamNameChanged:function(e){if("undefined"!=typeof e){var t=e.label;t=this.utils.objectUtil.subStringAfterTarget("- ",t),this.isPhysicalDeployment="物理部署"===t,this.serverInfoFrom.deployType=this.isPhysicalDeployment?"0":"1",this.isPhysicalDeployment||this.findVersionListByNodeName()}},findVersionListByNodeName:function(){var e=this;this.utils.netUtil.post(this.$store,this.API_PTAH.findVersionListByNodeName,this.serverInfoFrom,function(t){e.selectedVersionEunmArr=t.data.datas})},updateSelectedVersion:function(){var e=this;this.$store.commit("statusGlobalScreenLoding"),this.loading=!this.loading,this.utils.netUtil.post(this.$store,this.API_PTAH.updateSelectedVersion,this.serverInfoFrom,function(t){t.data.datas&&(e.$store.commit("statusGlobalScreenLoding"),e.$Message.success("版本信息切换成功！"))},function(){e.$store.commit("statusGlobalScreenLoding")})},clearVersionList:function(){this.serverInfoFrom.selectedVersion="",this.selectedVersionEunmArr=[]},showOnNeedHost:function(){return"1"===this.serverInfoFrom.isFront},showOnSslOn:function(){return"1"===this.serverInfoFrom.isSsl},cleanNeedHost:function(){this.serverInfoFrom.serverHost="",this.serverInfoFrom.listenPort="",this.serverInfoFrom.isSsl="0",this.cleanSslOn()},syncOpenrestyNodeInfo:function(){var e=this;this.utils.netUtil.post(this.$store,this.API_PTAH.syncServerMachineNodeInfo,{},function(){e.$store.commit("statusGlobalScreenLoding"),e.$Message.success("同步数据成功,版本信息已即时生效！"),e.$router.push("/server-info-list")},function(){e.$store.commit("statusGlobalScreenLoding")})},cleanSslOn:function(){this.serverInfoFrom.sslListenPort="",this.serverInfoFrom.sslCrtKeyPath="",this.serverInfoFrom.sslCrtPath=""}}},te=ee,ae=Object(d["a"])(te,X,Y,!1,null,null,null);ae.options.__file="ServerInfoEditor.vue";var re=ae.exports,oe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Row",[a("i-col",{staticClass:"bread-crumb",attrs:{span:"24"}},[a("Breadcrumb",e._l(e.breadcrumbList,function(t,r){return a("BreadcrumbItem",{key:r,attrs:{to:t.path}},[a("Icon",{attrs:{type:t.icon}}),e._v(" "+e._s(t.name)+"\n        ")],1)}),1)],1)],1),a("Divider"),a("router-view"),a("Form",{ref:"queryParamFrom",staticClass:"query-pram-from",attrs:{model:e.paramData.data}},[a("Row",[a("i-col",{staticClass:"page-col",attrs:{span:"4",offset:"1"}},[a("FormItem",{attrs:{prop:"apiName"}},[a("i-input",{attrs:{type:"text",placeholder:"接口名称"},model:{value:e.paramData.data.apiName,callback:function(t){e.$set(e.paramData.data,"apiName",t)},expression:"paramData.data.apiName"}})],1)],1),a("i-col",{staticClass:"page-col",attrs:{span:"4",offset:"1"}},[a("FormItem",{attrs:{prop:"apiUri"}},[a("i-input",{attrs:{type:"text",placeholder:"接口地址"},model:{value:e.paramData.data.apiUri,callback:function(t){e.$set(e.paramData.data,"apiUri",t)},expression:"paramData.data.apiUri"}})],1)],1),a("i-col",{staticClass:"button-group",attrs:{span:"3",offset:"19"}},[a("Button",{attrs:{type:"info"},on:{click:function(t){e.pushAdd()}}},[e._v("新增")]),a("Button",{attrs:{type:"success"},on:{click:function(t){e.getdata()}}},[e._v("查询")]),a("Button",{attrs:{type:"warning"},on:{click:function(t){e.handleReset()}}},[e._v("重置")])],1)],1)],1),a("br"),a("Table",{staticClass:"list-button-group",attrs:{border:"",columns:e.columns,data:e.tableData},scopedSlots:e._u([{key:"action",fn:function(t){var r=t.row,o=t.index;return[a("Button",{staticStyle:{"margin-right":"5px"},attrs:{type:"primary",size:"small"},on:{click:function(t){e.pushEditor(r.id)}}},[e._v("编辑")]),a("Button",{attrs:{type:"error",size:"small"},on:{click:function(t){e.deleteData(r.id,o)}}},[e._v("删除")])]}}])}),a("Row",[a("i-col",{staticClass:"page-col",attrs:{span:"6",offset:"17"}},[a("Page",{staticClass:"pagination",attrs:{total:e.paramData.data.totalCount,current:e.paramData.data.currentPage,"page-size":e.paramData.data.pageSize,"show-sizer":""},on:{"on-change":e.handlePage,"on-page-size-change":e.handlePageSize}})],1)],1)],1)},se=[],ne={data:function(){return{routerPath:this.$route.path,apiStatusEunmArr:[{value:"0",label:"未启用"},{value:"1",label:"启用"}],paramData:{data:{serverId:this.$route.params.sid,serverName:"",deployType:""},page:{currentPage:1,pageSize:10},sort:{orderBy:"id",sort:"desc"}},columns:[{title:"接口名称",key:"apiName"},{title:"接口地址",key:"apiUri"},{title:"代理地址",key:"proxyPath"},{title:"接口状态",key:"apiStatus"},{title:"创建时间",key:"createTime"},{title:"修改时间",key:"updateTime"},{title:"操作人",key:"operatorName"},{title:"操作",slot:"action",width:225,align:"center"}],tableData:[]}},computed:{breadcrumbList:function(){return this.utils.routerUtil.initRouterTreeNameArr(this.routerPath)}},mounted:function(){this.getdata()},methods:{handlePage:function(e){this.paramData.page.currentPage=e,this.getdata()},handlePageSize:function(e){this.paramData.page.pageSize=e,this.getdata()},rowClassName:function(e,t){return this.utils.styleUtil.initTableListRowClass(t)},getdata:function(){var e=this;this.utils.netUtil.post(this.$store,this.API_PTAH.apiInfoFind,this.paramData,function(t){e.tableData=t.data.datas,e.paramData.data.totalCount=t.data.page.totalCount,e.paramData.data.pageSize=t.data.page.pageSize,e.paramData.data.currentPage=t.data.page.currentPage})},deleteData:function(e,t){var a=this;this.$Modal.confirm({title:"警告",content:"确认删除该条数据吗",onOk:function(){a.utils.netUtil.post(a.$store,a.API_PTAH.apiInfoDelete,{id:e},function(e){e.data,a.tableData.splice(t,1),a.$Message.success("删除成功!")})}})},handleReset:function(){this.$refs.queryParamFrom.resetFields(),this.getdata()},pushAdd:function(){this.$router.push("/server-info-list/api-info-list/api-info-add/".concat(this.$route.params.sid))},pushEditor:function(e){this.$router.push({path:"/server-info-list/api-info-list/api-info-editor/".concat(this.$route.params.sid,"/").concat(e)})},pushApiList:function(){this.$router.push("".concat(this.$route.path,"/api-info-list"))}}},ie=ne,le=Object(d["a"])(ie,oe,se,!1,null,null,null);le.options.__file="ApiInfoList.vue";var ue=le.exports,pe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Row",[a("i-col",{staticClass:"bread-crumb",attrs:{span:"24"}},[a("Breadcrumb",e._l(e.breadcrumbList,function(t,r){return a("BreadcrumbItem",{key:r,attrs:{to:t.path}},[a("Icon",{attrs:{type:t.icon}}),e._v(" "+e._s(t.name)+"\n        ")],1)}),1)],1)],1),a("Divider"),a("Row",[a("i-col",{attrs:{span:"12",offset:"6"}},[a("Form",{ref:"apiInfoFrom",attrs:{model:e.apiInfoFrom,rules:e.apiInfoFromValidate,"label-width":80}},[a("FormItem",{attrs:{label:"接口名称",prop:"apiName"}},[a("i-input",{attrs:{placeholder:"请输入接口名称"},model:{value:e.apiInfoFrom.apiName,callback:function(t){e.$set(e.apiInfoFrom,"apiName",t)},expression:"apiInfoFrom.apiName"}})],1),a("FormItem",{attrs:{label:"接口地址",prop:"apiUri"}},[a("i-input",{attrs:{placeholder:"请输入接口地址"},model:{value:e.apiInfoFrom.apiUri,callback:function(t){e.$set(e.apiInfoFrom,"apiUri",t)},expression:"apiInfoFrom.apiUri"}})],1),a("FormItem",{attrs:{label:"代理地址",prop:"proxyPath"}},[a("i-input",{attrs:{placeholder:"请输入代理地址"},model:{value:e.apiInfoFrom.proxyPath,callback:function(t){e.$set(e.apiInfoFrom,"proxyPath",t)},expression:"apiInfoFrom.proxyPath"}})],1),a("FormItem",{attrs:{label:"接口状态",prop:"apiStatus"}},[a("Select",{attrs:{placeholder:"选择接口状态"},model:{value:e.apiInfoFrom.apiStatus,callback:function(t){e.$set(e.apiInfoFrom,"apiStatus",t)},expression:"apiInfoFrom.apiStatus"}},e._l(e.apiStatusEunmArr,function(t){return a("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.label))])}),1)],1),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:function(t){e.handleSubmit("apiInfoFrom")}}},[e._v("提交")]),a("Button",{staticStyle:{"margin-left":"8px"},on:{click:function(t){e.handleReset("apiInfoFrom")}}},[e._v("重置")])],1)],1)],1)],1)],1)},ce=[],de={data:function(){return{routerPath:this.$route.path,apiStatusEunmArr:[{value:"0",label:"未启用"},{value:"1",label:"启用"}],apiInfoFrom:{serverId:this.$route.params.sid,apiName:"",apiUri:"",proxyPath:"",apiStatus:""},apiInfoFromValidate:{apiName:[{required:!0,message:"接口名称不能为空",trigger:"blur"}],apiUri:[{pattern:/^\/\S*[A-Za-z0-9]+$/,required:!0,message:"接口地址不能为空 并且只能以`/`开头 英文或数字结尾",trigger:"blur"}],proxyPath:[{pattern:/^\/\S*[A-Za-z0-9]+$/,required:!0,message:"代理地址不能为空 并且只能以`/`开头 英文或数字结尾",trigger:"blur"}],apiStatus:[{required:!0,message:"接口状态不能为空",trigger:"change"}]}}},computed:{breadcrumbList:function(){return this.utils.routerUtil.initRouterTreeNameArr(this.routerPath)}},methods:{handleSubmit:function(e){var t=this;this.$refs[e].validate(function(e){e?t.commitData():t.$Message.error("请完善表单信息!")})},handleReset:function(e){this.$refs[e].resetFields()},commitData:function(){var e=this;this.utils.netUtil.post(this.$store,this.API_PTAH.apiInfoAdd,this.apiInfoFrom,function(){e.$Message.success("提交成功!"),e.$router.push("/server-info-list/api-info-list/".concat(e.$route.params.sid))})}}},me=de,he=Object(d["a"])(me,pe,ce,!1,null,null,null);he.options.__file="ApiInfoAdd.vue";var fe=he.exports,ve=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Row",[a("i-col",{staticClass:"bread-crumb",attrs:{span:"24"}},[a("Breadcrumb",e._l(e.breadcrumbList,function(t,r){return a("BreadcrumbItem",{key:r,attrs:{to:t.path}},[a("Icon",{attrs:{type:t.icon}}),e._v(" "+e._s(t.name)+"\n        ")],1)}),1)],1)],1),a("Divider"),a("Row",[a("i-col",{attrs:{span:"12",offset:"6"}},[a("Form",{ref:"apiInfoFrom",attrs:{model:e.apiInfoFrom,rules:e.apiInfoFromValidate,"label-width":80}},[a("FormItem",{attrs:{label:"接口名称",prop:"apiName"}},[a("i-input",{attrs:{placeholder:"请输入接口名称"},model:{value:e.apiInfoFrom.apiName,callback:function(t){e.$set(e.apiInfoFrom,"apiName",t)},expression:"apiInfoFrom.apiName"}})],1),a("FormItem",{attrs:{label:"接口地址",prop:"apiUri"}},[a("i-input",{attrs:{placeholder:"请输入接口地址"},model:{value:e.apiInfoFrom.apiUri,callback:function(t){e.$set(e.apiInfoFrom,"apiUri",t)},expression:"apiInfoFrom.apiUri"}})],1),a("FormItem",{attrs:{label:"代理地址",prop:"proxyPath"}},[a("i-input",{attrs:{placeholder:"请输入代理地址"},model:{value:e.apiInfoFrom.proxyPath,callback:function(t){e.$set(e.apiInfoFrom,"proxyPath",t)},expression:"apiInfoFrom.proxyPath"}})],1),a("FormItem",{attrs:{label:"接口状态",prop:"apiStatus"}},[a("Select",{attrs:{placeholder:"选择接口状态"},model:{value:e.apiInfoFrom.apiStatus,callback:function(t){e.$set(e.apiInfoFrom,"apiStatus",t)},expression:"apiInfoFrom.apiStatus"}},e._l(e.apiStatusEunmArr,function(t){return a("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.label))])}),1)],1),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:function(t){e.handleSubmit("apiInfoFrom")}}},[e._v("提交")])],1)],1)],1)],1)],1)},ge=[],be={props:{query:{userId:0}},data:function(){return{routerPath:this.$route.path,apiStatusEunmArr:[{value:"0",label:"未启用"},{value:"1",label:"启用"}],apiInfoFrom:{id:this.$route.params.id,serverId:this.$route.params.sid,apiName:"",apiUri:"",proxyPath:"",apiStatus:""},apiInfoFromValidate:{apiName:[{required:!0,message:"接口名称不能为空",trigger:"blur"}],apiUri:[{pattern:/^\/\S*[A-Za-z0-9]+$/,required:!0,message:"接口地址不能为空 并且只能以`/`开头 英文或数字结尾",trigger:"blur"}],proxyPath:[{pattern:/^\/\S*[A-Za-z0-9]+$/,required:!0,message:"代理地址不能为空 并且只能以`/`开头 英文或数字结尾",trigger:"blur"}],apiStatus:[{required:!0,message:"接口状态不能为空",trigger:"change"}]}}},mounted:function(){this.loadData()},computed:{breadcrumbList:function(){return this.utils.routerUtil.initRouterTreeNameArr(this.routerPath)}},methods:{handleSubmit:function(e){var t=this;this.$refs[e].validate(function(e){e?t.commitData():t.$Message.error("请完善表单信息!")})},loadData:function(){var e=this;this.utils.netUtil.post(this.$store,this.API_PTAH.apiInfoFindById,this.apiInfoFrom,function(t){e.apiInfoFrom=t.data.datas})},commitData:function(){var e=this;this.apiInfoFrom.id=this.$route.params.id,this.utils.netUtil.post(this.$store,this.API_PTAH.apiInfoUpdate,this.apiInfoFrom,function(){e.$Message.success("提交成功!"),e.$router.push("/server-info-list/api-info-list/".concat(e.$route.params.sid))})}}},Ie=be,ye=Object(d["a"])(Ie,ve,ge,!1,null,null,null);ye.options.__file="ApiInfoEditor.vue";var Fe=ye.exports,Se=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Row",[a("i-col",{staticClass:"bread-crumb",attrs:{span:"24"}},[a("Breadcrumb",e._l(e.breadcrumbList,function(t,r){return a("BreadcrumbItem",{key:r,attrs:{to:t.path}},[a("Icon",{attrs:{type:t.icon}}),e._v(" "+e._s(t.name)+"\n        ")],1)}),1)],1)],1),a("Divider"),a("router-view"),a("Form",{ref:"queryParamFrom",staticClass:"query-pram-from",attrs:{model:e.paramData.data}},[a("Row",[a("i-col",{staticClass:"page-col",attrs:{span:"4",offset:"1"}},[a("FormItem",{attrs:{prop:"ipAddress"}},[a("i-input",{attrs:{type:"text",placeholder:"节点内网IP地址"},model:{value:e.paramData.data.ipAddress,callback:function(t){e.$set(e.paramData.data,"ipAddress",t)},expression:"paramData.data.ipAddress"}})],1)],1),a("i-col",{staticClass:"page-col",attrs:{span:"2",offset:"1"}},[a("FormItem",{attrs:{prop:"serverMachineType"}},[a("Select",{staticStyle:{width:"200px"},attrs:{placeholder:"服务节点类型",clearable:""},on:{"on-change":e.getdata},model:{value:e.paramData.data.serverMachineType,callback:function(t){e.$set(e.paramData.data,"serverMachineType",t)},expression:"paramData.data.serverMachineType"}},e._l(e.serverMachineTypeEunmArr,function(t){return a("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.label))])}),1)],1)],1),a("i-col",{staticClass:"button-group",attrs:{span:"3",offset:"18"}},[a("Button",{attrs:{type:"info"},on:{click:function(t){e.pushAdd()}}},[e._v("新增")]),a("Button",{attrs:{type:"success"},on:{click:function(t){e.getdata()}}},[e._v("查询")]),a("Button",{attrs:{type:"warning"},on:{click:function(t){e.handleReset()}}},[e._v("重置")])],1)],1)],1),a("br"),a("Table",{staticClass:"list-button-group",attrs:{border:"",columns:e.columns,data:e.tableData},scopedSlots:e._u([{key:"action",fn:function(t){var r=t.row,o=t.index;return[a("Button",{staticStyle:{"margin-right":"5px"},attrs:{type:"primary",size:"small"},on:{click:function(t){e.pushEditor(r.id)}}},[e._v("编辑")]),a("Button",{attrs:{type:"error",size:"small",disabled:e.globalButtonLoding},on:{click:function(t){e.deleteData(r.id,o)}}},[e._v("删除")])]}}])}),a("Row",[a("i-col",{staticClass:"page-col",attrs:{span:"6",offset:"17"}},[a("Page",{staticClass:"pagination",attrs:{total:e.paramData.data.totalCount,current:e.paramData.data.currentPage,"page-size":e.paramData.data.pageSize,"show-sizer":""},on:{"on-change":e.handlePage,"on-page-size-change":e.handlePageSize}})],1)],1),e.globalScreenLoding?a("Spin",{attrs:{size:"large",fix:""}}):e._e()],1)},Ae=[],Ne={data:function(){return{syncNginxLoading:!1,routerPath:this.$route.path,serverMachineTypeEunmArr:[{value:"0",label:"openresty"},{value:"1",label:"kubernetes-master"}],accessAuthTypeEunmArr:[{value:"0",label:"密码模式"},{value:"1",label:"公私钥模式"}],paramData:{data:{ipAddress:"",serverMachineType:""},page:{currentPage:1,pageSize:10},sort:{orderBy:"id",sort:"desc"}},columns:[{title:"节点内网IP地址",key:"ipAddress"},{title:"服务节点类型",key:"serverMachineType"},{title:"访问账户",key:"accessUser"},{title:"访问端口号",key:"accessPort"},{title:"访问授权方式",key:"accessAuthType"},{title:"创建时间",key:"createTime"},{title:"修改时间",key:"updateTime"},{title:"操作人",key:"operatorName"},{title:"操作",slot:"action",width:225,align:"center"}],tableData:[]}},computed:{breadcrumbList:function(){return this.utils.routerUtil.initRouterTreeNameArr(this.routerPath)},globalScreenLoding:function(){return this.$store.state.globalScreenLoding},globalButtonLoding:function(){return this.$store.state.globalButtonLoding}},mounted:function(){this.getdata()},methods:{handlePage:function(e){this.paramData.page.currentPage=e,this.getdata()},handlePageSize:function(e){this.paramData.page.pageSize=e,this.getdata()},rowClassName:function(e,t){return this.utils.styleUtil.initTableListRowClass(t)},getdata:function(){var e=this;this.utils.netUtil.post(this.$store,this.API_PTAH.serverMachineNodeInfoFind,this.paramData,function(t){e.tableData=t.data.datas,e.paramData.data.totalCount=t.data.page.totalCount,e.paramData.data.pageSize=t.data.page.pageSize,e.paramData.data.currentPage=t.data.page.currentPage})},deleteData:function(e,t){var a=this;this.$store.commit("statusGlobalButtonLoding"),this.$Modal.confirm({title:"警告",content:"确认删除该条数据吗",onOk:function(){a.utils.netUtil.post(a.$store,a.API_PTAH.serverMachineNodeInfoDelete,{id:e},function(e){e.data,a.tableData.splice(t,1),a.$store.commit("statusGlobalButtonLoding"),a.$Message.success("删除成功!")},function(){a.$store.commit("statusGlobalButtonLoding")})},onCancel:function(){a.$store.commit("statusGlobalButtonLoding")}})},handleSync:function(){var e=this;this.syncNginxLoading=!this.syncNginxLoading,this.utils.netUtil.post(this.$store,this.API_PTAH.syncNginxNodeInfo,{},function(){e.$Message.success("已发送同步消息!"),setTimeout(function(){e.syncNginxLoading=!e.syncNginxLoading},1e3)})},handleReset:function(){this.$refs.queryParamFrom.resetFields(),this.getdata()},pushAdd:function(){this.$router.push("/server-machine-node-info-list/server-machine-node-info-add")},pushEditor:function(e){this.$router.push({path:"/server-machine-node-info-list/server-machine-node-info-editor/".concat(e)})}}},Pe=Ne,$e=Object(d["a"])(Pe,Se,Ae,!1,null,null,null);$e.options.__file="ServerMachineNodeInfoList.vue";var _e=$e.exports,we=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Row",[a("i-col",{staticClass:"bread-crumb",attrs:{span:"24"}},[a("Breadcrumb",e._l(e.breadcrumbList,function(t,r){return a("BreadcrumbItem",{key:r,attrs:{to:t.path}},[a("Icon",{attrs:{type:t.icon}}),e._v(" "+e._s(t.name)+"\n        ")],1)}),1)],1)],1),a("Divider"),a("Row",[a("i-col",{attrs:{span:"12",offset:"6"}},[a("Form",{ref:"serverMachineNodeInfoFrom",attrs:{model:e.serverMachineNodeInfoFrom,rules:e.serverMachineNodeInfoFromValidate,"label-width":170}},[a("FormItem",{attrs:{label:"节点内网IP地址",prop:"ipAddress"}},[a("i-input",{attrs:{placeholder:"请输入节点内网IP地址"},model:{value:e.serverMachineNodeInfoFrom.ipAddress,callback:function(t){e.$set(e.serverMachineNodeInfoFrom,"ipAddress",t)},expression:"serverMachineNodeInfoFrom.ipAddress"}})],1),a("FormItem",{attrs:{label:"所在服务器访问端口号",prop:"accessPort"}},[a("i-input",{attrs:{placeholder:"请输入访问端口号"},model:{value:e.serverMachineNodeInfoFrom.accessPort,callback:function(t){e.$set(e.serverMachineNodeInfoFrom,"accessPort",t)},expression:"serverMachineNodeInfoFrom.accessPort"}})],1),a("FormItem",{attrs:{label:"访问账户",prop:"accessUser"}},[a("i-input",{attrs:{placeholder:"请输入访问账户"},model:{value:e.serverMachineNodeInfoFrom.accessUser,callback:function(t){e.$set(e.serverMachineNodeInfoFrom,"accessUser",t)},expression:"serverMachineNodeInfoFrom.accessUser"}})],1),a("FormItem",{attrs:{label:"访问授权方式",prop:"accessAuthType"}},[a("Select",{attrs:{placeholder:"选择访问授权方式"},model:{value:e.serverMachineNodeInfoFrom.accessAuthType,callback:function(t){e.$set(e.serverMachineNodeInfoFrom,"accessAuthType",t)},expression:"serverMachineNodeInfoFrom.accessAuthType"}},e._l(e.accessAuthTypeEunmArr,function(t){return a("Option",{key:t.value,attrs:{value:t.value,disabled:t.disabled}},[e._v(e._s(t.label))])}),1)],1),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:e.showOnPassword(),expression:"showOnPassword()"}],attrs:{label:"访问密码",rules:e.accessPasswordValidateRules(),prop:"accessPassword"}},[a("i-input",{attrs:{type:"password",password:"true",disabled:e.serverMachineNodeInfoFrom.accessAuthType!=e.accessAuthTypeEunmArr[0].value,placeholder:"请输入访问密码"},model:{value:e.serverMachineNodeInfoFrom.accessPassword,callback:function(t){e.$set(e.serverMachineNodeInfoFrom,"accessPassword",t)},expression:"serverMachineNodeInfoFrom.accessPassword"}})],1),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:e.showOnRsa(),expression:"showOnRsa()"}],attrs:{label:"私钥相对地址",rules:e.accessRsaPathValidateRules(),prop:"accessRsaPath"}},[a("i-input",{attrs:{disabled:e.serverMachineNodeInfoFrom.accessAuthType!=e.accessAuthTypeEunmArr[1].value,placeholder:"私钥相对地址"},model:{value:e.serverMachineNodeInfoFrom.accessRsaPath,callback:function(t){e.$set(e.serverMachineNodeInfoFrom,"accessRsaPath",t)},expression:"serverMachineNodeInfoFrom.accessRsaPath"}})],1),a("FormItem",{attrs:{label:"服务节点类型",prop:"serverMachineType"}},[a("Select",{attrs:{placeholder:"选择服务节点类型"},model:{value:e.serverMachineNodeInfoFrom.serverMachineType,callback:function(t){e.$set(e.serverMachineNodeInfoFrom,"serverMachineType",t)},expression:"serverMachineNodeInfoFrom.serverMachineType"}},e._l(e.serverMachineTypeEunmArr,function(t){return a("Option",{key:t.value,attrs:{value:t.value,disabled:t.disabled}},[e._v(e._s(t.label))])}),1)],1),a("FormItem",[a("Button",{attrs:{type:"primary",disabled:e.globalButtonLoding},on:{click:function(t){e.handleSubmit("serverMachineNodeInfoFrom")}}},[e._v("提交")]),a("Button",{staticStyle:{"margin-left":"8px"},on:{click:function(t){e.handleReset("serverMachineNodeInfoFrom")}}},[e._v("重置")])],1)],1)],1)],1),e.globalScreenLoding?a("Spin",{attrs:{size:"large",fix:""}}):e._e()],1)},De=[],Le={data:function(){return{routerPath:this.$route.path,serverMachineTypeEunmArr:[{value:"0",label:"openresty"},{value:"1",label:"kubernetes-master"}],accessAuthTypeEunmArr:[{value:"0",label:"密码模式"},{value:"1",label:"公私钥模式"}],serverMachineNodeInfoFrom:{serverId:"",apiName:""},serverMachineNodeInfoFromValidate:{serverMachineType:[{required:!0,message:"服务节点类型不能为空",trigger:"change"}],ipAddress:[{required:!0,pattern:/^(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])$/,message:"ip地址格式输入不正确",trigger:"blur"}],accessPort:[{required:!0,pattern:/^[0-9]{2,6}$/,message:"所在服务器访问端口号输入不正确",trigger:"blur"}],accessUser:[{required:!0,max:20,pattern:/^[a-zA-Z]+$/,message:"访问账户输入不能为空,只能为英文,最大20个字符",trigger:"blur"}],accessAuthType:[{required:!0,message:"访问授权方式不能为空",trigger:"change"}],accessPassword:[{required:!0,max:20,mix:5,message:"访问账户输入不能为空,最小5个字符,最大20个字符",trigger:"blur"}],accessRsaPath:[{required:!0,pattern:/^\/\S*[A-Za-z0-9]+$/,message:"私钥相对地址不能为空,并且只能以`/`开头 英文或数字结尾",trigger:"blur"}]}}},computed:{breadcrumbList:function(){return this.utils.routerUtil.initRouterTreeNameArr(this.routerPath)},globalScreenLoding:function(){return this.$store.state.globalScreenLoding},globalButtonLoding:function(){return this.$store.state.globalButtonLoding}},methods:{handleSubmit:function(e){var t=this;this.$refs[e].validate(function(e){e?t.commitData():t.$Message.error("请完善表单信息!")})},handleReset:function(e){this.$refs[e].resetFields()},commitData:function(){var e=this;this.$store.commit("statusGlobalButtonLoding"),this.utils.netUtil.post(this.$store,this.API_PTAH.serverMachineNodeInfoAdd,this.serverMachineNodeInfoFrom,function(){e.$Message.success("提交成功!"),e.$store.commit("statusGlobalButtonLoding"),e.$router.push("/server-machine-node-info-list")},function(){e.$store.commit("statusGlobalButtonLoding")})},accessPasswordValidateRules:function(){var e=this.serverMachineNodeInfoFromValidate.accessPassword,t=this.serverMachineNodeInfoFrom.accessAuthType!=this.accessAuthTypeEunmArr[1].value;return e[0].required=t,e},accessRsaPathValidateRules:function(){var e=this.serverMachineNodeInfoFromValidate.accessRsaPath,t=this.serverMachineNodeInfoFrom.accessAuthType!=this.accessAuthTypeEunmArr[0].value;return e[0].required=t,e},showOnPassword:function(){return this.serverMachineNodeInfoFrom.accessAuthType==this.accessAuthTypeEunmArr[0].value},showOnRsa:function(){return this.serverMachineNodeInfoFrom.accessAuthType==this.accessAuthTypeEunmArr[1].value}}},ke=Le,Te=Object(d["a"])(ke,we,De,!1,null,null,null);Te.options.__file="ServerMachineNodeInfoAdd.vue";var Be=Te.exports,xe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Row",[a("i-col",{staticClass:"bread-crumb",attrs:{span:"24"}},[a("Breadcrumb",e._l(e.breadcrumbList,function(t,r){return a("BreadcrumbItem",{key:r,attrs:{to:t.path}},[a("Icon",{attrs:{type:t.icon}}),e._v(" "+e._s(t.name)+"\n        ")],1)}),1)],1)],1),a("Divider"),a("Row",[a("i-col",{attrs:{span:"12",offset:"6"}},[a("Form",{ref:"serverMachineNodeInfoFrom",attrs:{model:e.serverMachineNodeInfoFrom,rules:e.fromValidate,"label-width":170}},[a("FormItem",{attrs:{label:"节点内网IP地址",prop:"ipAddress"}},[a("i-input",{attrs:{placeholder:"请输入节点内网IP地址"},model:{value:e.serverMachineNodeInfoFrom.ipAddress,callback:function(t){e.$set(e.serverMachineNodeInfoFrom,"ipAddress",t)},expression:"serverMachineNodeInfoFrom.ipAddress"}})],1),a("FormItem",{attrs:{label:"所在服务器访问端口号",prop:"accessPort"}},[a("i-input",{attrs:{placeholder:"请输入访问端口号"},model:{value:e.serverMachineNodeInfoFrom.accessPort,callback:function(t){e.$set(e.serverMachineNodeInfoFrom,"accessPort",t)},expression:"serverMachineNodeInfoFrom.accessPort"}})],1),a("FormItem",{attrs:{label:"访问账户",prop:"accessUser"}},[a("i-input",{attrs:{placeholder:"请输入访问账户"},model:{value:e.serverMachineNodeInfoFrom.accessUser,callback:function(t){e.$set(e.serverMachineNodeInfoFrom,"accessUser",t)},expression:"serverMachineNodeInfoFrom.accessUser"}})],1),a("FormItem",{attrs:{label:"访问授权方式",prop:"accessAuthType"}},[a("Select",{attrs:{placeholder:"选择访问授权方式"},model:{value:e.serverMachineNodeInfoFrom.accessAuthType,callback:function(t){e.$set(e.serverMachineNodeInfoFrom,"accessAuthType",t)},expression:"serverMachineNodeInfoFrom.accessAuthType"}},e._l(e.accessAuthTypeEunmArr,function(t){return a("Option",{key:t.value,attrs:{value:t.value,disabled:t.disabled}},[e._v(e._s(t.label))])}),1)],1),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:e.showOnPassword(),expression:"showOnPassword()"}],attrs:{label:"访问密码",rules:e.accessPasswordValidateRules(),prop:"accessPassword"}},[a("i-input",{attrs:{type:"password",password:"true",disabled:e.serverMachineNodeInfoFrom.accessAuthType!=e.accessAuthTypeEunmArr[0].value,placeholder:"请输入访问密码"},model:{value:e.serverMachineNodeInfoFrom.accessPassword,callback:function(t){e.$set(e.serverMachineNodeInfoFrom,"accessPassword",t)},expression:"serverMachineNodeInfoFrom.accessPassword"}})],1),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:e.showOnRsa(),expression:"showOnRsa()"}],attrs:{label:"私钥相对地址",rules:e.accessRsaPathValidateRules(),prop:"accessRsaPath"}},[a("i-input",{attrs:{disabled:e.serverMachineNodeInfoFrom.accessAuthType!=e.accessAuthTypeEunmArr[1].value,placeholder:"私钥相对地址"},model:{value:e.serverMachineNodeInfoFrom.accessRsaPath,callback:function(t){e.$set(e.serverMachineNodeInfoFrom,"accessRsaPath",t)},expression:"serverMachineNodeInfoFrom.accessRsaPath"}})],1),a("FormItem",{attrs:{label:"服务节点类型",prop:"serverMachineType"}},[a("Select",{attrs:{placeholder:"选择服务节点类型"},model:{value:e.serverMachineNodeInfoFrom.serverMachineType,callback:function(t){e.$set(e.serverMachineNodeInfoFrom,"serverMachineType",t)},expression:"serverMachineNodeInfoFrom.serverMachineType"}},e._l(e.serverMachineTypeEunmArr,function(t){return a("Option",{key:t.value,attrs:{value:t.value,disabled:t.disabled}},[e._v(e._s(t.label))])}),1)],1),a("FormItem",[a("Button",{attrs:{type:"primary",disabled:e.globalButtonLoding},on:{click:function(t){e.handleSubmit("serverMachineNodeInfoFrom")}}},[e._v("提交")])],1)],1)],1)],1),e.globalScreenLoding?a("Spin",{attrs:{size:"large",fix:""}}):e._e()],1)},Me=[],Oe={props:{query:{userId:0}},data:function(){return{routerPath:this.$route.path,serverMachineTypeEunmArr:[{value:"0",label:"openresty"},{value:"1",label:"kubernetes-master"}],accessAuthTypeEunmArr:[{value:"0",label:"密码模式"},{value:"1",label:"公私钥模式"}],serverMachineNodeInfoFrom:{id:this.$route.params.id,serverId:"",apiName:""},fromValidate:{serverMachineType:[{required:!0,message:"服务节点类型不能为空",trigger:"change"}],ipAddress:[{required:!0,pattern:/^(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])$/,message:"ip地址格式输入不正确",trigger:"blur"}],accessPort:[{required:!0,pattern:/^[0-9]{2,6}$/,message:"所在服务器访问端口号输入不正确",trigger:"blur"}],accessUser:[{required:!0,max:20,pattern:/^[a-zA-Z]+$/,message:"访问账户输入不能为空,只能为英文,最大20个字符",trigger:"blur"}],accessAuthType:[{required:!0,message:"访问授权方式不能为空",trigger:"change"}],accessPassword:[{required:!0,max:20,mix:5,message:"访问账户输入不能为空,最小5个字符,最大20个字符",trigger:"blur"}],accessRsaPath:[{required:!0,pattern:/^\/\S*[A-Za-z0-9]+$/,message:"私钥相对地址不能为空,并且只能以`/`开头 英文或数字结尾",trigger:"blur"}]}}},mounted:function(){this.loadData()},computed:{breadcrumbList:function(){return this.utils.routerUtil.initRouterTreeNameArr(this.routerPath)},globalScreenLoding:function(){return this.$store.state.globalScreenLoding},globalButtonLoding:function(){return this.$store.state.globalButtonLoding}},methods:{showOnOpenresty:function(){return"0"===this.serverMachineNodeInfoFrom.serverMachineType},handleSubmit:function(e){var t=this;this.$refs[e].validate(function(e){e?t.commitData():t.$Message.error("请完善表单信息!")})},loadData:function(){var e=this;this.utils.netUtil.post(this.$store,this.API_PTAH.serverMachineNodeInfoFindById,this.serverMachineNodeInfoFrom,function(t){e.serverMachineNodeInfoFrom=t.data.datas})},commitData:function(){var e=this;this.$store.commit("statusGlobalButtonLoding"),this.serverMachineNodeInfoFrom.id=this.$route.params.id,this.utils.netUtil.post(this.$store,this.API_PTAH.serverMachineNodeInfoUpdate,this.serverMachineNodeInfoFrom,function(){e.$Message.success("提交成功!"),e.$store.commit("statusGlobalButtonLoding"),e.$router.push("/server-machine-node-info-list")},function(){e.$store.commit("statusGlobalButtonLoding")})},accessPasswordValidateRules:function(){var e=this.fromValidate.accessPassword,t=this.serverMachineNodeInfoFrom.accessAuthType!=this.accessAuthTypeEunmArr[1].value;return e[0].required=t,e},accessRsaPathValidateRules:function(){var e=this.fromValidate.accessRsaPath,t=this.serverMachineNodeInfoFrom.accessAuthType!=this.accessAuthTypeEunmArr[0].value;return e[0].required=t,e},showOnPassword:function(){return this.serverMachineNodeInfoFrom.accessAuthType==this.accessAuthTypeEunmArr[0].value},showOnRsa:function(){return this.serverMachineNodeInfoFrom.accessAuthType==this.accessAuthTypeEunmArr[1].value}}},Ce=Oe,Ue=Object(d["a"])(Ce,xe,Me,!1,null,null,null);Ue.options.__file="ServerMachineNodeInfoEditor.vue";var Re=Ue.exports,Ee=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Row",[a("i-col",{staticClass:"bread-crumb",attrs:{span:"24"}},[a("Breadcrumb",e._l(e.breadcrumbList,function(t,r){return a("BreadcrumbItem",{key:r,attrs:{to:t.path}},[a("Icon",{attrs:{type:t.icon}}),e._v(" "+e._s(t.name)+"\n        ")],1)}),1)],1)],1),a("Divider"),a("router-view"),a("Row",[a("i-col",{attrs:{span:"23",offset:"1"}},[a("div",{staticClass:"annotation-container"},[a("div",{staticClass:"annotation-container"},[a("div",{staticClass:"selected-version-eq annotation-square"}),a("p",{staticClass:"annotation-words"},[e._v(" : 当前版本")])]),a("div",{staticClass:"annotation-container"},[a("div",{staticClass:"current-version-young annotation-square"}),a("p",{staticClass:"annotation-words"},[e._v(" : 新版本")])]),a("div",{staticClass:"annotation-container"},[a("div",{staticClass:"current-version-old annotation-square"}),a("p",{staticClass:"annotation-words"},[e._v(" : 过时版本")])])])])],1),a("Form",{ref:"queryParamFrom",staticClass:"query-pram-from",attrs:{model:e.paramData.data}},[a("Row",[a("i-col",{staticClass:"page-col",attrs:{span:"4",offset:"1"}},[a("FormItem",{attrs:{prop:"nodeName"}},[a("i-input",{attrs:{type:"text",placeholder:"服务节点名称"},model:{value:e.paramData.data.nodeName,callback:function(t){e.$set(e.paramData.data,"nodeName",t)},expression:"paramData.data.nodeName"}})],1)],1),a("i-col",{staticClass:"page-col",attrs:{span:"2",offset:"1"}},[a("FormItem",{attrs:{prop:"nodeNamespace"}},[a("i-input",{attrs:{type:"text",placeholder:"节点命名空间"},model:{value:e.paramData.data.nodeNamespace,callback:function(t){e.$set(e.paramData.data,"nodeNamespace",t)},expression:"paramData.data.nodeNamespace"}})],1)],1),a("i-col",{staticClass:"page-col",attrs:{span:"2",offset:"1"}},[a("FormItem",{attrs:{prop:"currentVersion"}},[a("i-input",{attrs:{type:"text",placeholder:"当前版本"},model:{value:e.paramData.data.currentVersion,callback:function(t){e.$set(e.paramData.data,"currentVersion",t)},expression:"paramData.data.currentVersion"}})],1)],1),a("i-col",{staticClass:"page-col",attrs:{span:"2",offset:"1"}},[a("FormItem",{attrs:{prop:"deployType"}},[a("Select",{staticStyle:{width:"200px"},attrs:{placeholder:"部署类型",clearable:""},on:{"on-change":e.getdata},model:{value:e.paramData.data.deployType,callback:function(t){e.$set(e.paramData.data,"deployType",t)},expression:"paramData.data.deployType"}},e._l(e.deployTypeEunmArr,function(t){return a("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.label))])}),1)],1)],1),a("i-col",{staticClass:"page-col",attrs:{span:"2",offset:"1"}},[a("FormItem",{attrs:{prop:"runningStatus"}},[a("Select",{staticStyle:{width:"200px"},attrs:{placeholder:"运行状态",clearable:""},on:{"on-change":e.getdata},model:{value:e.paramData.data.runningStatus,callback:function(t){e.$set(e.paramData.data,"runningStatus",t)},expression:"paramData.data.runningStatus"}},e._l(e.runningStatusEunmArr,function(t){return a("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.label))])}),1)],1)],1),a("i-col",{staticClass:"button-group",attrs:{span:"3",offset:"19"}},[a("Button",{attrs:{type:"info"},on:{click:function(t){e.pushAdd()}}},[e._v("新增")]),a("Button",{attrs:{type:"success"},on:{click:function(t){e.getdata()}}},[e._v("查询")]),a("Button",{attrs:{type:"warning"},on:{click:function(t){e.handleReset()}}},[e._v("重置")])],1)],1)],1),a("br"),a("Table",{staticClass:"list-button-group",attrs:{border:"",columns:e.columns,data:e.tableData},scopedSlots:e._u([{key:"action",fn:function(t){var r=t.row,o=t.index;return[a("Button",{staticStyle:{"margin-right":"5px"},attrs:{type:"primary",size:"small"},on:{click:function(t){e.pushEditor(r.id)}}},[e._v("编辑")]),e.canBeStopNode(r.canStop)?a("Button",{staticStyle:{"margin-right":"5px"},attrs:{type:"error",size:"small"},on:{click:function(t){e.setRunningStatusDownByDevOpsK8sNotificationVo(r)}}},[e._v("停止运行")]):e._e(),e.showOnPhysicalDeployment(r)?a("Button",{attrs:{type:"error",size:"small",disabled:e.globalButtonLoding},on:{click:function(t){e.deleteData(r.id,o)}}},[e._v("删除")]):e._e()]}}])}),a("Row",[a("i-col",{staticClass:"page-col",attrs:{span:"6",offset:"17"}},[a("Page",{staticClass:"pagination",attrs:{total:e.paramData.data.totalCount,current:e.paramData.data.currentPage,"page-size":e.paramData.data.pageSize,"show-sizer":""},on:{"on-change":e.handlePage,"on-page-size-change":e.handlePageSize}})],1)],1),e.globalScreenLoding?a("Spin",{attrs:{size:"large",fix:""}}):e._e()],1)},qe=[],ze={data:function(){return{routerPath:this.$route.path,deployTypeEunmArr:[{value:"0",label:"物理地址部署"},{value:"1",label:"kubernetes部署"}],runningStatusEunmArr:[{value:"0",label:"运行中"},{value:"1",label:"已停止"}],apiStatusEunmArr:[{value:"0",label:"未启用"},{value:"1",label:"启用"}],paramData:{data:{nodeName:"",physicalPath:""},page:{currentPage:1,pageSize:10},sort:{orderBy:"id",sort:"desc"}},columns:[{title:"服务节点名称",key:"nodeName"},{title:"节点命名空间",key:"nodeNamespace"},{title:"选中版本",key:"selectedVersion"},{title:"当前版本",key:"currentVersion"},{title:"部署类型",key:"deployType"},{title:"运行状态",key:"runningStatus"},{title:"物理地址",key:"physicalPath"},{title:"创建时间",key:"createTime"},{title:"修改时间",key:"updateTime"},{title:"操作人",key:"operatorName"},{title:"操作",slot:"action",width:225,align:"center"}],tableData:[]}},computed:{breadcrumbList:function(){return this.utils.routerUtil.initRouterTreeNameArr(this.routerPath)},globalScreenLoding:function(){return this.$store.state.globalScreenLoding},globalButtonLoding:function(){return this.$store.state.globalButtonLoding}},mounted:function(){this.getdata()},methods:{handlePage:function(e){this.paramData.page.currentPage=e,this.getdata()},handlePageSize:function(e){this.paramData.page.pageSize=e,this.getdata()},rowClassName:function(e,t){return this.utils.styleUtil.initTableListRowClass(t)},getdata:function(){var e=this;this.utils.netUtil.post(this.$store,this.API_PTAH.upSteamNodeInfoFind,this.paramData,function(t){e.tableData=t.data.datas,e.paramData.data.totalCount=t.data.page.totalCount,e.paramData.data.pageSize=t.data.page.pageSize,e.paramData.data.currentPage=t.data.page.currentPage})},deleteData:function(e,t){var a=this;this.$store.commit("statusGlobalButtonLoding"),this.$Modal.confirm({title:"警告",content:"确认删除该条数据吗",onOk:function(){a.utils.netUtil.post(a.$store,a.API_PTAH.upSteamNodeInfoDelete,{id:e},function(e){e.data,a.tableData.splice(t,1),a.$store.commit("statusGlobalButtonLoding"),a.$Message.success("删除成功!")},function(){a.$store.commit("statusGlobalButtonLoding")})},onCancel:function(){a.$store.commit("statusGlobalButtonLoding")}})},handleReset:function(){this.$refs.queryParamFrom.resetFields(),this.getdata()},pushAdd:function(){this.$router.push("/upsteam-node-info-list/upsteam-node-info-add")},pushEditor:function(e){this.$router.push({path:"/upsteam-node-info-list/upsteam-node-info-editor/".concat(e)})},setRunningStatusDownByDevOpsK8sNotificationVo:function(e){var t=this;this.$store.commit("statusGlobalScreenLoding"),this.utils.netUtil.post(this.$store,this.API_PTAH.setRunningStatusDownByDevOpsK8sNotificationVo,{id:e.id,nodeName:e.nodeName,nodeNamespace:e.nodeNamespace,currentVersion:e.currentVersion},function(e){var a=e.data.datas,r=a?"停止成功！":"停止失败，请前往k8s控制台确认！";t.$store.commit("statusGlobalScreenLoding"),t.$Message.success(r),t.getdata()},function(){t.$store.commit("statusGlobalScreenLoding")})},canBeStopNode:function(e){return"1"===e},showOnPhysicalDeployment:function(e){var t="物理地址部署"===e.deployType,a="已停止"===e.runningStatus;return t||a}}},Ve=ze,He=(a("7d3b"),Object(d["a"])(Ve,Ee,qe,!1,null,null,null));He.options.__file="UpSteamNodeInfoList.vue";var Ge=He.exports,je=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Row",[a("i-col",{staticClass:"bread-crumb",attrs:{span:"24"}},[a("Breadcrumb",e._l(e.breadcrumbList,function(t,r){return a("BreadcrumbItem",{key:r,attrs:{to:t.path}},[a("Icon",{attrs:{type:t.icon}}),e._v(" "+e._s(t.name)+"\n        ")],1)}),1)],1)],1),a("Divider"),a("Row",[a("i-col",{attrs:{span:"12",offset:"6"}},[a("Form",{ref:"upSteamNodeInfoFrom",attrs:{model:e.upSteamNodeInfoFrom,rules:e.upSteamNodeInfoFromValidate,"label-width":110}},[a("FormItem",{attrs:{label:"服务节点名称",prop:"nodeName"}},[a("Select",{attrs:{filterable:"",remote:"","remote-method":e.queryUpSteamInfo,placeholder:"请搜索以选择服务节点",loading:e.isLoadingUpSteamNodeInfo},model:{value:e.upSteamNodeInfoFrom.nodeName,callback:function(t){e.$set(e.upSteamNodeInfoFrom,"nodeName",t)},expression:"upSteamNodeInfoFrom.nodeName"}},e._l(e.upSteamNodeInfo,function(t,r){return a("Option",{key:r,attrs:{value:t.upsteamName}},[e._v(e._s(t.upsteamName))])}),1),a("upSteamName")],1),a("FormItem",{attrs:{label:"物理地址",prop:"physicalPath"}},[a("i-input",{attrs:{placeholder:"请输入物理地址"},model:{value:e.upSteamNodeInfoFrom.physicalPath,callback:function(t){e.$set(e.upSteamNodeInfoFrom,"physicalPath",t)},expression:"upSteamNodeInfoFrom.physicalPath"}})],1),a("FormItem",{attrs:{label:"部署类型",prop:"deployType"}},[a("Select",{attrs:{placeholder:"选择部署类型"},model:{value:e.upSteamNodeInfoFrom.deployType,callback:function(t){e.$set(e.upSteamNodeInfoFrom,"deployType",t)},expression:"upSteamNodeInfoFrom.deployType"}},e._l(e.deployTypeEunmArr,function(t){return a("Option",{key:t.value,attrs:{value:t.value,disabled:t.disabled}},[e._v(e._s(t.label))])}),1)],1),a("FormItem",[a("Button",{attrs:{type:"primary",disabled:e.globalButtonLoding},on:{click:function(t){e.handleSubmit("upSteamNodeInfoFrom")}}},[e._v("提交")]),a("Button",{staticStyle:{"margin-left":"8px"},on:{click:function(t){e.handleReset("upSteamNodeInfoFrom")}}},[e._v("重置")])],1)],1)],1)],1)],1)},Ke=[],Ze={data:function(){return{deployTypeEunmArr:[{value:"0",label:"物理地址部署"},{value:"1",label:"kubernetes部署",disabled:!0}],routerPath:this.$route.path,isLoadingUpSteamNodeInfo:!1,upSteamNodeInfo:[],upSteamNodeInfoFrom:{nodeName:"",physicalPath:""},upSteamNodeInfoFromValidate:{deployType:[{required:!0,message:"部署类型不能为空",trigger:"change"}],nodeName:[{required:!0,max:30,pattern:/^[A-Za-z]+[A-Za-z-]*[A-Za-z]+$/,message:"服务节点名称不能为空,最多30个字符,必须以英文开头和结尾只能包含中横线 [ - ]",trigger:"blur"}],physicalPath:[{pattern:/^(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5]):{1}[0-9]{4,}$/,required:!0,message:"物理地址不能为空 并且为标准的ip地址格式+端口",trigger:"blur"}]}}},components:{upSteamName:K},computed:{breadcrumbList:function(){return this.utils.routerUtil.initRouterTreeNameArr(this.routerPath)},globalScreenLoding:function(){return this.$store.state.globalScreenLoding},globalButtonLoding:function(){return this.$store.state.globalButtonLoding}},methods:{queryUpSteamInfo:function(e){var t=this;""!==e?(this.isLoadingUpSteamNodeInfo=!0,this.utils.netUtil.post(this.$store,this.API_PTAH.upSteamNameFind,{data:{nodeName:e,physicalPath:""},page:{currentPage:1,pageSize:1e4},sort:{orderBy:"id",sort:"desc"}},function(e){t.isLoadingUpSteamNodeInfo=!1,t.upSteamNodeInfo=e.data.datas})):this.upSteamNodeInfo=[]},handleSubmit:function(e){var t=this;this.$refs[e].validate(function(e){e?t.commitData():t.$Message.error("请完善表单信息!")})},handleReset:function(e){this.$refs[e].resetFields()},commitData:function(){var e=this;this.$store.commit("statusGlobalButtonLoding"),this.utils.netUtil.post(this.$store,this.API_PTAH.upSteamNodeInfoAdd,this.upSteamNodeInfoFrom,function(){e.$Message.success("提交成功!"),e.$store.commit("statusGlobalButtonLoding"),e.$router.push("/upsteam-node-info-list")},function(){e.$store.commit("statusGlobalButtonLoding")})}}},We=Ze,Je=Object(d["a"])(We,je,Ke,!1,null,null,null);Je.options.__file="UpSteamNodeInfoAdd.vue";var Qe=Je.exports,Xe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Row",[a("i-col",{staticClass:"bread-crumb",attrs:{span:"24"}},[a("Breadcrumb",e._l(e.breadcrumbList,function(t,r){return a("BreadcrumbItem",{key:r,attrs:{to:t.path}},[a("Icon",{attrs:{type:t.icon}}),e._v(" "+e._s(t.name)+"\n        ")],1)}),1)],1)],1),a("Divider"),a("Row",[a("i-col",{attrs:{span:"12",offset:"6"}},[a("Form",{ref:"upSteamNodeInfoFrom",attrs:{model:e.upSteamNodeInfoFrom,rules:e.fromValidate,"label-width":110}},[a("FormItem",{attrs:{label:"服务节点名称",prop:"nodeName"}},[a("Select",{attrs:{disabled:e.showOnKubernetesDeployment(),filterable:"",remote:"","remote-method":e.queryUpSteamInfo,placeholder:"请搜索以选择服务节点",loading:e.isLoadingUpSteamNodeInfo},model:{value:e.upSteamNodeInfoFrom.nodeName,callback:function(t){e.$set(e.upSteamNodeInfoFrom,"nodeName",t)},expression:"upSteamNodeInfoFrom.nodeName"}},e._l(e.upSteamNodeInfo,function(t,r){return a("Option",{key:r,attrs:{value:t.upsteamName}},[e._v(e._s(t.upsteamName))])}),1),e.showOnKubernetesDeployment()?e._e():a("upSteamName")],1),e.showOnKubernetesDeployment()?a("FormItem",{attrs:{label:"节点命名空间",prop:"nodeNamespace"}},[a("i-input",{attrs:{disabled:"",placeholder:"请输入命名空间"},model:{value:e.upSteamNodeInfoFrom.nodeNamespace,callback:function(t){e.$set(e.upSteamNodeInfoFrom,"nodeNamespace",t)},expression:"upSteamNodeInfoFrom.nodeNamespace"}})],1):e._e(),e.showOnKubernetesDeployment()?a("FormItem",{attrs:{label:"\t当前版本",prop:"currentVersion"}},[a("i-input",{attrs:{disabled:"",placeholder:"请输入当前版本"},model:{value:e.upSteamNodeInfoFrom.currentVersion,callback:function(t){e.$set(e.upSteamNodeInfoFrom,"currentVersion",t)},expression:"upSteamNodeInfoFrom.currentVersion"}})],1):e._e(),e.showOnKubernetesDeployment()?a("FormItem",{attrs:{label:"选中版本",prop:"selectedVersion"}},[a("i-input",{attrs:{disabled:"",placeholder:"请输入选中版本"},model:{value:e.upSteamNodeInfoFrom.selectedVersion,callback:function(t){e.$set(e.upSteamNodeInfoFrom,"selectedVersion",t)},expression:"upSteamNodeInfoFrom.selectedVersion"}})],1):e._e(),a("FormItem",{attrs:{label:"部署类型",prop:"deployType"}},[a("Select",{attrs:{disabled:"",placeholder:"选择部署类型"},model:{value:e.upSteamNodeInfoFrom.deployType,callback:function(t){e.$set(e.upSteamNodeInfoFrom,"deployType",t)},expression:"upSteamNodeInfoFrom.deployType"}},e._l(e.deployTypeEunmArr,function(t){return a("Option",{key:t.value,attrs:{value:t.value,disabled:t.disabled}},[e._v(e._s(t.label))])}),1)],1),a("FormItem",{attrs:{label:"物理地址",prop:"physicalPath"}},[a("i-input",{attrs:{disabled:e.showOnKubernetesDeployment(),placeholder:"请输入物理地址"},model:{value:e.upSteamNodeInfoFrom.physicalPath,callback:function(t){e.$set(e.upSteamNodeInfoFrom,"physicalPath",t)},expression:"upSteamNodeInfoFrom.physicalPath"}})],1),a("FormItem",[a("Button",{attrs:{type:"primary",disabled:e.globalButtonLoding},on:{click:function(t){e.handleSubmit("upSteamNodeInfoFrom")}}},[e._v("提交")])],1)],1)],1)],1)],1)},Ye=[],et={props:{query:{userId:0}},data:function(){return{deployTypeEunmArr:[{value:"0",label:"物理地址部署"},{value:"1",label:"kubernetes部署",disabled:!0}],routerPath:this.$route.path,isLoadingUpSteamNodeInfo:!1,upSteamNodeInfo:[],upSteamNodeInfoFrom:{id:this.$route.params.id,nodeName:"",physicalPath:""},fromValidate:{nodeName:[{required:!0,max:30,pattern:/^[A-Za-z]+[A-Za-z-]*[A-Za-z]+$/,message:"服务节点名称不能为空,最多30个字符,必须以英文开头和结尾只能包含中横线 [ - ]",trigger:"blur"}],physicalPath:[{pattern:/^(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5]):{1}[0-9]{4,}$/,required:!0,message:"物理地址不能为空 并且为标准的ip地址格式+端口",trigger:"blur"}]}}},components:{upSteamName:K},mounted:function(){this.loadData()},computed:{breadcrumbList:function(){return this.utils.routerUtil.initRouterTreeNameArr(this.routerPath)},globalScreenLoding:function(){return this.$store.state.globalScreenLoding},globalButtonLoding:function(){return this.$store.state.globalButtonLoding}},methods:{showOnKubernetesDeployment:function(){return"1"===this.upSteamNodeInfoFrom.deployType},queryUpSteamInfo:function(e){var t=this;""!==e?(this.isLoadingUpSteamNodeInfo=!0,this.utils.netUtil.post(this.$store,this.API_PTAH.upSteamNameFind,{data:{nodeName:e,physicalPath:""},page:{currentPage:1,pageSize:1e4},sort:{orderBy:"id",sort:"desc"}},function(e){t.isLoadingUpSteamNodeInfo=!1,t.upSteamNodeInfo=e.data.datas})):this.upSteamNodeInfo=[]},handleSubmit:function(e){var t=this;this.$refs[e].validate(function(e){e?t.commitData():t.$Message.error("请完善表单信息!")})},loadData:function(){var e=this;this.utils.netUtil.post(this.$store,this.API_PTAH.upSteamNodeInfoFindById,this.upSteamNodeInfoFrom,function(t){e.upSteamNodeInfoFrom=t.data.datas})},commitData:function(){var e=this;this.$store.commit("statusGlobalButtonLoding"),this.upSteamNodeInfoFrom.id=this.$route.params.id,this.utils.netUtil.post(this.$store,this.API_PTAH.upSteamNodeInfoUpdate,this.upSteamNodeInfoFrom,function(){e.$Message.success("提交成功!"),e.$store.commit("statusGlobalButtonLoding"),e.$router.push("/upsteam-node-info-list")},function(){e.$store.commit("statusGlobalButtonLoding")})}}},tt=et,at=Object(d["a"])(tt,Xe,Ye,!1,null,null,null);at.options.__file="UpSteamNodeInfoEditor.vue";var rt=at.exports,ot=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Row",[a("i-col",{staticClass:"bread-crumb",attrs:{span:"24"}},[a("Breadcrumb",e._l(e.breadcrumbList,function(t,r){return a("BreadcrumbItem",{key:r,attrs:{to:t.path}},[a("Icon",{attrs:{type:t.icon}}),e._v(" "+e._s(t.name)+"\n        ")],1)}),1)],1)],1),a("Divider"),a("router-view"),a("Form",{ref:"queryParamFrom",staticClass:"query-pram-from",attrs:{model:e.paramData.data}},[a("Row",[a("i-col",{staticClass:"page-col",attrs:{span:"4",offset:"1"}},[a("FormItem",{attrs:{prop:"appName"}},[a("i-input",{attrs:{type:"text",placeholder:"应用名"},model:{value:e.paramData.data.appName,callback:function(t){e.$set(e.paramData.data,"appName",t)},expression:"paramData.data.appName"}})],1)],1),a("i-col",{staticClass:"page-col",attrs:{span:"2",offset:"1"}},[a("FormItem",{attrs:{prop:"appCategory"}},[a("Select",{staticStyle:{width:"200px"},attrs:{placeholder:"应用类型",clearable:""},on:{"on-change":e.getdata},model:{value:e.paramData.data.appCategory,callback:function(t){e.$set(e.paramData.data,"appCategory",t)},expression:"paramData.data.appCategory"}},e._l(e.appCategoryEunmArr,function(t){return a("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.label))])}),1)],1)],1),a("i-col",{staticClass:"page-col",attrs:{span:"2",offset:"1"}},[a("FormItem",{attrs:{prop:"authType"}},[a("Select",{staticStyle:{width:"200px"},attrs:{placeholder:"授权模式",clearable:""},on:{"on-change":e.getdata},model:{value:e.paramData.data.authType,callback:function(t){e.$set(e.paramData.data,"authType",t)},expression:"paramData.data.authType"}},e._l(e.authTypeEunmArr,function(t){return a("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.label))])}),1)],1)],1),a("i-col",{staticClass:"page-col",attrs:{span:"2",offset:"1"}},[a("FormItem",{attrs:{prop:"appStatus"}},[a("Select",{staticStyle:{width:"200px"},attrs:{placeholder:"应用状态",clearable:""},on:{"on-change":e.getdata},model:{value:e.paramData.data.appStatus,callback:function(t){e.$set(e.paramData.data,"appStatus",t)},expression:"paramData.data.appStatus"}},e._l(e.appStatusEunmArr,function(t){return a("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.label))])}),1)],1)],1),a("i-col",{staticClass:"button-group",attrs:{span:"4",offset:"20"}},[a("Button",{attrs:{type:"info"},on:{click:function(t){e.pushAdd()}}},[e._v("新增")]),a("Button",{attrs:{type:"success"},on:{click:function(t){e.getdata()}}},[e._v("查询")]),a("Button",{attrs:{type:"warning"},on:{click:function(t){e.handleReset()}}},[e._v("重置")]),a("Button",{attrs:{type:"primary"},on:{click:function(t){e.syncAppApiRelationship()}}},[e._v("同步")])],1)],1)],1),a("br"),a("Table",{staticClass:"list-button-group",attrs:{border:"",columns:e.columns,data:e.tableData},scopedSlots:e._u([{key:"action",fn:function(t){var r=t.row,o=t.index;return[a("Button",{staticStyle:{"margin-right":"5px"},attrs:{type:"warning",size:"small"},on:{click:function(t){e.showApiBindModal(r)}}},[e._v("接口管理")]),a("Button",{staticStyle:{"margin-right":"5px"},attrs:{type:"primary",size:"small"},on:{click:function(t){e.pushEditor(r.id)}}},[e._v("编辑")]),a("Button",{attrs:{type:"error",size:"small",disabled:e.globalButtonLoding},on:{click:function(t){e.deleteData(r.id,o)}}},[e._v("删除")])]}}])}),a("Row",[a("i-col",{staticClass:"page-col",attrs:{span:"6",offset:"17"}},[a("Page",{staticClass:"pagination",attrs:{total:e.paramData.data.totalCount,current:e.paramData.data.currentPage,"page-size":e.paramData.data.pageSize,"show-sizer":""},on:{"on-change":e.handlePage,"on-page-size-change":e.handlePageSize}})],1)],1),a("AppApiModal",{attrs:{"show-modal":e.showModal,"modal-title":e.modalTitle,"app-id":e.selectAppId},on:{closeApiBindModal:e.closeApiBindModal}}),e.globalScreenLoding?a("Spin",{attrs:{size:"large",fix:""}}):e._e()],1)},st=[],nt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Modal",{attrs:{width:"830",title:e.modalTitle},on:{"on-ok":e.closeModal,"on-cancel":e.closeModal,"on-visible-change":e.initModal},model:{value:e.showallApiModal,callback:function(t){e.showallApiModal=t},expression:"showallApiModal"}},[a("Row",[a("i-col",{attrs:{span:"20",offset:"2"}},[a("Select",{ref:"serverSelector",attrs:{placeholder:"搜索并选择服务名",filterable:"",clearable:!0,remote:"","remote-method":e.queryServerbyName,loading:e.serverOptionsLoading},on:{"on-clear":e.clearSelectServer,"on-change":e.changeSelectServer}},e._l(e.serverOptions,function(t,r){return a("Option",{key:r,attrs:{value:t.id}},[e._v(e._s(t.serverName))])}),1)],1)],1),a("Divider"),a("Row",[a("i-col",{attrs:{span:"20",offset:"2"}},[a("Transfer",{attrs:{data:e.allApi,titles:e.transferTitle,"target-keys":e.bindKeys,"list-style":e.transferStyle},on:{"on-change":e.handleBindingApi}})],1)],1),e.loadingModalData?a("Spin",{attrs:{size:"large",fix:""}}):e._e()],1)},it=[],lt=a("2ef0"),ut=a.n(lt),pt={props:["appId","showModal","modalTitle"],data:function(){return{loadingModalData:!1,transferStyle:{width:"300px",height:"300px"},transferTitle:["绑定的API","未绑定的API"],showallApiModal:this.showModal,allApi:[],bindKeys:[],serverOptions:[],serverOptionsLoading:!1,queryServerbyNameParam:{serverId:"",appId:this.appId}}},watch:{showModal:function(){this.showallApiModal=this.showModal}},methods:{clearSelectServer:function(){var e=this;this.allApi=[],this.bindKeys=[],this.queryServerbyNameParam.appId=this.appId,this.utils.netUtil.post(this.$store,this.API_PTAH.findApiByAppId,this.queryServerbyNameParam,function(t){e.allApi=t.data.datas.allApi,e.bindKeys=t.data.datas.bindKeys})},closeModal:function(){this.$refs.serverSelector.clearSingleSelect(),this.allApi=[],this.bindKeys=[],this.$emit("closeApiBindModal")},initModal:function(e){var t=this;e&&(this.queryServerbyNameParam.appId=this.appId,this.loadingModalData=!0,this.utils.netUtil.post(this.$store,this.API_PTAH.findApiByAppId,this.queryServerbyNameParam,function(e){t.loadingModalData=!1,t.allApi=e.data.datas.allApi,t.bindKeys=e.data.datas.bindKeys}))},pushToHeavyAllApi:function(e,t){return t.forEach(function(t){var a=!1;e.forEach(function(e){e.key==t.key&&(a=!0)}),a||e.push(t)}),e},pushToHeavyBindKeys:function(e,t){return t.forEach(function(t){var a=!1;e.forEach(function(e){e==t&&(a=!0)}),a||e.push(t)}),e},changeSelectServer:function(e){var t=this;e&&(this.queryServerbyNameParam.serverId=e,this.queryServerbyNameParam.appId=this.appId,this.utils.netUtil.post(this.$store,this.API_PTAH.findAppApiRelationshipByServerIdAndAppId,this.queryServerbyNameParam,function(e){t.allApi=t.pushToHeavyAllApi(t.allApi,e.data.datas.allApi),t.bindKeys=t.pushToHeavyBindKeys(t.bindKeys,e.data.datas.bindKeys)}))},handleBindingApi:function(e,t,a){var r=this;"left"===t&&this.utils.netUtil.post(this.$store,this.API_PTAH.bindingApi,{appId:this.appId,apiIds:a},function(){r.$Message.success("绑定成功!")}),"right"===t&&this.utils.netUtil.post(this.$store,this.API_PTAH.unBindingApi,{appId:this.appId,apiIds:a},function(){r.$Message.success("解绑成功!")}),this.bindKeys=e},queryServerbyName:ut.a.debounce(function(e){var t=this;""!==e?(this.serverOptionsLoading=!0,this.serverOptions=[],this.loadingModalData=!0,this.utils.netUtil.post(this.$store,this.API_PTAH.findServerByName,{serverName:e},function(e){t.serverOptionsLoading=!1,t.serverOptions=e.data.datas,t.loadingModalData=!1})):this.serverOptions=[]},500)}},ct=pt,dt=Object(d["a"])(ct,nt,it,!1,null,null,null);dt.options.__file="AppApiModal.vue";var mt=dt.exports,ht={components:{AppApiModal:mt},data:function(){return{routerPath:this.$route.path,authTypeEunmArr:[{value:"0",label:"授权码 (共享令牌)"},{value:"1",label:"私有令牌  (一设备一令牌 需要登录)"},{value:"2",label:"IP白名单+通行令牌 (管理后台模式)"},{value:"3",label:"私有免登陆令牌 (一设备一令牌 免登陆)"}],appCategoryEunmArr:[{value:"0",label:"基础应用"},{value:"1",label:"普通应用"}],appStatusEunmArr:[{value:"0",label:"连接"},{value:"1",label:"断开"}],paramData:{data:{appStatus:"",authType:"",appCategory:"",appName:""},page:{currentPage:1,pageSize:10},sort:{orderBy:"id",sort:"desc"}},columns:[{title:"应用名",key:"appName"},{title:"应用类型",key:"appCategory"},{title:"授权模式",key:"authType"},{title:"应用状态",key:"appStatus"},{title:"创建时间",key:"createTime"},{title:"修改时间",key:"updateTime"},{title:"操作人",key:"operatorName"},{title:"操作",slot:"action",width:250,align:"center"}],tableData:[],showModal:!1,selectAppId:"",modalTitle:""}},computed:{breadcrumbList:function(){return this.utils.routerUtil.initRouterTreeNameArr(this.routerPath)},globalScreenLoding:function(){return this.$store.state.globalScreenLoding},globalButtonLoding:function(){return this.$store.state.globalButtonLoding}},mounted:function(){this.getdata()},methods:{handlePage:function(e){this.paramData.page.currentPage=e,this.getdata()},handlePageSize:function(e){this.paramData.page.pageSize=e,this.getdata()},rowClassName:function(e,t){return this.utils.initTableListRowClass(t)},getdata:function(){var e=this;this.utils.netUtil.post(this.$store,this.API_PTAH.appInfoFind,this.paramData,function(t){e.tableData=t.data.datas,e.paramData.data.totalCount=t.data.page.totalCount,e.paramData.data.pageSize=t.data.page.pageSize,e.paramData.data.currentPage=t.data.page.currentPage})},deleteData:function(e,t){var a=this;this.$store.commit("statusGlobalButtonLoding"),this.$Modal.confirm({title:"警告",content:"确认删除该条数据吗",onOk:function(){a.utils.netUtil.post(a.$store,a.API_PTAH.appInfoDelete,{id:e},function(){a.tableData.splice(t,1),a.$Message.success("删除成功!"),a.$store.commit("statusGlobalButtonLoding")},function(){a.$store.commit("statusGlobalButtonLoding")})},onCancel:function(){a.$store.commit("statusGlobalButtonLoding")}})},syncAppApiRelationship:function(){var e=this;this.$store.commit("statusGlobalScreenLoding"),this.utils.netUtil.post(this.$store,this.API_PTAH.syncAppApiRelationship,{},function(){e.$Message.success("同步数据成功!"),e.$store.commit("statusGlobalScreenLoding")},function(){e.$store.commit("statusGlobalScreenLoding")})},handleReset:function(){this.$refs.queryParamFrom.resetFields(),this.getdata()},pushAdd:function(){this.$router.push("".concat(this.$route.path,"/app-info-add"))},pushEditor:function(e){this.$router.push({path:"".concat(this.$route.path,"/app-info-editor/").concat(e)})},showApiBindModal:function(e){this.modalTitle="".concat(e.appName," 接口管理"),this.showModal=!0,this.selectAppId=e.id},closeApiBindModal:function(){this.showModal=!1}}},ft=ht,vt=Object(d["a"])(ft,ot,st,!1,null,null,null);vt.options.__file="AppInfoList.vue";var gt=vt.exports,bt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Row",[a("i-col",{staticClass:"bread-crumb",attrs:{span:"24"}},[a("Breadcrumb",e._l(e.breadcrumbList,function(t,r){return a("BreadcrumbItem",{key:r,attrs:{to:t.path}},[a("Icon",{attrs:{type:t.icon}}),e._v(" "+e._s(t.name)+"\n        ")],1)}),1)],1)],1),a("Divider"),a("Row",[a("i-col",{attrs:{span:"12",offset:"6"}},[a("Form",{ref:"appInfoFrom",attrs:{model:e.appInfoFrom,rules:e.appInfoFromValidate,"label-width":120}},[a("FormItem",{attrs:{label:"应用名称",prop:"appName"}},[a("i-input",{attrs:{placeholder:"请输入应用名称"},model:{value:e.appInfoFrom.appName,callback:function(t){e.$set(e.appInfoFrom,"appName",t)},expression:"appInfoFrom.appName"}})],1),a("FormItem",{attrs:{label:"应用类型",prop:"appCategory"}},[a("Select",{attrs:{placeholder:"选择应用类型"},model:{value:e.appInfoFrom.appCategory,callback:function(t){e.$set(e.appInfoFrom,"appCategory",t)},expression:"appInfoFrom.appCategory"}},e._l(e.appCategoryEunmArr,function(t){return a("Option",{key:t.value,attrs:{value:t.value,disabled:t.disabled}},[e._v(e._s(t.label))])}),1)],1),e.notShowOnBasicApp()?a("FormItem",{attrs:{label:"API授权模式",prop:"authType"}},[a("Select",{attrs:{placeholder:"选择API授权模式"},model:{value:e.appInfoFrom.authType,callback:function(t){e.$set(e.appInfoFrom,"authType",t)},expression:"appInfoFrom.authType"}},e._l(e.authTypeEunmArr,function(t){return a("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.label))])}),1)],1):e._e(),e.showOnPrivateTokenAuthType()&&e.notShowOnBasicApp()?a("FormItem",{attrs:{label:"账号授权模式",prop:"loginType"}},[a("Select",{attrs:{placeholder:"账号选择登录模式"},model:{value:e.appInfoFrom.loginType,callback:function(t){e.$set(e.appInfoFrom,"loginType",t)},expression:"appInfoFrom.loginType"}},e._l(e.loginTypeEunmArr,function(t){return a("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.label))])}),1)],1):e._e(),e.notShowOnBasicApp()&&e.showOnSso()?a("FormItem",{attrs:{label:"SSO回调地址",prop:"oauthBaseUrl"}},[a("i-input",{attrs:{placeholder:"请输入SSO登陆成功回调地址"},model:{value:e.appInfoFrom.oauthBaseUrl,callback:function(t){e.$set(e.appInfoFrom,"oauthBaseUrl",t)},expression:"appInfoFrom.oauthBaseUrl"}})],1):e._e(),a("FormItem",{attrs:{label:"APP状态",prop:"appStatus"}},[a("Select",{attrs:{placeholder:"选择授权模式"},model:{value:e.appInfoFrom.appStatus,callback:function(t){e.$set(e.appInfoFrom,"appStatus",t)},expression:"appInfoFrom.appStatus"}},e._l(e.appStatusEunmArr,function(t){return a("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.label))])}),1)],1),e.showOnBasicApp()?a("FormItem",{attrs:{label:"PC端地址链接",prop:"pcPageUrl"}},[a("i-input",{attrs:{placeholder:"请输入PC端地址链接"},model:{value:e.appInfoFrom.pcPageUrl,callback:function(t){e.$set(e.appInfoFrom,"pcPageUrl",t)},expression:"appInfoFrom.pcPageUrl"}})],1):e._e(),e.showOnBasicApp()?a("FormItem",{attrs:{label:"PC端图标icon",prop:"pcMenuIcon"}},[a("i-input",{attrs:{placeholder:"请输入PC端图标icon"},model:{value:e.appInfoFrom.pcMenuIcon,callback:function(t){e.$set(e.appInfoFrom,"pcMenuIcon",t)},expression:"appInfoFrom.pcMenuIcon"}})],1):e._e(),e.showOnBasicApp()?a("FormItem",{attrs:{label:"PC端菜单排序",prop:"menuSort"}},[a("i-input",{attrs:{placeholder:"请输入PC端图标icon"},model:{value:e.appInfoFrom.menuSort,callback:function(t){e.$set(e.appInfoFrom,"menuSort",t)},expression:"appInfoFrom.menuSort"}})],1):e._e(),a("FormItem",[a("Button",{attrs:{type:"primary",disabled:e.globalButtonLoding},on:{click:function(t){e.handleSubmit("appInfoFrom")}}},[e._v("提交")]),a("Button",{staticStyle:{"margin-left":"8px"},on:{click:function(t){e.handleReset("appInfoFrom")}}},[e._v("重置")])],1)],1)],1)],1)],1)},It=[],yt={data:function(){return{routerPath:this.$route.path,loginTypeEunmArr:[{value:"0",label:"API (短信验证码登录注册/短信验证码登录/密码登录)"},{value:"1",label:"SSO (短信验证码登录)"},{value:"2",label:"SSO (密码登录)"}],authTypeEunmArr:[{value:"0",label:"授权码 (共享令牌)"},{value:"1",label:"私有令牌  (一设备一令牌 需要登录)"},{value:"2",label:"IP白名单+通行令牌 (管理后台模式)"},{value:"3",label:"私有免登陆令牌 (一设备一令牌 免登陆)"}],appStatusEunmArr:[{value:"0",label:"连接"},{value:"1",label:"断开"}],appCategoryEunmArr:[{value:"0",label:"基础应用"},{value:"1",label:"普通应用"}],appInfoFrom:{appName:"",appCategory:"",menuSort:0,authType:"",appStatus:"",pcPageUrl:"",pcMenuIcon:"",loginType:""},appInfoFromValidate:{appName:[{required:!0,message:"应用名不能为空",trigger:"blur"}],appStatus:[{required:!0,message:"应用状态不能为空",trigger:"blur"}],authType:[{required:!0,message:"API授权模式不能为空",trigger:"blur"}],loginType:[{required:!0,message:"账号授权模式不能为空",trigger:"blur"}],appCategory:[{required:!0,message:"应用分类不能为空",trigger:"change"}],pcPageUrl:[{required:!0,message:"请正确填写url格式",pattern:/^(http|ftp|https){1}[:]{1}[\/]{2}([0-9a-zA-Z]|[-]|[_])+\S+$/,trigger:"blur"}],oauthBaseUrl:[{required:!0,message:"请正确填写url格式",pattern:/^(http|ftp|https){1}[:]{1}[\/]{2}([0-9a-zA-Z]|[-]|[_])+\S+$/,trigger:"blur"}],menuSort:[{required:!0,message:"PC菜单排序值只能为4位数以内的数字",pattern:/^[0-9]{1,4}$/,trigger:"blur"}],pcMenuIcon:[{required:!0,message:"请填写标准的iview图标: https://www.iviewui.com/components/icon",pattern:/^\S+[-]{1}\S+$/,trigger:"blur"}]}}},computed:{breadcrumbList:function(){return this.utils.routerUtil.initRouterTreeNameArr(this.routerPath)},globalScreenLoding:function(){return this.$store.state.globalScreenLoding},globalButtonLoding:function(){return this.$store.state.globalButtonLoding}},methods:{handleSubmit:function(e){var t=this;this.$refs[e].validate(function(e){e?t.commitData():t.$Message.error("请完善表单信息!")})},handleReset:function(e){this.$refs[e].resetFields()},commitData:function(){var e=this;this.$store.commit("statusGlobalButtonLoding"),this.utils.netUtil.post(this.$store,this.API_PTAH.appInfoAdd,this.appInfoFrom,function(){e.$Message.success("提交成功!"),e.$store.commit("statusGlobalButtonLoding"),e.$router.push("/app-info-list")},function(){e.$store.commit("statusGlobalButtonLoding")})},showOnBasicApp:function(){return"0"===this.appInfoFrom.appCategory},notShowOnBasicApp:function(){return!this.showOnBasicApp()},showOnPrivateTokenAuthType:function(){return"1"===this.appInfoFrom.authType},showOnSso:function(){return"1"===this.appInfoFrom.loginType||"2"===this.appInfoFrom.loginType}}},Ft=yt,St=Object(d["a"])(Ft,bt,It,!1,null,null,null);St.options.__file="AppInfoAdd.vue";var At=St.exports,Nt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Row",[a("i-col",{staticClass:"bread-crumb",attrs:{span:"24"}},[a("Breadcrumb",e._l(e.breadcrumbList,function(t,r){return a("BreadcrumbItem",{key:r,attrs:{to:t.path}},[a("Icon",{attrs:{type:t.icon}}),e._v(" "+e._s(t.name)+"\n        ")],1)}),1)],1)],1),a("Divider"),a("Row",[a("i-col",{attrs:{span:"12",offset:"6"}},[a("Form",{ref:"appInfoFrom",attrs:{model:e.appInfoFrom,rules:e.fromValidate,"label-width":120}},[a("FormItem",{attrs:{label:"应用名称",prop:"appName"}},[a("i-input",{attrs:{placeholder:"请输入应用名称"},model:{value:e.appInfoFrom.appName,callback:function(t){e.$set(e.appInfoFrom,"appName",t)},expression:"appInfoFrom.appName"}})],1),a("FormItem",{attrs:{label:"应用类型",prop:"appCategory"}},[a("Select",{attrs:{placeholder:"选择应用类型   "},model:{value:e.appInfoFrom.appCategory,callback:function(t){e.$set(e.appInfoFrom,"appCategory",t)},expression:"appInfoFrom.appCategory"}},e._l(e.appCategoryEunmArr,function(t){return a("Option",{key:t.value,attrs:{value:t.value,disabled:t.disabled}},[e._v(e._s(t.label))])}),1)],1),a("FormItem",{attrs:{label:"应用状态",prop:"appStatus"}},[a("Select",{attrs:{placeholder:"请输入应用状态"},model:{value:e.appInfoFrom.appStatus,callback:function(t){e.$set(e.appInfoFrom,"appStatus",t)},expression:"appInfoFrom.appStatus"}},e._l(e.appStatusEunmArr,function(t){return a("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.label))])}),1)],1),e.notShowOnBasicApp()?a("FormItem",{attrs:{label:"API授权模式",prop:"authType"}},[a("Select",{attrs:{placeholder:"请输入API授权模式",disabled:""},model:{value:e.appInfoFrom.authType,callback:function(t){e.$set(e.appInfoFrom,"authType",t)},expression:"appInfoFrom.authType"}},e._l(e.authTypeEunmArr,function(t){return a("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.label))])}),1),a("ipWhiteList",{directives:[{name:"show",rawName:"v-show",value:e.showOnInnerApi(),expression:"showOnInnerApi()"}]}),a("unLoginAccessWhiteList",{directives:[{name:"show",rawName:"v-show",value:e.showOnPrivateTokenAuthType(),expression:"showOnPrivateTokenAuthType()"}],attrs:{"app-id":e.appInfoFrom.id}})],1):e._e(),e.showOnPrivateTokenAuthType()&&e.notShowOnBasicApp()?a("FormItem",{attrs:{label:"账号授权模式",prop:"loginType"}},[a("Select",{attrs:{placeholder:"选择账号授权模式"},model:{value:e.appInfoFrom.loginType,callback:function(t){e.$set(e.appInfoFrom,"loginType",t)},expression:"appInfoFrom.loginType"}},e._l(e.loginTypeEunmArr,function(t){return a("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.label))])}),1)],1):e._e(),e.notShowOnBasicApp()&&e.showOnSso()?a("FormItem",{attrs:{label:"SSO回调地址",prop:"oauthBaseUrl"}},[a("i-input",{attrs:{placeholder:"请输入SSO登陆成功回调地址"},model:{value:e.appInfoFrom.oauthBaseUrl,callback:function(t){e.$set(e.appInfoFrom,"oauthBaseUrl",t)},expression:"appInfoFrom.oauthBaseUrl"}})],1):e._e(),e.notShowOnBasicApp()?a("FormItem",{attrs:{label:"应用唯一ID",prop:"openId"}},[a("i-input",{attrs:{disabled:"",placeholder:"请输入创建时间"},model:{value:e.appInfoFrom.openId,callback:function(t){e.$set(e.appInfoFrom,"openId",t)},expression:"appInfoFrom.openId"}})],1):e._e(),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:e.showOnOpenApi(),expression:"showOnOpenApi()"}],attrs:{label:"应用秘钥",prop:"secret"}},[a("i-input",{attrs:{disabled:"",placeholder:"请输入应用秘钥"},model:{value:e.appInfoFrom.secret,callback:function(t){e.$set(e.appInfoFrom,"secret",t)},expression:"appInfoFrom.secret"}})],1),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:e.showOnInnerApi(),expression:"showOnInnerApi()"}],attrs:{label:"访问令牌",prop:"innerApiToken"}},[a("i-input",{attrs:{disabled:"",placeholder:"请输入访问令牌"},model:{value:e.appInfoFrom.innerApiToken,callback:function(t){e.$set(e.appInfoFrom,"innerApiToken",t)},expression:"appInfoFrom.innerApiToken"}})],1),e.showOnBasicApp()?a("FormItem",{attrs:{label:"PC端地址链接",prop:"pcPageUrl"}},[a("i-input",{attrs:{placeholder:"请输入PC端地址链接"},model:{value:e.appInfoFrom.pcPageUrl,callback:function(t){e.$set(e.appInfoFrom,"pcPageUrl",t)},expression:"appInfoFrom.pcPageUrl"}})],1):e._e(),e.showOnBasicApp()?a("FormItem",{attrs:{label:"PC端图标icon",prop:"pcMenuIcon"}},[a("i-input",{attrs:{placeholder:"请输入PC端图标icon"},model:{value:e.appInfoFrom.pcMenuIcon,callback:function(t){e.$set(e.appInfoFrom,"pcMenuIcon",t)},expression:"appInfoFrom.pcMenuIcon"}})],1):e._e(),e.showOnBasicApp()?a("FormItem",{attrs:{label:"PC端菜单排序",prop:"menuSort"}},[a("i-input",{attrs:{placeholder:"请输入PC端图标icon"},model:{value:e.appInfoFrom.menuSort,callback:function(t){e.$set(e.appInfoFrom,"menuSort",t)},expression:"appInfoFrom.menuSort"}})],1):e._e(),a("FormItem",{attrs:{label:"创建时间",prop:"createTime"}},[a("i-input",{attrs:{disabled:"",placeholder:"请输入创建时间"},model:{value:e.appInfoFrom.createTime,callback:function(t){e.$set(e.appInfoFrom,"createTime",t)},expression:"appInfoFrom.createTime"}})],1),a("FormItem",{attrs:{label:"\t修改时间",prop:"updateTime"}},[a("i-input",{attrs:{disabled:"",placeholder:"请输入修改时间"},model:{value:e.appInfoFrom.updateTime,callback:function(t){e.$set(e.appInfoFrom,"updateTime",t)},expression:"appInfoFrom.updateTime"}})],1),a("FormItem",{attrs:{label:"\t操作人",prop:"operatorName"}},[a("i-input",{attrs:{disabled:"",placeholder:"请输入操作人"},model:{value:e.appInfoFrom.operatorName,callback:function(t){e.$set(e.appInfoFrom,"operatorName",t)},expression:"appInfoFrom.operatorName"}})],1),a("FormItem",[a("Button",{attrs:{type:"primary",disabled:e.globalButtonLoding},on:{click:function(t){e.handleSubmit("appInfoFrom")}}},[e._v("提交")])],1)],1)],1)],1)],1)},Pt=[],$t=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a",{attrs:{type:"primary"},on:{click:function(t){e.showDataList()}}},[e._v("添加IP访问白名单")]),a("Drawer",{attrs:{title:"ip地址白名单",width:"512",closable:!1},model:{value:e.showDataListState,callback:function(t){e.showDataListState=t},expression:"showDataListState"}},[a("Button",{attrs:{type:"info"},on:{click:function(t){e.showAddFrom=!0}}},[e._v("新增")]),a("Divider"),a("Table",{attrs:{columns:e.columns,data:e.listData},scopedSlots:e._u([{key:"action",fn:function(t){var r=t.row,o=t.index;return[a("a",{on:{click:function(t){e.deleteData(r.id,o)}}},[e._v("删除")])]}}])})],1),a("Drawer",{attrs:{title:"新增白名单",closable:!1},on:{"on-close":e.onCloseAddView},model:{value:e.showAddFrom,callback:function(t){e.showAddFrom=t},expression:"showAddFrom"}},[a("Form",{ref:"addDataParam",attrs:{"label-width":80,rules:e.validateRule,model:e.addDataParam}},[a("FormItem",{attrs:{label:"ip地址",prop:"ipAddress"}},[a("i-input",{attrs:{placeholder:"请输入应用名称"},model:{value:e.addDataParam.ipAddress,callback:function(t){e.$set(e.addDataParam,"ipAddress",t)},expression:"addDataParam.ipAddress"}})],1),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:function(t){e.handleSubmit("addDataParam")}}},[e._v("提交")])],1)],1)],1)],1)},_t=[],wt={data:function(){return{paramData:{data:{ipAddress:""},page:{currentPage:1,pageSize:10},sort:{orderBy:"id",sort:"desc"}},addDataParam:{ipAddress:""},validateRule:{ipAddress:[{required:!0,pattern:/^(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])$/,message:"ip地址格式输入不正确",trigger:"blur"}]},showDataListState:!1,showAddFrom:!1,columns:[{title:"ip白名单",key:"ipAddress"},{title:"操作",slot:"action",width:250,align:"center"}],listData:[]}},mounted:function(){},methods:{handleSubmit:function(e){var t=this;this.$refs[e].validate(function(e){e?t.commitData():t.$Message.error("请完善表单信息!")})},showDataList:function(){this.showDataListState=!0,0==this.listData.length&&this.getDataList()},getDataList:function(){var e=this;this.utils.netUtil.post(this.$store,this.API_PTAH.ipWhtieListFind,this.paramData,function(t){e.listData=t.data.datas})},deleteData:function(e,t){var a=this;this.$Modal.confirm({title:"警告",content:"确认删除该条数据吗",onOk:function(){a.utils.netUtil.post(a.$store,a.API_PTAH.ipWhtieListDelete,{id:e},function(){a.listData.splice(t,1),a.$Message.success("删除成功!")})}})},commitData:function(){var e=this;this.utils.netUtil.post(this.$store,this.API_PTAH.ipWhtieListAdd,this.addDataParam,function(){e.addDataParam.ipAddress="",e.showAddFrom=!1,e.$Message.success("提交成功!"),e.getDataList()})},onCloseAddView:function(){this.addDataParam.ipAddress=""}}},Dt=wt,Lt=Object(d["a"])(Dt,$t,_t,!1,null,null,null);Lt.options.__file="ipWhiteList.vue";var kt=Lt.exports,Tt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a",{attrs:{type:"primary"},on:{click:function(t){e.showDataList()}}},[e._v("添加免登录访问接口白名单")]),a("Drawer",{attrs:{title:"免登录访问接口白名单",width:"512",closable:!1},model:{value:e.showDataListState,callback:function(t){e.showDataListState=t},expression:"showDataListState"}},[a("Button",{attrs:{type:"info"},on:{click:function(t){e.showAddFrom=!0}}},[e._v("新增")]),a("Divider"),a("Table",{attrs:{columns:e.columns,data:e.listData},scopedSlots:e._u([{key:"action",fn:function(t){var r=t.row,o=t.index;return[a("a",{on:{click:function(t){e.deleteData(r.id,o)}}},[e._v("删除")])]}}])})],1),a("Drawer",{attrs:{title:"新增免登录访问接口白名单",closable:!1},on:{"on-close":e.onCloseAddView},model:{value:e.showAddFrom,callback:function(t){e.showAddFrom=t},expression:"showAddFrom"}},[a("Form",{ref:"addDataParam",attrs:{"label-width":95,rules:e.validateRule,model:e.addDataParam}},[a("FormItem",{attrs:{label:"白名单接口",prop:"apiId"}},[a("Select",{ref:"ApiSelector",attrs:{model:e.addDataParam.apiId,placeholder:"搜索接口名称",filterable:"",remote:"","remote-method":e.queryApiByAppId,loading:e.apiOptionsLoading,clearable:!0},on:{"on-clear":e.clearSelectApi,"on-change":e.changeSelectApi}},e._l(e.apiOptions,function(t,r){return a("Option",{key:r,attrs:{value:t.apiId}},[e._v(e._s(t.apiName))])}),1)],1),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:function(t){e.handleSubmit("addDataParam")}}},[e._v("提交")])],1)],1)],1)],1)},Bt=[],xt={props:["appId"],data:function(){return{apiOptionsLoading:!1,apiOptions:[],paramData:{data:{apiId:"",apiName:"",apiPath:"",appId:this.appId},page:{currentPage:1,pageSize:10},sort:{orderBy:"id",sort:"desc"}},addDataParam:{apiId:"",apiName:"",apiPath:"",appId:this.appId},validateRule:{apiId:[{required:!0,message:"请搜索接口名称并选中",trigger:"change",type:"number"}]},showDataListState:!1,showAddFrom:!1,columns:[{title:"接口名称",key:"apiName"},{title:"操作",slot:"action",width:250,align:"center"}],listData:[]}},mounted:function(){},methods:{handleSubmit:function(e){var t=this;this.$refs[e].validate(function(e){e?t.commitData():t.$Message.error("请完善表单信息!")})},showDataList:function(){this.showDataListState=!0,0==this.listData.length&&this.getDataList()},getDataList:function(){var e=this;this.utils.netUtil.post(this.$store,this.API_PTAH.unLoginAccessWhiteListFind,this.paramData,function(t){e.listData=t.data.datas})},deleteData:function(e,t){var a=this;this.$Modal.confirm({title:"警告",content:"确认删除该条数据吗",onOk:function(){a.utils.netUtil.post(a.$store,a.API_PTAH.unLoginAccessWhiteListDelete,{id:e},function(){a.listData.splice(t,1),a.$Message.success("删除成功!")})}})},commitData:function(){var e=this;this.utils.netUtil.post(this.$store,this.API_PTAH.unLoginAccessWhiteListAdd,this.addDataParam,function(){e.showAddFrom=!1,e.$Message.success("提交成功!"),e.getDataList(),e.onCloseAddView()})},onCloseAddView:function(){this.clearSelectApi(),this.$refs.ApiSelector.clearSingleSelect()},changeSelectApi:function(e){var t=this;e&&this.apiOptions.map(function(a){a.apiId===e&&(t.addDataParam.apiId=e,t.addDataParam.apiName=a.apiName,t.addDataParam.apiPath=a.apiPath)})},queryApiByAppId:ut.a.debounce(function(e){var t=this;""!==e?(this.apiOptionsLoading=!0,this.apiOptions=[],this.utils.netUtil.post(this.$store,this.API_PTAH.unLoginAccessWhiteListFindUnBindingData,{data:{appId:this.appId,apiName:e}},function(e){t.apiOptionsLoading=!1,t.apiOptions=e.data.datas})):this.apiOptions=[]},500),clearSelectApi:function(){this.addDataParam.apiId="",this.addDataParam.apiName="",this.addDataParam.apiPath="",this.addDataParam.apiId="",this.apiOptions=[]}}},Mt=xt,Ot=Object(d["a"])(Mt,Tt,Bt,!1,null,null,null);Ot.options.__file="unLoginAccessWhiteList.vue";var Ct=Ot.exports,Ut={components:{ipWhiteList:kt,unLoginAccessWhiteList:Ct},props:{query:{userId:0}},data:function(){return{routerPath:this.$route.path,loginTypeEunmArr:[{value:"0",label:"API (短信验证码登录注册/短信验证码登录/密码登录)"},{value:"1",label:"SSO (短信验证码登录)"},{value:"2",label:"SSO (密码登录)"}],appCategoryEunmArr:[{value:"0",label:"基础应用"},{value:"1",label:"普通应用"}],authTypeEunmArr:[{value:"0",label:"授权码 (共享令牌)"},{value:"1",label:"私有令牌  (一设备一令牌 需要登录)"},{value:"2",label:"IP白名单+通行令牌 (管理后台模式)"},{value:"3",label:"私有免登陆令牌 (一设备一令牌 免登陆)"}],appStatusEunmArr:[{value:"0",label:"连接"},{value:"1",label:"断开"}],appInfoFrom:{id:this.$route.params.id,createTime:"",updateTime:"",operatorName:"",appName:"",authType:"",appStatus:"",appCategory:"",pcPageUrl:"",pcMenuIcon:"",oauthBaseUrl:"",menuSort:0,loginType:""},fromValidate:{loginType:[{required:!0,message:"登录模式不能为空",trigger:"blur"}],oauthBaseUrl:[{required:!0,message:"请正确填写url格式",pattern:/^(http|ftp|https){1}[:]{1}[\/]{2}([0-9a-zA-Z]|[-]|[_])+\S+$/,trigger:"blur"}],appName:[{required:!0,message:"应用名不能为空",trigger:"blur"}],appCategory:[{required:!0,message:"应用分类不能为空",trigger:"change"}],pcPageUrl:[{required:!0,message:"请正确填写url格式",pattern:/^(http|ftp|https){1}[:]{1}[\/]{2}([0-9a-zA-Z]|[-]|[_])+\S+$/,trigger:"blur"}],pcMenuIcon:[{required:!0,message:"请填写标准的iview图标: https://www.iviewui.com/components/icon",pattern:/^\S+[-]{1}\S+$/,trigger:"blur"}],menuSort:[{required:!0,message:"PC菜单排序值只能为4位数以内的数字",pattern:/^[0-9]{1,4}$/,trigger:"blur"}]}}},mounted:function(){this.loadData()},computed:{breadcrumbList:function(){return this.utils.routerUtil.initRouterTreeNameArr(this.routerPath)},globalScreenLoding:function(){return this.$store.state.globalScreenLoding},globalButtonLoding:function(){return this.$store.state.globalButtonLoding}},methods:{handleSubmit:function(e){var t=this;this.$refs[e].validate(function(e){e?t.commitData():t.$Message.error("请完善表单信息!")})},loadData:function(){var e=this;this.utils.netUtil.post(this.$store,this.API_PTAH.appInfoFindById,{data:this.appInfoFrom},function(t){e.appInfoFrom=t.data.datas})},commitData:function(){var e=this;this.$store.commit("statusGlobalButtonLoding"),this.appInfoFrom.id=this.$route.params.id,this.utils.netUtil.post(this.$store,this.API_PTAH.appInfoUpdate,this.appInfoFrom,function(){e.$Message.success("提交成功!"),e.$store.commit("statusGlobalButtonLoding"),e.$router.push("/app-info-list")},function(){e.$store.commit("statusGlobalButtonLoding")})},showOnOpenApi:function(){return"3"===this.appInfoFrom.authType||"1"===this.appInfoFrom.authType||"0"===this.appInfoFrom.authType},showOnPrivateTokenAuthType:function(){return"1"===this.appInfoFrom.authType},showOnInnerApi:function(){return"2"===this.appInfoFrom.authType},showOnBasicApp:function(){return"0"===this.appInfoFrom.appCategory},notShowOnBasicApp:function(){return!this.showOnBasicApp()},showOnSso:function(){return"1"===this.appInfoFrom.loginType||"2"===this.appInfoFrom.loginType}}},Rt=Ut,Et=Object(d["a"])(Rt,Nt,Pt,!1,null,null,null);Et.options.__file="AppInfoEditor.vue";var qt=Et.exports,zt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Row",[a("i-col",{attrs:{span:"2",offset:"10"}},[a("div",{staticClass:"err-info-box"},[a("P",{staticClass:"err-msg"},[e._v("访问权限检测中")]),a("img",{staticClass:"err-img",attrs:{src:e.errImg401}})],1)])],1)},Vt=[],Ht=a("fece"),Gt=a.n(Ht),jt={data:function(){return{errImg401:Gt.a}},computed:{isLogin:function(){return o()(this.$store.state.uagCurrentLoginUserInfo).length>0}},mounted:function(){var e=this,t=setInterval(function(){e.isLogin&&(clearInterval(t),e.$router.push("/"))})},methods:{}},Kt=jt,Zt=(a("d4f8"),Object(d["a"])(Kt,zt,Vt,!1,null,"31bbba0e",null));Zt.options.__file="ErrorCard.vue";var Wt=Zt.exports,Jt=a("8c4f");s["default"].use(Jt["a"]);var Qt={};Qt.routerPath=[{path:"",redirect:"/app-info-list"},{path:"/app-info-list",component:gt,icon:"ios-appstore",name:"应用列表"},{path:"/app-info-list/app-info-add",component:At,icon:"md-add-circle",name:"添加应用"},{path:"/app-info-list/app-info-editor/:id",component:qt,icon:"ios-brush",name:"编辑应用"},{path:"/upsteam-node-info-list",component:Ge,icon:"ios-leaf",name:"服务节点列表"},{path:"/upsteam-node-info-list/upsteam-node-info-add",component:Qe,icon:"md-add-circle",name:"添加服务节点"},{path:"/upsteam-node-info-list/upsteam-node-info-editor/:id",component:rt,icon:"ios-brush",name:"编辑服务节点"},{path:"/server-machine-node-info-list",component:_e,icon:"md-git-compare",name:"服务器节点列表"},{path:"/server-machine-node-info-list/server-machine-node-info-add",component:Be,icon:"md-add-circle",name:"新增服务器节点"},{path:"/server-machine-node-info-list/server-machine-node-info-editor/:id",component:Re,icon:"ios-brush",name:"编辑服务器节点"},{path:"/server-info-list",component:R,icon:"ios-globe",name:"服务列表"},{path:"/server-info-list/api-info-list/:sid",component:ue,icon:"ios-grid",name:"接口管理"},{path:"/server-info-list/api-info-list/api-info-add/:sid",component:fe,icon:"md-add-circle",name:"添加接口"},{path:"/server-info-list/api-info-list/api-info-editor/:sid/:id",component:Fe,icon:"ios-brush",name:"编辑接口"},{path:"/server-info-list/server-info-add",component:Q,icon:"md-add-circle",name:"添加服务"},{path:"/server-info-list/server-info-editor/:id",component:re,icon:"ios-brush",name:"编辑服务"},{path:"/err",component:Wt},{path:"",redirect:"/server-info-list"}],Qt.initRouterGenerate=new Jt["a"]({routes:Qt.routerPath});var Xt=Qt,Yt={initRouterTreeNameArr:function(e){var t=[],a=[];e.split("/").forEach(function(e){""!=e&&t.push("/"+e)}),t.pop(),t.push(e);var r=e;while(r.split("/").length-1>1)r=r.slice(0,r.lastIndexOf("/")),t.push(r);return t=B.removeEmptyValueInArray(t),Xt.routerPath.forEach(function(e){t.forEach(function(t){var r=!1;e.path.indexOf(":")>0&&e.path.slice(0,e.path.indexOf(":"))===t.slice(0,t.lastIndexOf("/")+1)&&(r=!0),e.path===t&&(r=!0),r&&a.push(e)})}),a},getPcUrlByRouterPath:function(e){var t="",a=JSON.parse(localStorage.menuArr);return a.map(function(a){a.path===e&&(t=a.pcUrl)}),t},getMenuListFromLocalRouterConfig:function(){var e=JSON.parse(localStorage.menuArr);return e.splice(0,1),e},initRouterNavBarActiveStatus:function(e){var t=[];return e.split("/").forEach(function(e){""!=e&&t.push("/"+e)}),t[0]}},ea=Yt,ta={serverInfoDelete:"/serverInfo/delete",serverInfoFind:"/serverInfo/find",serverInfoFindById:"/serverInfo/findById",serverInfoAdd:"/serverInfo/add",serverInfoUpdate:"/serverInfo/update",syncServerMachineNodeInfo:"/serverInfo/syncServerMachineNodeInfo",findServerByName:"/serverInfo/findServerByName",apiInfoFind:"/apiInfo/find",apiInfoAdd:"/apiInfo/add",apiInfoFindById:"/apiInfo/findById",apiInfoUpdate:"/apiInfo/update",apiInfoDelete:"/apiInfo/delete",findApiByAppId:"/apiInfo/findApiByAppId",findAppApiRelationshipByServerIdAndAppId:"/apiInfo/findAppApiRelationshipByServerIdAndAppId",serverMachineNodeInfoDelete:"/serverMachineNodeInfo/delete",serverMachineNodeInfoFind:"/serverMachineNodeInfo/find",serverMachineNodeInfoFindById:"/serverMachineNodeInfo/findById",serverMachineNodeInfoAdd:"/serverMachineNodeInfo/add",serverMachineNodeInfoUpdate:"/serverMachineNodeInfo/update",syncNginxNodeInfo:"/serverMachineNodeInfo/syncNginxNodeInfo",upSteamNodeInfoDelete:"/upSteamNodeInfo/delete",updateSelectedVersion:"/upSteamNodeInfo/updateSelectedVersion",upSteamNodeInfoFind:"/upSteamNodeInfo/find",upSteamNodeInfoFindById:"/upSteamNodeInfo/findById",upSteamNodeInfoAdd:"/upSteamNodeInfo/add",upSteamNodeInfoUpdate:"/upSteamNodeInfo/update",findVersionListByNodeName:"/upSteamNodeInfo/findVersionListByNodeName",setRunningStatusDownByDevOpsK8sNotificationVo:"/upSteamNodeInfo/setRunningStatusDownByDevOpsK8sNotificationVo",upSteamNameAdd:"/upSteamName/add",upSteamNameDelete:"/upSteamName/delete",upSteamNameFind:"/upSteamName/find",appInfoDelete:"/appInfo/delete",appInfoFind:"/appInfo/find",appInfoFindById:"/appInfo/findById",appInfoAdd:"/appInfo/add",appInfoUpdate:"/appInfo/update",bindingApi:"/appInfo/bindingApi",unBindingApi:"/appInfo/unBindingApi",syncAppApiRelationship:"/appInfo/syncAppApiRelationship",ipWhtieListAdd:"/ipWhtieList/add",ipWhtieListDelete:"/ipWhtieList/delete",ipWhtieListFind:"/ipWhtieList/find"};ta.ipWhtieListFind="/ipWhtieList/find",ta.unLoginAccessWhiteListFindUnBindingData="/unLoginAccessWhiteList/findUnBindingData",ta.unLoginAccessWhiteListAdd="/unLoginAccessWhiteList/add",ta.unLoginAccessWhiteListFind="/unLoginAccessWhiteList/find",ta.unLoginAccessWhiteListDelete="/unLoginAccessWhiteList/delete";var aa=ta,ra={sendAutoParentFrameSizeMsg:function(){setInterval(function(){var e=window.document.body.offsetHeight,t=window.location.host,a={subFrameHeight:e,subFrameHost:t};window.parent.postMessage(a,"*")},500)},getCurrentLoginUserInfo:function(e){window.addEventListener("message",function(t){"undefined"!=typeof t.data.loadCurrentLoginUserInfo&&e.commit("loadCurrentLoginUserInfo",t.data.loadCurrentLoginUserInfo)},!1)},reSizeParentFrameSize:function(e){window.addEventListener("message",function(t){var a=t.data.subFrameHeight;"undefined"!=typeof a&&(a="".concat(a,"px"),e.commit("reSizeFrameHeight",a));var r=t.data.subFrameHost;if("undefined"!=typeof r){var s=document.getElementsByTagName("iframe")[0],n=e.state.uagCurrentLoginUserInfo;0==o()(n).length?la.netUtil.post(aa.getCurrentUagLoginInfo,{},function(t){e.commit("loadCurrentLoginUserInfo",t.data.datas),s.contentWindow.postMessage({loadCurrentLoginUserInfo:e.state.uagCurrentLoginUserInfo},"*")}):s.contentWindow.postMessage({loadCurrentLoginUserInfo:e.state.uagCurrentLoginUserInfo},"*")}},!1)}},oa=ra,sa={initTableListRowClass:function(e){return 0==e?"":1!=e&&e%5!=0&&e%9!=0||e%2==0?e%3!=0&&e%7!=0||e%2==0?"":"table-error-row":"table-info-row"}},na=sa,ia={netUtil:L,objectUtil:B,frameUtil:oa,styleUtil:na,routerUtil:ea},la=ia,ua=a("2f62"),pa={globalButtonLoding:!1,globalScreenLoding:!1,uagCurrentLoginUserInfo:{}},ca=pa,da=(a("96cf"),a("3b8d")),ma={loadCurrentLoginUserInfo:function(){var e=Object(da["a"])(regeneratorRuntime.mark(function e(t,a){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:t.uagCurrentLoginUserInfo=a;case 1:case"end":return e.stop()}},e,this)}));function t(t,a){return e.apply(this,arguments)}return t}(),statusGlobalButtonLoding:function(){var e=Object(da["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:t.globalButtonLoding=!t.globalButtonLoding;case 1:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),statusGlobalScreenLoding:function(){var e=Object(da["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:t.globalScreenLoding=!t.globalScreenLoding;case 1:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},ha=ma;s["default"].use(ua["a"]);var fa={};fa.initsStoreInstance=new ua["a"].Store({state:ca,mutations:ha});var va=fa;s["default"].use(F.a),s["default"].config.productionTip=!1,la.vue=void 0,s["default"].prototype.utils=la,s["default"].prototype.API_PTAH=aa;var ga=Xt.initRouterGenerate,ba=va.initsStoreInstance;ga.beforeEach(function(e,t,a){"/err"!=e.path&&o()(ba.state.uagCurrentLoginUserInfo).length<=0&&a("/err"),a()}),new s["default"]({router:ga,store:ba,render:function(e){return e(I)}}).$mount("#app")},"743c":function(e,t,a){"use strict";var r=a("8851"),o=a.n(r);o.a},"7d3b":function(e,t,a){"use strict";var r=a("0229"),o=a.n(r);o.a},"871f":function(e,t,a){},8851:function(e,t,a){},"8b5e":function(e,t,a){},d4f8:function(e,t,a){"use strict";var r=a("871f"),o=a.n(r);o.a},fece:function(e,t,a){e.exports=a.p+"img/401.294359d7.png"}});
//# sourceMappingURL=app.efcd581f.js.map